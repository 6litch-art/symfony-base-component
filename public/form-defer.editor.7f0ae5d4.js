/*! For license information please see form-defer.editor.7f0ae5d4.js.LICENSE.txt */
(()=>{var e={59536:e=>{window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=4)}([function(e,t,o){var n=o(1),i=o(2);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]),n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},r=function(){var e={};return function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}e[t]=o}return e[t]}}(),s=[];function a(e){for(var t=-1,o=0;o<s.length;o++)if(s[o].identifier===e){t=o;break}return t}function l(e,t){for(var o={},n=[],i=0;i<e.length;i++){var r=e[i],l=t.base?r[0]+t.base:r[0],c=o[l]||0,d="".concat(l," ").concat(c);o[l]=c+1;var h=a(d),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==h?(s[h].references++,s[h].updater(u)):s.push({identifier:d,updater:m(u,t),references:1}),n.push(d)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=o.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,h=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,o,n){var i=o?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=h(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function p(e,t,o){var n=o.css,i=o.media,r=o.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,g=0;function m(e,t){var o,n,i;if(t.singleton){var r=g++;o=f||(f=c(t)),n=u.bind(null,o,r,!1),i=u.bind(null,o,r,!0)}else o=c(t),n=p.bind(null,o,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var o=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<o.length;n++){var i=a(o[n]);s[i].references--}for(var r=l(e,t),c=0;c<o.length;c++){var d=a(o[c]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}o=r}}}},function(e,t,o){(t=o(3)(!1)).push([e.i,".cdx-underline {\n    text-decoration: underline;\n}\n",""]),e.exports=t},function(e,t,o){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o,n,i,r=e[1]||"",s=e[3];if(!s)return r;if(t&&"function"==typeof btoa){var a=(o=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(i," */")),l=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[r].concat(l).concat([a]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(o,"}"):o})).join("")},t.i=function(e,o,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&i[l[0]]||(o&&(l[2]?l[2]="".concat(o," and ").concat(l[2]):l[2]=o),t.push(l))}},t}},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=void 0,r=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var i=o.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i.key,"string"),"symbol"===n(r)?r:String(r)),i)}var r}o.r(t),o.d(t,"default",(function(){return r})),o(0);var r=function(){function e(t){var o=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.button=null,this.tag="U",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}var t,o,n;return t=e,n=[{key:"CSS",get:function(){return"cdx-underline"}},{key:"isInline",get:function(){return!0}},{key:"sanitize",get:function(){return{u:{class:e.CSS}}}}],(o=[{key:"render",value:function(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}},{key:"surround",value:function(t){if(t){var o=this.api.selection.findParentTag(this.tag,e.CSS);o?this.unwrap(o):this.wrap(t)}}},{key:"wrap",value:function(t){var o=document.createElement(this.tag);o.classList.add(e.CSS),o.appendChild(t.extractContents()),t.insertNode(o),this.api.selection.expandToTag(o)}},{key:"unwrap",value:function(e){this.api.selection.expandToTag(e);var t=window.getSelection(),o=t.getRangeAt(0),n=o.extractContents();e.parentNode.removeChild(e),o.insertNode(n),t.removeAllRanges(),t.addRange(o)}},{key:"checkState",value:function(){var t=this.api.selection.findParentTag(this.tag,e.CSS);this.button.classList.toggle(this.iconClasses.active,!!t)}},{key:"toolboxIcon",get:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7.5V11.5C9 12.2956 9.31607 13.0587 9.87868 13.6213C10.4413 14.1839 11.2044 14.5 12 14.5C12.7956 14.5 13.5587 14.1839 14.1213 13.6213C14.6839 13.0587 15 12.2956 15 11.5V7.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7.71429 18H16.2857"/></svg>'}}])&&i(t.prototype,o),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()}]).default},52116:e=>{var t;self,t=()=>(()=>{var e={800:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(81),i=o.n(n),r=o(645),s=o.n(r)()(i());s.push([e.id,".cdx-alert{position:relative;padding:10px;border-radius:5px;margin-bottom:10px}.cdx-alert-primary{background-color:#ebf8ff;border:1px solid #4299e1;color:#2b6cb0}.cdx-alert-secondary{background-color:#f7fafc;border:1px solid #cbd5e0;color:#222731}.cdx-alert-info{background-color:#e6fdff;border:1px solid #4cd4ce;color:#00727c}.cdx-alert-success{background-color:#f0fff4;border:1px solid #68d391;color:#2f855a}.cdx-alert-warning{background-color:#fffaf0;border:1px solid #ed8936;color:#c05621}.cdx-alert-danger{background-color:#fff5f5;border:1px solid #fc8181;color:#c53030}.cdx-alert-light{background-color:#fff;border:1px solid #edf2f7;color:#1a202c}.cdx-alert-dark{background-color:#2d3748;border:1px solid #1a202c;color:#d3d3d3}.cdx-alert-align-left{text-align:left}.cdx-alert-align-center{text-align:center}.cdx-alert-align-right{text-align:right}.cdx-alert__message{outline:none}.cdx-alert [contentEditable=true][data-placeholder]::before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:normal;opacity:0}.cdx-alert [contentEditable=true][data-placeholder]:empty::before{opacity:1}.cdx-alert [contentEditable=true][data-placeholder]:empty:focus::before{opacity:0}.ce-popover__item[data-item-name=alert-primary] .ce-popover__item-icon svg #background{fill:#ebf8ff;stroke:#4299e1}.ce-popover__item[data-item-name=alert-primary] .ce-popover__item-icon svg #content{fill:#2b6cb0}.ce-popover__item[data-item-name=alert-secondary] .ce-popover__item-icon svg #background{fill:#f7fafc;stroke:#cbd5e0}.ce-popover__item[data-item-name=alert-secondary] .ce-popover__item-icon svg #content{fill:#222731}.ce-popover__item[data-item-name=alert-info] .ce-popover__item-icon svg #background{fill:#e6fdff;stroke:#4cd4ce}.ce-popover__item[data-item-name=alert-info] .ce-popover__item-icon svg #content{fill:#00727c}.ce-popover__item[data-item-name=alert-success] .ce-popover__item-icon svg #background{fill:#f0fff4;stroke:#68d391}.ce-popover__item[data-item-name=alert-success] .ce-popover__item-icon svg #content{fill:#2f855a}.ce-popover__item[data-item-name=alert-warning] .ce-popover__item-icon svg #background{fill:#fffaf0;stroke:#ed8936}.ce-popover__item[data-item-name=alert-warning] .ce-popover__item-icon svg #content{fill:#c05621}.ce-popover__item[data-item-name=alert-danger] .ce-popover__item-icon svg #background{fill:#fff5f5;stroke:#fc8181}.ce-popover__item[data-item-name=alert-danger] .ce-popover__item-icon svg #content{fill:#c53030}.ce-popover__item[data-item-name=alert-light] .ce-popover__item-icon svg #background{fill:#fff;stroke:#edf2f7}.ce-popover__item[data-item-name=alert-light] .ce-popover__item-icon svg #content{fill:#1a202c}.ce-popover__item[data-item-name=alert-dark] .ce-popover__item-icon svg #background{fill:#2d3748;stroke:#1a202c}.ce-popover__item[data-item-name=alert-dark] .ce-popover__item-icon svg #content{fill:#d3d3d3}",""]);const a=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},620:(e,t,o)=>{"use strict";var n=o(379),i=o.n(n),r=o(795),s=o.n(r),a=o(569),l=o.n(a),c=o(565),d=o.n(c),h=o(216),u=o.n(h),p=o(589),f=o.n(p),g=o(800),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=u(),i()(g.Z,m),g.Z&&g.Z.locals&&g.Z.locals},379:e=>{"use strict";var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=n.base?l[0]+n.base:l[0],d=r[c]||0,h="".concat(c," ").concat(d);r[c]=d+1;var u=o(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=i(p,n);n.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function i(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,i){var r=n(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=o(r[s]);t[a].references--}for(var l=n(e,i),c=0;c<r.length;c++){var d=o(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},569:e=>{"use strict";var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,o)=>{"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var i=void 0!==o.layer;i&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,i&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},749:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"></path></svg>'},454:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"></path></svg>'},431:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 7L7 7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17H7"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 12L11 12"></path></svg>'},654:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5 12a7 7 90 0 1 14 0 7 7 90 0 1-14 0zM12 9.02v-.01M12 12v3"></path></svg>'},338:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect id="background" width="18" height="18" x="3" y="3" fill="none" stroke="currentColor" stroke-width="1" rx="4"></rect><path id="content" fill="currentColor" stroke-width="0" d="m15.579 16.9-1.042-2.25H10.15L9.11 16.9H7.113L11.697 7h1.266l4.612 9.9h-1.998Zm-4.613-4.05h2.755l-1.377-2.953-1.379 2.953Z"></path></svg>'}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var n={};return(()=>{"use strict";o.d(n,{default:()=>w});var e=o(654),t=o.n(e),i=o(338),r=o.n(i),s=o(454),a=o.n(s),l=o(749),c=o.n(l),d=o(431),h=o.n(d);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?p(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return(t=y(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function b(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}o(620).toString();var w=function(){function e(t){var o=t.data,n=t.config,i=t.api,r=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=i,this.defaultType=n.defaultType||e.DEFAULT_TYPE,this.defaultAlign=n.defaultAlign||e.DEFAULT_ALIGN_TYPE,this.messagePlaceholder=n.messagePlaceholder||e.DEFAULT_MESSAGE_PLACEHOLDER,this.data={type:e.ALERT_TYPES.includes(o.type)?o.type:this.defaultType,align:e.ALIGN_TYPES.includes(o.align)?o.align:this.defaultAlign,message:o.message||""},this.container=void 0,this.readOnly=r}var o,n,i;return o=e,n=[{key:"CSS",get:function(){return{wrapper:"cdx-alert",wrapperForType:function(e){return"cdx-alert-".concat(e)},wrapperForAlignType:function(e){return"cdx-alert-align-".concat(e)},message:"cdx-alert__message"}}},{key:"render",value:function(){var e=[this.CSS.wrapper,this.CSS.wrapperForType(this.data.type),this.CSS.wrapperForAlignType(this.data.align)];this.container=this._make("div",e);var t=this._make("div",[this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return t.dataset.placeholder=this.messagePlaceholder,this.container.appendChild(t),this.container}},{key:"renderSettings",value:function(){var t=this,o=e.ALERT_TYPES.map((function(e){return{icon:r(),name:"alert-".concat(e),label:t._getFormattedName(e),toggle:"alert",isActive:t.data.type===e,onActivate:function(){t._changeAlertType(e)}}})),n=e.ALIGN_TYPES.map((function(e){return{icon:"left"==e?a():"center"==e?c():"right"==e?h():IconAlign_left,name:"align-".concat(e),label:t._getFormattedName(e),toggle:"align",isActive:t.data.align===e,onActivate:function(){t._changeAlignType(e)}}}));return[].concat(m(o),m(n))}},{key:"_getFormattedName",value:function(e){return this.api.i18n.t(e.charAt(0).toUpperCase()+e.slice(1))}},{key:"_changeAlertType",value:function(t){var o=this;this.data.type=t,e.ALERT_TYPES.forEach((function(e){var n=o.CSS.wrapperForType(e);o.container.classList.remove(n),t===e&&o.container.classList.add(n)}))}},{key:"_changeAlignType",value:function(t){var o=this;this.data.align=t,e.ALIGN_TYPES.forEach((function(e){var n=o.CSS.wrapperForAlignType(e);o.container.classList.remove(n),t===e&&o.container.classList.add(n)}))}},{key:"save",value:function(e){var t=e.querySelector(".".concat(this.CSS.message));return f(f({},this.data),{},{message:t.innerHTML})}},{key:"_make",value:function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(e);for(var r in Array.isArray(o)?(t=i.classList).add.apply(t,m(o)):o&&i.classList.add(o),n)i[r]=n[r];return i}},{key:"onPaste",value:function(e){var t=e.detail.data;this.data={type:this.defaultType,message:t.innerHTML||""}}}],i=[{key:"toolbox",get:function(){return{icon:t(),title:"Alert"}}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_TYPE",get:function(){return"info"}},{key:"DEFAULT_ALIGN_TYPE",get:function(){return"left"}},{key:"DEFAULT_MESSAGE_PLACEHOLDER",get:function(){return"Type here..."}},{key:"ALERT_TYPES",get:function(){return["primary","secondary","info","success","warning","danger","light","dark"]}},{key:"ALIGN_TYPES",get:function(){return["left","center","right"]}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"conversionConfig",get:function(){var e=this;return{export:function(e){return e.message},import:function(t){return{message:t,type:e.DEFAULT_TYPE,alignType:e.DEFAULT_ALIGN_TYPE}}}}},{key:"sanitize",get:function(){return{message:!0,type:!1,alignType:!1}}}],n&&b(o.prototype,n),i&&b(o,i),Object.defineProperty(o,"prototype",{writable:!1}),e}()})(),n.default})(),e.exports=t()},9836:e=>{var t;self,t=()=>(()=>{"use strict";var e,t,o={7192:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(7537),i=o.n(n),r=o(3645),s=o.n(r)()(i());s.push([e.id,"@import url(https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css);"]),s.push([e.id,".editorjs-code-block{margin:10px 0 10px 0;box-sizing:border-box;width:100%;position:relative}.editorjs-code-block *{box-sizing:border-box}.editorjs-code-block .control-container{padding:10px;padding-bottom:0;display:flex;justify-content:space-between;background-color:#f3f3f3;border-radius:5px 5px 0 0}.editorjs-code-block .control-container .editorjs-code-language-select{position:relative}.editorjs-code-block .control-container .editorjs-code-language-select *{font-size:12px;font-family:Arial,Helvetica,sans-serif}.editorjs-code-block .control-container .editorjs-code-language-select select{display:none}.editorjs-code-block .control-container .editorjs-code-language-select .select-selected{background-color:rgba(0,0,0,0);padding:5px 20px 5px 10px;transition:background-color .2s;width:fit-content;border-radius:5px;cursor:pointer;position:relative}.editorjs-code-block .control-container .editorjs-code-language-select .select-selected:hover{background-color:rgba(0,0,0,.5)}.editorjs-code-block .control-container .editorjs-code-language-select .select-selected .arrow-icon{position:absolute;width:10px;height:10px;right:5px;top:6px;transition:transform .2s}.editorjs-code-block .control-container .editorjs-code-language-select .select-selected.select-arrow-active .arrow-icon{transform:rotateZ(180deg)}.editorjs-code-block .control-container .editorjs-code-language-select .select-items{padding:5px;height:auto;background-color:#292929;width:fit-content;border-radius:5px;margin-top:5px;position:absolute;z-index:5}.editorjs-code-block .control-container .editorjs-code-language-select .select-items .search-input{margin:5px;padding:5px;background-color:#5c5c5c;border:0;outline:0;border-radius:2px;color:#fff}.editorjs-code-block .control-container .editorjs-code-language-select .select-items .items-list{max-height:300px;overflow-y:auto}.editorjs-code-block .control-container .editorjs-code-language-select .select-items .items-list div{color:#fff;cursor:pointer;padding:5px 10px 5px 10px;margin:5px 0 5px 0;border-radius:5px;background-color:#292929;transition:background-color .2s}.editorjs-code-block .control-container .editorjs-code-language-select .select-items .items-list .same-as-selected,.editorjs-code-block .control-container .editorjs-code-language-select .select-items .items-list div:hover{background-color:#434343}.editorjs-code-block .control-container .editorjs-code-language-select .select-hide{display:none}.editorjs-code-block .control-container .language{font-size:12px;font-family:Arial,Helvetica,sans-serif;margin:5px}.editorjs-code-block .control-container .btn-div .control-btn{padding:5px 10px 5px 10px;border:1px solid #000;cursor:pointer;font-size:12px}.editorjs-code-block .control-container .btn-div .control-btn:hover{background-color:rgba(46,46,46,.2)}.editorjs-code-block .control-container .btn-div .copy-btn{border-radius:5px 0 0 5px}.editorjs-code-block .control-container .btn-div .copy-btn .copy-icon{width:10px;height:10px}.editorjs-code-block .control-container .btn-div .copy-btn.copy-btn-only{border-radius:5px}.editorjs-code-block .control-container .btn-div .caption-btn{border-radius:0 5px 5px 0;border-left:0}.editorjs-code-block .content-container{position:relative;background-color:#f3f3f3;border-radius:0 0 5px 5px}.editorjs-code-block .content-container .rendered-layer{position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;border:0}.editorjs-code-block .content-container .rendered-layer pre{margin:0;white-space:pre-wrap;word-wrap:break-word}.editorjs-code-block .content-container .rendered-layer pre code{font-size:14px;padding:20px;padding-top:5px;border-radius:5px 5px 0 0;line-height:2}.editorjs-code-block .content-container .input-layer{position:relative;z-index:1;color:rgba(0,0,0,0);background:rgba(0,0,0,0);caret-color:#000;border:0;padding:20px;padding-top:5px;width:100%;resize:none;overflow:hidden;min-height:150px;outline:0}.editorjs-code-block .content-container .input-layer::selection{background-color:rgba(212,236,255,.5)}.editorjs-code-block .content-container .input-layer::-moz-selection{background-color:rgba(212,236,255,.5)}.editorjs-code-block .content-container .input-layer,.editorjs-code-block .content-container .rendered-layer,.editorjs-code-block .content-container .rendered-layer *{font-size:14px;font-family:monospace;tab-size:2;line-height:2}.editorjs-code-block .caption-input{border:0;outline:0;margin-top:5px;width:100%;color:gray;background-color:rgba(0,0,0,0)}","",{version:3,sources:["webpack://./src/style.scss"],names:[],mappings:"AAEA,qBACE,oBAAA,CACA,qBAAA,CAMA,UAAA,CACA,iBAAA,CALA,uBACE,qBAAA,CAMF,wCACE,YAAA,CACA,gBAAA,CACA,YAAA,CACA,6BAAA,CACA,wBAAA,CACA,yBAAA,CAEA,uEACE,iBAAA,CAEA,yEACE,cAAA,CACA,sCAAA,CAGF,8EACE,YAAA,CAGF,wFACE,8BAAA,CACA,yBAAA,CACA,+BAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CAEA,8FACE,+BAAA,CAGF,oGACE,iBAAA,CACA,UAAA,CACA,WAAA,CACA,SAAA,CACA,OAAA,CACA,wBAAA,CAIA,wHACE,yBAAA,CAKN,qFACE,WAAA,CACA,WAAA,CACA,wBAAA,CACA,iBAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,SAAA,CAEA,mGACE,UAAA,CACA,WAAA,CACA,wBAAA,CACA,QAAA,CACA,SAAA,CACA,iBAAA,CACA,UAAA,CAGF,iGACE,gBAAA,CACA,eAAA,CAEA,qGACE,UAAA,CACA,cAAA,CACA,yBAAA,CACA,kBAAA,CACA,iBAAA,CACA,wBAAA,CACA,+BAAA,CAGF,8NAEE,wBAAA,CAKN,oFACE,YAAA,CAIJ,kDACE,cAAA,CACA,sCAAA,CACA,UAAA,CAIA,8DACE,yBAAA,CACA,qBAAA,CACA,cAAA,CACA,cAAA,CAEA,oEACE,kCAAA,CAIJ,2DACE,yBAAA,CAEA,sEACE,UAAA,CACA,WAAA,CAGF,yEACE,iBAAA,CAIJ,8DACE,yBAAA,CACA,aAAA,CAKN,wCACE,iBAAA,CACA,wBAAA,CACA,yBAAA,CAEA,wDACE,iBAAA,CACA,SAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,QAAA,CACA,QAAA,CAEA,4DACE,QAAA,CACA,oBAAA,CACA,oBAAA,CAEA,iEACE,cAAA,CACA,YAAA,CACA,eAAA,CACA,yBAAA,CACA,aAAA,CAKN,qDACE,iBAAA,CACA,SAAA,CAEA,mBAAA,CACA,wBAAA,CACA,gBAAA,CACA,QAAA,CAEA,YAAA,CACA,eAAA,CAEA,UAAA,CAEA,WAAA,CACA,eAAA,CACA,gBAAA,CAEA,SAAA,CAEA,gEACE,qCAAA,CAGF,qEACE,qCAAA,CAIJ,uKAGE,cAAA,CACA,qBAAA,CACA,UAAA,CACA,aAAA,CAIJ,oCACE,QAAA,CACA,SAAA,CACA,cAAA,CACA,UAAA,CACA,UAAA,CACA,8BAAA",sourcesContent:["@import url('https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css');\n\n.editorjs-code-block {\n  margin: 10px 0 10px 0;\n  box-sizing: border-box;\n\n  * {\n    box-sizing: border-box;\n  }\n\n  width: 100%;\n  position: relative;\n\n  .control-container {\n    padding: 10px;\n    padding-bottom: 0;\n    display: flex;\n    justify-content: space-between;\n    background-color: #f3f3f3;\n    border-radius: 5px 5px 0 0;\n\n    .editorjs-code-language-select {\n      position: relative;\n\n      & * {\n        font-size: 12px;\n        font-family: Arial, Helvetica, sans-serif;\n      }\n\n      select {\n        display: none;\n      }\n\n      .select-selected {\n        background-color: transparent;\n        padding: 5px 20px 5px 10px;\n        transition: background-color 0.2s;\n        width: fit-content;\n        border-radius: 5px;\n        cursor: pointer;\n        position: relative;\n\n        &:hover {\n          background-color: rgba($color: #000000, $alpha: 0.5);\n        }\n\n        .arrow-icon {\n          position: absolute;\n          width: 10px;\n          height: 10px;\n          right: 5px;\n          top: 6px;\n          transition: transform 0.2s;\n        }\n\n        &.select-arrow-active {\n          .arrow-icon {\n            transform: rotateZ(180deg);\n          }\n        }\n      }\n\n      .select-items {\n        padding: 5px;\n        height: auto;\n        background-color: #292929;\n        width: fit-content;\n        border-radius: 5px;\n        margin-top: 5px;\n        position: absolute;\n        z-index: 5;\n\n        .search-input {\n          margin: 5px;\n          padding: 5px;\n          background-color: lighten($color: #292929, $amount: 20%);\n          border: 0;\n          outline: 0;\n          border-radius: 2px;\n          color: white;\n        }\n\n        .items-list {\n          max-height: 300px;\n          overflow-y: auto;\n\n          div {\n            color: white;\n            cursor: pointer;\n            padding: 5px 10px 5px 10px;\n            margin: 5px 0 5px 0;\n            border-radius: 5px;\n            background-color: #292929;\n            transition: background-color 0.2s;\n          }\n\n          .same-as-selected,\n          div:hover {\n            background-color: lighten(#292929, 10%);\n          }\n        }\n      }\n\n      .select-hide {\n        display: none;\n      }\n    }\n\n    .language {\n      font-size: 12px;\n      font-family: Arial, Helvetica, sans-serif;\n      margin: 5px;\n    }\n\n    .btn-div {\n      .control-btn {\n        padding: 5px 10px 5px 10px;\n        border: 1px solid black;\n        cursor: pointer;\n        font-size: 12px;\n\n        &:hover {\n          background-color: rgba(46, 46, 46, 0.2);\n        }\n      }\n\n      .copy-btn {\n        border-radius: 5px 0 0 5px;\n\n        .copy-icon {\n          width: 10px;\n          height: 10px;\n        }\n\n        &.copy-btn-only {\n          border-radius: 5px;\n        }\n      }\n\n      .caption-btn {\n        border-radius: 0 5px 5px 0;\n        border-left: 0;\n      }\n    }\n  }\n\n  .content-container {\n    position: relative;\n    background-color: #f3f3f3;\n    border-radius: 0 0 5px 5px;\n\n    .rendered-layer {\n      position: absolute;\n      z-index: 0;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      border: 0;\n\n      pre {\n        margin: 0;\n        white-space: pre-wrap;\n        word-wrap: break-word;\n\n        code {\n          font-size: 14px;\n          padding: 20px;\n          padding-top: 5px;\n          border-radius: 5px 5px 0 0;\n          line-height: 2;\n        }\n      }\n    }\n\n    .input-layer {\n      position: relative;\n      z-index: 1;\n\n      color: transparent;\n      background: transparent;\n      caret-color: black;\n      border: 0;\n\n      padding: 20px;\n      padding-top: 5px;\n\n      width: 100%;\n\n      resize: none;\n      overflow: hidden;\n      min-height: 150px;\n\n      outline: 0;\n\n      &::selection {\n        background-color: rgba(212, 236, 255, 0.5);\n      }\n\n      &::-moz-selection {\n        background-color: rgba(212, 236, 255, 0.5);\n      }\n    }\n\n    .input-layer,\n    .rendered-layer,\n    .rendered-layer * {\n      font-size: 14px;\n      font-family: monospace;\n      tab-size: 2;\n      line-height: 2;\n    }\n  }\n\n  .caption-input {\n    border: 0;\n    outline: 0;\n    margin-top: 5px;\n    width: 100%;\n    color: gray;\n    background-color: transparent;\n  }\n}\n"],sourceRoot:""}]);const a=s},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},7537:e=>{e.exports=function(e){var t=e[1],o=e[3];if(!o)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),r="/*# ".concat(i," */");return[t].concat([r]).join("\n")}return[t].join("\n")}},3379:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=n.base?l[0]+n.base:l[0],d=r[c]||0,h="".concat(c," ").concat(d);r[c]=d+1;var u=o(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var f=i(p,n);n.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}s.push(h)}return s}function i(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,i){var r=n(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=o(r[s]);t[a].references--}for(var l=n(e,i),c=0;c<r.length;c++){var d=o(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},569:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var i=void 0!==o.layer;i&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,i&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var r=o.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,exports:{}};return o[e](r,r.exports,i),r.exports}i.m=o,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,o)=>(i.f[o](e,t),t)),[])),i.u=e=>e+".bundle.js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="CodeTool:",i.l=(o,n,r,s)=>{if(e[o])e[o].push(n);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==o||h.getAttribute("data-webpack")==t+r){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+r),a.src=o),e[o]=[n];var u=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),l&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={179:0};i.f.j=(t,o)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise(((o,i)=>n=e[t]=[o,i]));o.push(n[2]=r);var s=i.p+i.u(t),a=new Error;i.l(s,(o=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,n[1](a)}}),"chunk-"+t,t)}};var t=(t,o)=>{var n,r,[s,a,l]=o,c=0;if(s.some((t=>0!==e[t]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);l&&l(i)}for(t&&t(o);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=self.webpackChunkCodeTool=self.webpackChunkCodeTool||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),i.nc=void 0;var r={};return(()=>{i.d(r,{default:()=>C});var e=i(3379),t=i.n(e),o=i(7795),n=i.n(o),s=i(569),a=i.n(s),l=i(3565),c=i.n(l),d=i(9216),h=i.n(d),u=i(4589),p=i.n(u),f=i(7192),g={};function m(e,t,o){var n;if(!document)throw new Error("No document instance found!");var i=document.createElement(e);if(t&&(Array.isArray(t)?(n=i.classList).add.apply(n,t):i.classList.add(t)),o)for(var r=0,s=Object.keys(o);r<s.length;r++){var a=s[r];i.setAttribute(a,o[a])}return i}function v(e){for(var t=document.querySelectorAll(".editorjs-code-language-select .select-items"),o=document.querySelectorAll(".editorjs-code-language-select .select-selected"),n=[],i=0;i<o.length;++i)e===o[i]?n.push(i):o[i].classList.remove("select-arrow-active");for(i=0;i<t.length;++i)n.indexOf(i)&&t[i].classList.add("select-hide")}g.styleTagTransform=p(),g.setAttributes=c(),g.insert=a().bind(null,"head"),g.domAPI=n(),g.insertStyleElement=h(),t()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals,document.addEventListener("click",(function(){v()}));var b=function(e){return o=function(){var t,o,n;return function(e,t){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(i){switch(i.label){case 0:if(!document)throw new Error("Trying to access document from node environment");if(!navigator.clipboard){(t=document.createElement("textarea")).value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{return o=document.execCommand("copy"),n=o?"successful":"unsuccessful",console.log("Fallback: Copying text command was "+n),[2,o]}catch(e){console.error("Unable to copy",e)}return[2,!1]}return[4,navigator.clipboard.writeText(e).then((function(){return!0})).catch((function(e){return console.error("Async: unable to copy",e),!1}))];case 1:return[2,i.sent()]}}))},new((t=void 0)||(t=Promise))((function(e,n){function i(e){try{s(o.next(e))}catch(e){n(e)}}function r(e){try{s(o.throw(e))}catch(e){n(e)}}function s(o){var n;o.done?e(o.value):(n=o.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,r)}s((o=o.apply(void 0,[])).next())}));var t,o},y=[{label:"1C",value:"1c"},{label:"4D",value:"4d"},{label:"ABAP",value:"sap-abap"},{label:"ABNF",value:"abnf"},{label:"Access logs",value:"accesslog"},{label:"Ada",value:"ada"},{label:"Apex",value:"apex"},{label:"Arduino",value:"arduino"},{label:"ARM assembler",value:"armasm"},{label:"AVR assembler",value:"avrasm"},{label:"ActionScript",value:"actionscript"},{label:"Alan IF",value:"alan"},{label:"Alan",value:"ln"},{label:"AngelScript",value:"angelscript"},{label:"Apache",value:"apache"},{label:"AppleScript",value:"applescript"},{label:"Arcade",value:"arcade"},{label:"AsciiDoc",value:"asciidoc"},{label:"AspectJ",value:"aspectj"},{label:"AutoHotkey",value:"autohotkey"},{label:"AutoIt",value:"autoit"},{label:"Awk",value:"awk"},{label:"Bash",value:"bash"},{label:"Basic",value:"basic"},{label:"BBCode",value:"bbcode"},{label:"Blade (Laravel)",value:"blade"},{label:"BNF",value:"bnf"},{label:"Brainfuck",value:"brainfuck"},{label:"C#",value:"csharp"},{label:"C",value:"c"},{label:"C++",value:"cpp"},{label:"C/AL",value:"cal"},{label:"Cache Object Script",value:"cos"},{label:"CMake",value:"cmake"},{label:"COBOL",value:"cobol"},{label:"Coq",value:"coq"},{label:"CSP",value:"csp"},{label:"CSS",value:"css"},{label:"Cap’n Proto",value:"capnproto"},{label:"Chaos",value:"chaos"},{label:"Chapel",value:"chapel"},{label:"Cisco CLI",value:"cisco"},{label:"Clojure",value:"clojure"},{label:"CoffeeScript",value:"coffeescript"},{label:"CpcdosC+",value:"cpc"},{label:"Crmsh",value:"crmsh"},{label:"Crystal",value:"crystal"},{label:"cURL",value:"curl"},{label:"Cypher (Neo4j)",value:"cypher"},{label:"D",value:"d"},{label:"Dafny",value:"dafny"},{label:"Dart",value:"dart"},{label:"Delphi",value:"dpr"},{label:"Diff",value:"diff"},{label:"Django",value:"django"},{label:"DNS Zone file",value:"dns"},{label:"Dockerfile",value:"dockerfile"},{label:"DOS",value:"dos"},{label:"dsconfig",value:"dsconfig"},{label:"DTS (Device Tree)",value:"dts"},{label:"Dust",value:"dust"},{label:"Dylan",value:"dylan"},{label:"EBNF",value:"ebnf"},{label:"Elixir",value:"elixir"},{label:"Elm",value:"elm"},{label:"Erlang",value:"erlang"},{label:"Excel",value:"excel"},{label:"Extempore",value:"extempore"},{label:"F#",value:"fsharp"},{label:"FIX",value:"fix"},{label:"Flix",value:"flix"},{label:"Fortran",value:"fortran"},{label:"FunC",value:"func"},{label:"G-Code",value:"gcode"},{label:"Gams",value:"gams"},{label:"GAUSS",value:"gauss"},{label:"GDScript",value:"godot"},{label:"Gherkin",value:"gherkin"},{label:"Glimmer and EmberJS",value:"hbs"},{label:"GN for Ninja",value:"gn"},{label:"Go",value:"go"},{label:"Grammatical Framework",value:"gf"},{label:"Golo",value:"golo"},{label:"Gradle",value:"gradle"},{label:"GraphQL",value:"graphql"},{label:"Groovy",value:"groovy"},{label:"GSQL",value:"gsql"},{label:"HTML, XML",value:"xml"},{label:"HTTP",value:"http"},{label:"Haml",value:"haml"},{label:"Handlebars",value:"handlebars"},{label:"Haskell",value:"haskell"},{label:"Haxe",value:"haxe"},{label:"High-level shader language",value:"hlsl"},{label:"Hy",value:"hy"},{label:"Ini, TOML",value:"ini"},{label:"Inform7",value:"inform7"},{label:"IRPF90",value:"irpf90"},{label:"JSON",value:"json"},{label:"Java",value:"java"},{label:"JavaScript",value:"javascript"},{label:"Jolie",value:"jolie"},{label:"Julia",value:"julia"},{label:"Kotlin",value:"kotlin"},{label:"LaTeX",value:"tex"},{label:"Leaf",value:"leaf"},{label:"Lean",value:"lean"},{label:"Lasso",value:"lasso"},{label:"Less",value:"less"},{label:"LDIF",value:"ldif"},{label:"Lisp",value:"lisp"},{label:"LiveCode Server",value:"livecodeserver"},{label:"LiveScript",value:"livescript"},{label:"LookML",value:"lookml"},{label:"Lua",value:"lua"},{label:"Macaulay2",value:"macaulay2"},{label:"Makefile",value:"makefile"},{label:"Markdown",value:"markdown"},{label:"Mathematica",value:"mathematica"},{label:"Matlab",value:"matlab"},{label:"Maxima",value:"maxima"},{label:"Maya Embedded Language",value:"mel"},{label:"Mercury",value:"mercury"},{label:"mIRC Scripting Language",value:"mirc"},{label:"Mizar",value:"mizar"},{label:"MKB",value:"mkb"},{label:"MLIR",value:"mlir"},{label:"Mojolicious",value:"mojolicious"},{label:"Monkey",value:"monkey"},{label:"Moonscript",value:"moonscript"},{label:"N1QL",value:"n1ql"},{label:"NSIS",value:"nsis"},{label:"Never",value:"never"},{label:"Nginx",value:"nginx"},{label:"Nim",value:"nim"},{label:"Nix",value:"nix"},{label:"Oak",value:"oak"},{label:"Object Constraint Language",value:"ocl"},{label:"OCaml",value:"ocaml"},{label:"Objective C",value:"objectivec"},{label:"OpenGL Shading Language",value:"glsl"},{label:"OpenSCAD",value:"openscad"},{label:"Oracle Rules Language",value:"ruleslanguage"},{label:"Oxygene",value:"oxygene"},{label:"PF",value:"pf"},{label:"PHP",value:"php"},{label:"Papyrus",value:"papyrus"},{label:"Parser3",value:"parser3"},{label:"Perl",value:"perl"},{label:"Pine Script",value:"pine"},{label:"Plaintext",value:"plaintext"},{label:"Pony",value:"pony"},{label:"PostgreSQL & PL/pgSQL",value:"pgsql"},{label:"PowerShell",value:"powershell"},{label:"Processing",value:"processing"},{label:"Prolog",value:"prolog"},{label:"Properties",value:"properties"},{label:"Protocol Buffers",value:"protobuf"},{label:"Puppet",value:"puppet"},{label:"Python",value:"python"},{label:"Python profiler results",value:"profile"},{label:"Python REPL",value:"python-repl"},{label:"Q#",value:"qsharp"},{label:"Q",value:"k"},{label:"QML",value:"qml"},{label:"R",value:"r"},{label:"Razor CSHTML",value:"cshtml"},{label:"ReasonML",value:"reasonml"},{label:"Rebol & Red",value:"redbol"},{label:"RenderMan RIB",value:"rib"},{label:"RenderMan RSL",value:"rsl"},{label:"RiScript",value:"risc"},{label:"Roboconf",value:"graph"},{label:"Robot Framework",value:"robot"},{label:"RPM spec files",value:"rpm-specfile"},{label:"Ruby",value:"ruby"},{label:"Rust",value:"rust"},{label:"RVT Script",value:"rvt"},{label:"SAS",value:"SAS"},{label:"SCSS",value:"scss"},{label:"SQL",value:"sql"},{label:"STEP Part 21",value:"p21"},{label:"Scala",value:"scala"},{label:"Scheme",value:"scheme"},{label:"Scilab",value:"scilab"},{label:"Shape Expressions",value:"shexc"},{label:"Shell",value:"shell"},{label:"Smali",value:"smali"},{label:"Smalltalk",value:"smalltalk"},{label:"SML",value:"sml"},{label:"Solidity",value:"solidity"},{label:"Splunk SPL",value:"spl"},{label:"Stan",value:"stan"},{label:"Stata",value:"stata"},{label:"Structured Text",value:"iecst"},{label:"Stylus",value:"stylus"},{label:"SubUnit",value:"subunit"},{label:"Supercollider",value:"supercollider"},{label:"Svelte",value:"svelte"},{label:"Swift",value:"swift"},{label:"Tcl",value:"tcl"},{label:"Terraform (HCL)",value:"terraform"},{label:"Test Anything Protocol",value:"tap"},{label:"Thrift",value:"thrift"},{label:"Toit",value:"toit"},{label:"TP",value:"tp"},{label:"Transact-SQL",value:"tsql"},{label:"Twig",value:"twig"},{label:"TypeScript",value:"typescript"},{label:"Unicorn Rails log",value:"unicorn-rails-log"},{label:"VB.Net",value:"vbnet"},{label:"VBA",value:"vba"},{label:"VBScript",value:"vbscript"},{label:"VHDL",value:"vhdl"},{label:"Vala",value:"vala"},{label:"Verilog",value:"verilog"},{label:"Vim Script",value:"vim"},{label:"X#",value:"xsharp"},{label:"X++",value:"axapta"},{label:"x86 Assembly",value:"x86asm"},{label:"XL",value:"xl"},{label:"XQuery",value:"xquery"},{label:"YAML",value:"yml"},{label:"ZenScript",value:"zenscript"},{label:"Zephir",value:"zephir"}],w=function(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},x=function(e,t){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(l){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(o=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{o=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},k=function(){function e(e){var t=e.data,o=e.config,n=e.api,i=e.readOnly;if(this.inputRef=null,this.codeRef=null,this.containerRef=null,this.captionInputRef=null,this.supportedLanguages=[],this.currentSelectedLanguage="",this.copiedContent=!1,this.useCaption=!1,this.data=null,this.configs={allowValidation:!0},this.api=null,this.readOnly=!1,this.buildSupportedLanguages(o.supportedLanguages),o&&!i)if(this.configs=Object.assign(this.configs,o),o.defaultLanguage){if(-1===this.supportedLanguages.findIndex((function(e){return e.value===o.defaultLanguage})))throw new Error("The default language you provided is not existed in the given supported languages. More detail about supported languages from highlight.js: https://github.com/highlightjs/highlight.js/blob/main/SUPPORTED_LANGUAGES.md");this.currentSelectedLanguage=o.defaultLanguage}else this.currentSelectedLanguage=this.supportedLanguages[0].value;this.isDataValid(t)&&(this.data=t,this.currentSelectedLanguage=t.language),n&&(this.api=n),this.readOnly=Boolean(i)}return Object.defineProperty(e,"isReadOnlySupported",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"toolbox",{get:function(){return{title:"Code",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 640 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>'}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowValidation",{get:function(){return this.configs.allowValidation},enumerable:!1,configurable:!0}),e.prototype.isDataValid=function(e){return"object"==typeof e&&"language"in e&&"code"in e&&"caption"in e&&"string"==typeof e.language&&"string"==typeof e.caption&&"string"==typeof e.code},e.prototype.buildSupportedLanguages=function(e){for(var t,o=Boolean(e),n=function(n){t=o&&null!=(t=e.find((function(e){return e.value===n.value})))?t:n,i.supportedLanguages.push(t)},i=this,r=0,s=y;r<s.length;r++)n(s[r])},e.prototype.render=function(){var e=this,t=m("div","editorjs-code-block"),o=m("div","control-container");if(this.readOnly){var n=m("span","language"),i=this.supportedLanguages.find((function(t){return t.value===e.currentSelectedLanguage}));n.innerHTML=i?i.label:"",o.appendChild(n)}else{var r=function(e,t){if(0!==e.length){var o,n,i,r,s,a,l,c,d,h,u,p=["editorjs-code-language-select"],f={};t&&(t.classNames&&(Array.isArray(t.classNames)?p.push.apply(p,t.classNames):p.push(t.classNames)),t.attributes&&(f=Object.assign(f,t.attributes)));var g=function(e,o){if(!d||!n||!r)throw new Error("Element not found");if(!o){n.replaceChildren(),d.replaceChildren();for(var a=0,l=e;a<l.length;a++){var c=l[a];(i=m("option")).value=c.value,i.innerText=c.label,n.appendChild(i)}}for(var p=0;p<e.length;++p)(h=m("div",void 0,{"data-value":e[p].value})).innerHTML=n.options[p].innerHTML,e[p].value===u?h.setAttribute("class","same-as-selected"):h.removeAttribute("class"),h.addEventListener("click",(function(e){var o=e.target,n=o.dataset.value;u=n,r.innerHTML=o.innerHTML,r.appendChild(s);for(var i=d.getElementsByClassName("same-as-selected"),a=0;a<i.length;++a)i[a].removeAttribute("class");o.setAttribute("class","same-as-selected"),r.click(),t&&t.onSelect&&t.onSelect(n)})),d.appendChild(h)};o=m("div",p,f),n=m("select");for(var b=0,y=e;b<y.length;b++){var w=y[b];(i=m("option")).value=w.value,i.innerText=w.label,n.appendChild(i)}return(r=m("div","select-selected")).innerHTML=t&&t.defaultOption?e.find((function(e){return e.value===t.defaultOption})).label:e[0].label,(s=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("viewBox","0 0 448 512"),s.classList.add("arrow-icon"),(a=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"),s.appendChild(a),r.appendChild(s),o.appendChild(r),l=m("div",["select-items","select-hide"]),(c=m("input","search-input",{placeholder:"Search"})).onclick=function(e){e.stopPropagation()},c.oninput=function(t){var o=t.target.value,n=""!==o.trim()?e.filter((function(e){return e.label.toLowerCase().includes(o.toLowerCase())})):e;g(n),t.stopPropagation()},l.appendChild(c),d=m("div","items-list"),u=t&&t.defaultOption?t.defaultOption:e[0].value,g(e,!0),l.appendChild(d),o.appendChild(l),r.addEventListener("click",(function(t){var o=t.target;v(r),t.stopPropagation(),l.classList.toggle("select-hide"),o.classList.toggle("select-arrow-active"),""!==c.value.trim()&&g(e),c.value=""})),o}}(this.supportedLanguages,{defaultOption:this.currentSelectedLanguage,onSelect:this.onSelectLanguage.bind(this)});o.appendChild(r)}var s=m("div","btn-div"),a=m("button",["control-btn","copy-btn"]);this.readOnly&&a.classList.add("copy-btn-only");var l=this.api?this.api.i18n.t("Copy"):"Copy";if(a.innerHTML='\n    <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"/></svg>\n    '.concat(l,"\n    "),a.onclick=this.onCopyContent.bind(this),s.appendChild(a),!this.readOnly){var c=m("button",["control-btn","caption-btn"]);c.innerText=this.api?this.api.i18n.t("Caption"):"Caption",c.onclick=this.onAddCaption.bind(this),s.appendChild(c)}o.appendChild(s),t.appendChild(o);var d=m("div","content-container"),h=m("div","rendered-layer"),u=m("pre",void 0,{"aria-hidden":"true"}),p=m("code","language-".concat(this.currentSelectedLanguage));u.appendChild(p),h.appendChild(u);var f=m("textarea","input-layer",{placeholder:this.api?this.api.i18n.t("Enter your code"):"Enter your code"});return f.disabled=this.readOnly,f.spellcheck=!1,d.appendChild(h),d.appendChild(f),t.appendChild(d),this.inputRef=f,this.codeRef=p,this.containerRef=t,this.data&&(this.inputRef.value=this.data.code,setTimeout((function(){e.updateContent(e.data.code)}),500),this.data.caption&&""!==this.data.caption.trim()&&this.addCaption(this.data.caption)),this.inputRef.oninput=this.onContentUpdated.bind(this),this.inputRef.onkeydown=this.onInputAreaKeyDown.bind(this),t},e.prototype.save=function(){if(!this.inputRef)throw new Error("No ref found! You may forgot to call render()");return{language:this.currentSelectedLanguage,code:this.inputRef.value,caption:this.captionInputRef?this.captionInputRef.value:""}},e.prototype.validate=function(e){return!this.allowValidation||""!==e.code.trim()},e.prototype.onContentUpdated=function(e){var t=e.target.value;this.updateContent(t)},e.prototype.onInputAreaKeyDown=function(e){if("Enter"===e.key)e.stopPropagation();else if("Tab"===e.key){e.preventDefault();var t=e.target,o=t.value,n=o.slice(0,t.selectionStart),i=o.slice(t.selectionEnd,o.length),r=t.selectionEnd+1;t.value=n+"\t"+i,t.selectionStart=r,t.selectionEnd=r,this.updateContent(t.value),e.stopPropagation()}},e.prototype.onSelectLanguage=function(e){if(!this.codeRef||!this.inputRef)throw new Error("No ref found! You may forgot to call render()");this.codeRef.classList.replace("language-".concat(this.currentSelectedLanguage),"language-".concat(e)),this.currentSelectedLanguage=e,this.updateContent(this.inputRef.value)},e.prototype.onCopyContent=function(e){return w(this,void 0,void 0,(function(){var t,o,n=this;return x(this,(function(i){switch(i.label){case 0:if(!this.inputRef)throw new Error("No ref found! You may forgot to call render()");return t=e.target,o=this.inputRef.value,[4,b(o)];case 1:return i.sent()&&(t.innerHTML='\n        <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>\n        '.concat(this.api?this.api.i18n.t("Copied"):"Copied","\n        "),this.copiedContent||(setTimeout((function(){t.innerHTML='\n                <svg class="copy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --\x3e<path d="M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"/></svg>\n                '.concat(n.api?n.api.i18n.t("Copy"):"Copy","\n                "),n.copiedContent=!1}),1e3),this.copiedContent=!0,this.configs.onContentCopied&&"function"==typeof this.configs.onContentCopied&&this.configs.onContentCopied(o))),[2]}}))}))},e.prototype.onAddCaption=function(){if(!this.containerRef)throw new Error("No ref found! You may forgot to call render()");this.addCaption()},e.prototype.onCaptionKeyDown=function(e){if(!this.captionInputRef)throw new Error("No ref found!");"Backspace"===e.key&&""===e.target.value&&(this.containerRef.removeChild(this.captionInputRef),this.useCaption=!1)},e.prototype.addCaption=function(e){if(void 0===e&&(e=""),!this.useCaption){var t=m("textarea","caption-input",{placeholder:this.api?this.api.i18n.t("Write your caption"):"Write your caption"});t.disabled=this.readOnly,t.onkeydown=this.onCaptionKeyDown.bind(this),this.containerRef.appendChild(t),this.captionInputRef=t,t.focus(),this.useCaption=!0}this.captionInputRef.value=e},e.prototype.updateContent=function(e){return w(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:if(!this.codeRef||!this.inputRef)throw new Error("No reference found! You may forgot to call render()");return"\n"==e[e.length-1]&&(e+=" "),this.codeRef.innerHTML=e.replace(new RegExp("&","g"),"&amp;").replace(new RegExp("<","g"),"&lt;"),[4,i.e(637).then(i.bind(i,637))];case 1:return t.sent().default.highlightElement(this.codeRef),this.inputRef.style.height="5px",this.inputRef.style.height=this.inputRef.scrollHeight+"px",[2]}}))}))},e}();const C=k})(),r.default})(),e.exports=t()},26536:function(e){e.exports=function(){"use strict";function e(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function t(t){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?e(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function r(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,o){return(t=f(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e){return l(e)||c(e)||d(e)||u()}function l(e){if(Array.isArray(e))return h(e)}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function f(e){var t=p(e,"string");return"symbol"==typeof t?t:String(t)}var g="undefined"!=typeof window&&void 0!==window.document,m=g?window:{},v=!(!g||!m.document.documentElement)&&"ontouchstart"in m.document.documentElement,b=!!g&&"PointerEvent"in m,y="cropper",w="all",x="crop",k="move",C="zoom",S="e",E="w",T="s",A="n",B="ne",L="nw",_="se",M="sw",O="".concat(y,"-crop"),I="".concat(y,"-disabled"),N="".concat(y,"-hidden"),R="".concat(y,"-hide"),D="".concat(y,"-invisible"),j="".concat(y,"-modal"),H="".concat(y,"-move"),P="".concat(y,"Action"),F="".concat(y,"Preview"),z="crop",U="move",q="none",W="crop",$="cropend",V="cropmove",Y="cropstart",X="dblclick",G=v?"touchstart":"mousedown",K=v?"touchmove":"mousemove",Z=v?"touchend touchcancel":"mouseup",J=b?"pointerdown":G,Q=b?"pointermove":K,ee=b?"pointerup pointercancel":Z,te="ready",oe="resize",ne="wheel",ie="zoom",re="image/jpeg",se=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ae=/^data:/,le=/^data:image\/jpeg;base64,/,ce=/^img|canvas$/i,de=200,he=100,ue={viewMode:0,dragMode:z,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:de,minContainerHeight:he,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},pe='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',fe=Number.isNaN||m.isNaN;function ge(e){return"number"==typeof e&&!fe(e)}var me=function(e){return e>0&&e<1/0};function ve(e){return void 0===e}function be(e){return"object"===o(e)&&null!==e}var ye=Object.prototype.hasOwnProperty;function we(e){if(!be(e))return!1;try{var t=e.constructor,o=t.prototype;return t&&o&&ye.call(o,"isPrototypeOf")}catch(e){return!1}}function xe(e){return"function"==typeof e}var ke=Array.prototype.slice;function Ce(e){return Array.from?Array.from(e):ke.call(e)}function Se(e,t){return e&&xe(t)&&(Array.isArray(e)||ge(e.length)?Ce(e).forEach((function(o,n){t.call(e,o,n,e)})):be(e)&&Object.keys(e).forEach((function(o){t.call(e,e[o],o,e)}))),e}var Ee=Object.assign||function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return be(e)&&o.length>0&&o.forEach((function(t){be(t)&&Object.keys(t).forEach((function(o){e[o]=t[o]}))})),e},Te=/\.\d*(?:0|9){12}\d*$/;function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Te.test(e)?Math.round(e*t)/t:e}var Be=/^width|height|left|top|marginLeft|marginTop$/;function Le(e,t){var o=e.style;Se(t,(function(e,t){Be.test(t)&&ge(e)&&(e="".concat(e,"px")),o[t]=e}))}function _e(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function Me(e,t){if(t)if(ge(e.length))Se(e,(function(e){Me(e,t)}));else if(e.classList)e.classList.add(t);else{var o=e.className.trim();o?o.indexOf(t)<0&&(e.className="".concat(o," ").concat(t)):e.className=t}}function Oe(e,t){t&&(ge(e.length)?Se(e,(function(e){Oe(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function Ie(e,t,o){t&&(ge(e.length)?Se(e,(function(e){Ie(e,t,o)})):o?Me(e,t):Oe(e,t))}var Ne=/([a-z\d])([A-Z])/g;function Re(e){return e.replace(Ne,"$1-$2").toLowerCase()}function De(e,t){return be(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Re(t)))}function je(e,t,o){be(o)?e[t]=o:e.dataset?e.dataset[t]=o:e.setAttribute("data-".concat(Re(t)),o)}function He(e,t){if(be(e[t]))try{delete e[t]}catch(o){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(o){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Re(t)))}var Pe=/\s\s*/,Fe=function(){var e=!1;if(g){var t=!1,o=function(){},n=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});m.addEventListener("test",o,n),m.removeEventListener("test",o,n)}return e}();function ze(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o;t.trim().split(Pe).forEach((function(t){if(!Fe){var r=e.listeners;r&&r[t]&&r[t][o]&&(i=r[t][o],delete r[t][o],0===Object.keys(r[t]).length&&delete r[t],0===Object.keys(r).length&&delete e.listeners)}e.removeEventListener(t,i,n)}))}function Ue(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o;t.trim().split(Pe).forEach((function(t){if(n.once&&!Fe){var r=e.listeners,s=void 0===r?{}:r;i=function(){delete s[t][o],e.removeEventListener(t,i,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];o.apply(e,a)},s[t]||(s[t]={}),s[t][o]&&e.removeEventListener(t,s[t][o],n),s[t][o]=i,e.listeners=s}e.addEventListener(t,i,n)}))}function qe(e,t,o){var n;return xe(Event)&&xe(CustomEvent)?n=new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,o),e.dispatchEvent(n)}function We(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var $e=m.location,Ve=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Ye(e){var t=e.match(Ve);return null!==t&&(t[1]!==$e.protocol||t[2]!==$e.hostname||t[3]!==$e.port)}function Xe(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function Ge(e){var t=e.rotate,o=e.scaleX,n=e.scaleY,i=e.translateX,r=e.translateY,s=[];ge(i)&&0!==i&&s.push("translateX(".concat(i,"px)")),ge(r)&&0!==r&&s.push("translateY(".concat(r,"px)")),ge(t)&&0!==t&&s.push("rotate(".concat(t,"deg)")),ge(o)&&1!==o&&s.push("scaleX(".concat(o,")")),ge(n)&&1!==n&&s.push("scaleY(".concat(n,")"));var a=s.length?s.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function Ke(e){var o=t({},e),n=0;return Se(e,(function(e,t){delete o[t],Se(o,(function(t){var o=Math.abs(e.startX-t.startX),i=Math.abs(e.startY-t.startY),r=Math.abs(e.endX-t.endX),s=Math.abs(e.endY-t.endY),a=Math.sqrt(o*o+i*i),l=(Math.sqrt(r*r+s*s)-a)/a;Math.abs(l)>Math.abs(n)&&(n=l)}))})),n}function Ze(e,o){var n=e.pageX,i=e.pageY,r={endX:n,endY:i};return o?r:t({startX:n,startY:i},r)}function Je(e){var t=0,o=0,n=0;return Se(e,(function(e){var i=e.startX,r=e.startY;t+=i,o+=r,n+=1})),{pageX:t/=n,pageY:o/=n}}function Qe(e){var t=e.aspectRatio,o=e.height,n=e.width,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=me(n),s=me(o);if(r&&s){var a=o*t;"contain"===i&&a>n||"cover"===i&&a<n?o=n/t:n=o*t}else r?o=n/t:s&&(n=o*t);return{width:n,height:o}}function et(e){var t=e.width,o=e.height,n=e.degree;if(90==(n=Math.abs(n)%180))return{width:o,height:t};var i=n%90*Math.PI/180,r=Math.sin(i),s=Math.cos(i),a=t*s+o*r,l=t*r+o*s;return n>90?{width:l,height:a}:{width:a,height:l}}function tt(e,t,o,n){var i=t.aspectRatio,r=t.naturalWidth,s=t.naturalHeight,l=t.rotate,c=void 0===l?0:l,d=t.scaleX,h=void 0===d?1:d,u=t.scaleY,p=void 0===u?1:u,f=o.aspectRatio,g=o.naturalWidth,m=o.naturalHeight,v=n.fillColor,b=void 0===v?"transparent":v,y=n.imageSmoothingEnabled,w=void 0===y||y,x=n.imageSmoothingQuality,k=void 0===x?"low":x,C=n.maxWidth,S=void 0===C?1/0:C,E=n.maxHeight,T=void 0===E?1/0:E,A=n.minWidth,B=void 0===A?0:A,L=n.minHeight,_=void 0===L?0:L,M=document.createElement("canvas"),O=M.getContext("2d"),I=Qe({aspectRatio:f,width:S,height:T}),N=Qe({aspectRatio:f,width:B,height:_},"cover"),R=Math.min(I.width,Math.max(N.width,g)),D=Math.min(I.height,Math.max(N.height,m)),j=Qe({aspectRatio:i,width:S,height:T}),H=Qe({aspectRatio:i,width:B,height:_},"cover"),P=Math.min(j.width,Math.max(H.width,r)),F=Math.min(j.height,Math.max(H.height,s)),z=[-P/2,-F/2,P,F];return M.width=Ae(R),M.height=Ae(D),O.fillStyle=b,O.fillRect(0,0,R,D),O.save(),O.translate(R/2,D/2),O.rotate(c*Math.PI/180),O.scale(h,p),O.imageSmoothingEnabled=w,O.imageSmoothingQuality=k,O.drawImage.apply(O,[e].concat(a(z.map((function(e){return Math.floor(Ae(e))}))))),O.restore(),M}var ot=String.fromCharCode;function nt(e,t,o){var n="";o+=t;for(var i=t;i<o;i+=1)n+=ot(e.getUint8(i));return n}var it=/^data:.*,/;function rt(e){var t=e.replace(it,""),o=atob(t),n=new ArrayBuffer(o.length),i=new Uint8Array(n);return Se(i,(function(e,t){i[t]=o.charCodeAt(t)})),n}function st(e,t){for(var o=[],n=8192,i=new Uint8Array(e);i.length>0;)o.push(ot.apply(null,Ce(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(t,";base64,").concat(btoa(o.join("")))}function at(e){var t,o=new DataView(e);try{var n,i,r;if(255===o.getUint8(0)&&216===o.getUint8(1))for(var s=o.byteLength,a=2;a+1<s;){if(255===o.getUint8(a)&&225===o.getUint8(a+1)){i=a;break}a+=1}if(i){var l=i+10;if("Exif"===nt(o,i+4,4)){var c=o.getUint16(l);if(((n=18761===c)||19789===c)&&42===o.getUint16(l+2,n)){var d=o.getUint32(l+4,n);d>=8&&(r=l+d)}}}if(r){var h,u,p=o.getUint16(r,n);for(u=0;u<p;u+=1)if(h=r+12*u+2,274===o.getUint16(h,n)){h+=8,t=o.getUint16(h,n),o.setUint16(h,1,n);break}}}catch(e){t=1}return t}function lt(e){var t=0,o=1,n=1;switch(e){case 2:o=-1;break;case 3:t=-180;break;case 4:n=-1;break;case 5:t=90,n=-1;break;case 6:t=90;break;case 7:t=90,o=-1;break;case 8:t=-90}return{rotate:t,scaleX:o,scaleY:n}}var ct={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,o=this.container,n=this.cropper,i=Number(t.minContainerWidth),r=Number(t.minContainerHeight);Me(n,N),Oe(e,N);var s={width:Math.max(o.offsetWidth,i>=0?i:de),height:Math.max(o.offsetHeight,r>=0?r:he)};this.containerData=s,Le(n,{width:s.width,height:s.height}),Me(e,N),Oe(n,N)},initCanvas:function(){var e=this.containerData,t=this.imageData,o=this.options.viewMode,n=Math.abs(t.rotate)%180==90,i=n?t.naturalHeight:t.naturalWidth,r=n?t.naturalWidth:t.naturalHeight,s=i/r,a=e.width,l=e.height;e.height*s>e.width?3===o?a=e.height*s:l=e.width/s:3===o?l=e.width/s:a=e.height*s;var c={aspectRatio:s,naturalWidth:i,naturalHeight:r,width:a,height:l};this.canvasData=c,this.limited=1===o||2===o,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=Ee({},c)},limitCanvas:function(e,t){var o=this.options,n=this.containerData,i=this.canvasData,r=this.cropBoxData,s=o.viewMode,a=i.aspectRatio,l=this.cropped&&r;if(e){var c=Number(o.minCanvasWidth)||0,d=Number(o.minCanvasHeight)||0;s>1?(c=Math.max(c,n.width),d=Math.max(d,n.height),3===s&&(d*a>c?c=d*a:d=c/a)):s>0&&(c?c=Math.max(c,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(c=r.width,(d=r.height)*a>c?c=d*a:d=c/a));var h=Qe({aspectRatio:a,width:c,height:d});c=h.width,d=h.height,i.minWidth=c,i.minHeight=d,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(s>(l?0:1)){var u=n.width-i.width,p=n.height-i.height;i.minLeft=Math.min(0,u),i.minTop=Math.min(0,p),i.maxLeft=Math.max(0,u),i.maxTop=Math.max(0,p),l&&this.limited&&(i.minLeft=Math.min(r.left,r.left+(r.width-i.width)),i.minTop=Math.min(r.top,r.top+(r.height-i.height)),i.maxLeft=r.left,i.maxTop=r.top,2===s&&(i.width>=n.width&&(i.minLeft=Math.min(0,u),i.maxLeft=Math.max(0,u)),i.height>=n.height&&(i.minTop=Math.min(0,p),i.maxTop=Math.max(0,p))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=n.width,i.maxTop=n.height},renderCanvas:function(e,t){var o=this.canvasData,n=this.imageData;if(t){var i=et({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=i.width,s=i.height,a=o.width*(r/o.naturalWidth),l=o.height*(s/o.naturalHeight);o.left-=(a-o.width)/2,o.top-=(l-o.height)/2,o.width=a,o.height=l,o.aspectRatio=r/s,o.naturalWidth=r,o.naturalHeight=s,this.limitCanvas(!0,!1)}(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCanvas(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,Le(this.canvas,Ee({width:o.width,height:o.height},Ge({translateX:o.left,translateY:o.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,o=this.imageData,n=o.naturalWidth*(t.width/t.naturalWidth),i=o.naturalHeight*(t.height/t.naturalHeight);Ee(o,{width:n,height:i,left:(t.width-n)/2,top:(t.height-i)/2}),Le(this.image,Ee({width:o.width,height:o.height},Ge(Ee({translateX:o.left,translateY:o.top},o)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,o=e.aspectRatio||e.initialAspectRatio,n=Number(e.autoCropArea)||.8,i={width:t.width,height:t.height};o&&(t.height*o>t.width?i.height=i.width/o:i.width=i.height*o),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*n),i.height=Math.max(i.minHeight,i.height*n),i.left=t.left+(t.width-i.width)/2,i.top=t.top+(t.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=Ee({},i)},limitCropBox:function(e,t){var o=this.options,n=this.containerData,i=this.canvasData,r=this.cropBoxData,s=this.limited,a=o.aspectRatio;if(e){var l=Number(o.minCropBoxWidth)||0,c=Number(o.minCropBoxHeight)||0,d=s?Math.min(n.width,i.width,i.width+i.left,n.width-i.left):n.width,h=s?Math.min(n.height,i.height,i.height+i.top,n.height-i.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),a&&(l&&c?c*a>l?c=l/a:l=c*a:l?c=l/a:c&&(l=c*a),h*a>d?h=d/a:d=h*a),r.minWidth=Math.min(l,d),r.minHeight=Math.min(c,h),r.maxWidth=d,r.maxHeight=h}t&&(s?(r.minLeft=Math.max(0,i.left),r.minTop=Math.max(0,i.top),r.maxLeft=Math.min(n.width,i.left+i.width)-r.width,r.maxTop=Math.min(n.height,i.top+i.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var e=this.options,t=this.containerData,o=this.cropBoxData;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),o.oldLeft=o.left,o.oldTop=o.top,e.movable&&e.cropBoxMovable&&je(this.face,P,o.width>=t.width&&o.height>=t.height?k:w),Le(this.cropBox,Ee({width:o.width,height:o.height},Ge({translateX:o.left,translateY:o.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),qe(this.element,W,this.getData())}},dt={initPreview:function(){var e=this.element,t=this.crossOrigin,o=this.options.preview,n=t?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",r=document.createElement("img");if(t&&(r.crossOrigin=t),r.src=n,r.alt=i,this.viewBox.appendChild(r),this.viewBoxImage=r,o){var s=o;"string"==typeof o?s=e.ownerDocument.querySelectorAll(o):o.querySelector&&(s=[o]),this.previews=s,Se(s,(function(e){var o=document.createElement("img");je(e,F,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(o.crossOrigin=t),o.src=n,o.alt=i,o.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(o)}))}},resetPreview:function(){Se(this.previews,(function(e){var t=De(e,F);Le(e,{width:t.width,height:t.height}),e.innerHTML=t.html,He(e,F)}))},preview:function(){var e=this.imageData,t=this.canvasData,o=this.cropBoxData,n=o.width,i=o.height,r=e.width,s=e.height,a=o.left-t.left-e.left,l=o.top-t.top-e.top;this.cropped&&!this.disabled&&(Le(this.viewBoxImage,Ee({width:r,height:s},Ge(Ee({translateX:-a,translateY:-l},e)))),Se(this.previews,(function(t){var o=De(t,F),c=o.width,d=o.height,h=c,u=d,p=1;n&&(u=i*(p=c/n)),i&&u>d&&(h=n*(p=d/i),u=d),Le(t,{width:h,height:u}),Le(t.getElementsByTagName("img")[0],Ee({width:r*p,height:s*p},Ge(Ee({translateX:-a*p,translateY:-l*p},e))))})))}},ht={bind:function(){var e=this.element,t=this.options,o=this.cropper;xe(t.cropstart)&&Ue(e,Y,t.cropstart),xe(t.cropmove)&&Ue(e,V,t.cropmove),xe(t.cropend)&&Ue(e,$,t.cropend),xe(t.crop)&&Ue(e,W,t.crop),xe(t.zoom)&&Ue(e,ie,t.zoom),Ue(o,J,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Ue(o,ne,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ue(o,X,this.onDblclick=this.dblclick.bind(this)),Ue(e.ownerDocument,Q,this.onCropMove=this.cropMove.bind(this)),Ue(e.ownerDocument,ee,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Ue(window,oe,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,o=this.cropper;xe(t.cropstart)&&ze(e,Y,t.cropstart),xe(t.cropmove)&&ze(e,V,t.cropmove),xe(t.cropend)&&ze(e,$,t.cropend),xe(t.crop)&&ze(e,W,t.crop),xe(t.zoom)&&ze(e,ie,t.zoom),ze(o,J,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ze(o,ne,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ze(o,X,this.onDblclick),ze(e.ownerDocument,Q,this.onCropMove),ze(e.ownerDocument,ee,this.onCropEnd),t.responsive&&ze(window,oe,this.onResize)}},ut={resize:function(){if(!this.disabled){var e,t,o=this.options,n=this.container,i=this.containerData,r=n.offsetWidth/i.width,s=n.offsetHeight/i.height,a=Math.abs(r-1)>Math.abs(s-1)?r:s;1!==a&&(o.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),o.restore&&(this.setCanvasData(Se(e,(function(t,o){e[o]=t*a}))),this.setCropBoxData(Se(t,(function(e,o){t[o]=e*a})))))}},dblclick:function(){this.disabled||this.options.dragMode===q||this.setDragMode(_e(this.dragBox,O)?U:z)},wheel:function(e){var t=this,o=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?n=e.deltaY>0?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=e.detail>0?1:-1),this.zoom(-n*o,e)))},cropStart:function(e){var t=e.buttons,o=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(ge(t)&&1!==t||ge(o)&&0!==o||e.ctrlKey))){var n,i=this.options,r=this.pointers;e.changedTouches?Se(e.changedTouches,(function(e){r[e.identifier]=Ze(e)})):r[e.pointerId||0]=Ze(e),n=Object.keys(r).length>1&&i.zoomable&&i.zoomOnTouch?C:De(e.target,P),se.test(n)&&!1!==qe(this.element,Y,{originalEvent:e,action:n})&&(e.preventDefault(),this.action=n,this.cropping=!1,n===x&&(this.cropping=!0,Me(this.dragBox,j)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var o=this.pointers;e.preventDefault(),!1!==qe(this.element,V,{originalEvent:e,action:t})&&(e.changedTouches?Se(e.changedTouches,(function(e){Ee(o[e.identifier]||{},Ze(e,!0))})):Ee(o[e.pointerId||0]||{},Ze(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,o=this.pointers;e.changedTouches?Se(e.changedTouches,(function(e){delete o[e.identifier]})):delete o[e.pointerId||0],t&&(e.preventDefault(),Object.keys(o).length||(this.action=""),this.cropping&&(this.cropping=!1,Ie(this.dragBox,j,this.cropped&&this.options.modal)),qe(this.element,$,{originalEvent:e,action:t}))}}},pt={change:function(e){var t,o=this.options,n=this.canvasData,i=this.containerData,r=this.cropBoxData,s=this.pointers,a=this.action,l=o.aspectRatio,c=r.left,d=r.top,h=r.width,u=r.height,p=c+h,f=d+u,g=0,m=0,v=i.width,b=i.height,y=!0;!l&&e.shiftKey&&(l=h&&u?h/u:1),this.limited&&(g=r.minLeft,m=r.minTop,v=g+Math.min(i.width,n.width,n.left+n.width),b=m+Math.min(i.height,n.height,n.top+n.height));var O=s[Object.keys(s)[0]],I={x:O.endX-O.startX,y:O.endY-O.startY},R=function(e){switch(e){case S:p+I.x>v&&(I.x=v-p);break;case E:c+I.x<g&&(I.x=g-c);break;case A:d+I.y<m&&(I.y=m-d);break;case T:f+I.y>b&&(I.y=b-f)}};switch(a){case w:c+=I.x,d+=I.y;break;case S:if(I.x>=0&&(p>=v||l&&(d<=m||f>=b))){y=!1;break}R(S),(h+=I.x)<0&&(a=E,c-=h=-h),l&&(u=h/l,d+=(r.height-u)/2);break;case A:if(I.y<=0&&(d<=m||l&&(c<=g||p>=v))){y=!1;break}R(A),u-=I.y,d+=I.y,u<0&&(a=T,d-=u=-u),l&&(h=u*l,c+=(r.width-h)/2);break;case E:if(I.x<=0&&(c<=g||l&&(d<=m||f>=b))){y=!1;break}R(E),h-=I.x,c+=I.x,h<0&&(a=S,c-=h=-h),l&&(u=h/l,d+=(r.height-u)/2);break;case T:if(I.y>=0&&(f>=b||l&&(c<=g||p>=v))){y=!1;break}R(T),(u+=I.y)<0&&(a=A,d-=u=-u),l&&(h=u*l,c+=(r.width-h)/2);break;case B:if(l){if(I.y<=0&&(d<=m||p>=v)){y=!1;break}R(A),u-=I.y,d+=I.y,h=u*l}else R(A),R(S),I.x>=0?p<v?h+=I.x:I.y<=0&&d<=m&&(y=!1):h+=I.x,I.y<=0?d>m&&(u-=I.y,d+=I.y):(u-=I.y,d+=I.y);h<0&&u<0?(a=M,d-=u=-u,c-=h=-h):h<0?(a=L,c-=h=-h):u<0&&(a=_,d-=u=-u);break;case L:if(l){if(I.y<=0&&(d<=m||c<=g)){y=!1;break}R(A),u-=I.y,d+=I.y,h=u*l,c+=r.width-h}else R(A),R(E),I.x<=0?c>g?(h-=I.x,c+=I.x):I.y<=0&&d<=m&&(y=!1):(h-=I.x,c+=I.x),I.y<=0?d>m&&(u-=I.y,d+=I.y):(u-=I.y,d+=I.y);h<0&&u<0?(a=_,d-=u=-u,c-=h=-h):h<0?(a=B,c-=h=-h):u<0&&(a=M,d-=u=-u);break;case M:if(l){if(I.x<=0&&(c<=g||f>=b)){y=!1;break}R(E),h-=I.x,c+=I.x,u=h/l}else R(T),R(E),I.x<=0?c>g?(h-=I.x,c+=I.x):I.y>=0&&f>=b&&(y=!1):(h-=I.x,c+=I.x),I.y>=0?f<b&&(u+=I.y):u+=I.y;h<0&&u<0?(a=B,d-=u=-u,c-=h=-h):h<0?(a=_,c-=h=-h):u<0&&(a=L,d-=u=-u);break;case _:if(l){if(I.x>=0&&(p>=v||f>=b)){y=!1;break}R(S),u=(h+=I.x)/l}else R(T),R(S),I.x>=0?p<v?h+=I.x:I.y>=0&&f>=b&&(y=!1):h+=I.x,I.y>=0?f<b&&(u+=I.y):u+=I.y;h<0&&u<0?(a=L,d-=u=-u,c-=h=-h):h<0?(a=M,c-=h=-h):u<0&&(a=B,d-=u=-u);break;case k:this.move(I.x,I.y),y=!1;break;case C:this.zoom(Ke(s),e),y=!1;break;case x:if(!I.x||!I.y){y=!1;break}t=We(this.cropper),c=O.startX-t.left,d=O.startY-t.top,h=r.minWidth,u=r.minHeight,I.x>0?a=I.y>0?_:B:I.x<0&&(c-=h,a=I.y>0?M:L),I.y<0&&(d-=u),this.cropped||(Oe(this.cropBox,N),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}y&&(r.width=h,r.height=u,r.left=c,r.top=d,this.action=a,this.renderCropBox()),Se(s,(function(e){e.startX=e.endX,e.startY=e.endY}))}},ft={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Me(this.dragBox,j),Oe(this.cropBox,N),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ee({},this.initialImageData),this.canvasData=Ee({},this.initialCanvasData),this.cropBoxData=Ee({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ee(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Oe(this.dragBox,j),Me(this.cropBox,N)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Se(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Oe(this.cropper,I)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Me(this.cropper,I)),this},destroy:function(){var e=this.element;return e[y]?(e[y]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=this.canvasData,n=o.left,i=o.top;return this.moveTo(ve(e)?e:n+Number(e),ve(t)?t:i+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=this.canvasData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(ge(e)&&(o.left=e,n=!0),ge(t)&&(o.top=t,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(e,t){var o=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(o.width*e/o.naturalWidth,null,t)},zoomTo:function(e,t,o){var n=this.options,i=this.canvasData,r=i.width,s=i.height,a=i.naturalWidth,l=i.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=a*e,d=l*e;if(!1===qe(this.element,ie,{ratio:e,oldRatio:r/a,originalEvent:o}))return this;if(o){var h=this.pointers,u=We(this.cropper),p=h&&Object.keys(h).length?Je(h):{pageX:o.pageX,pageY:o.pageY};i.left-=(c-r)*((p.pageX-u.left-i.left)/r),i.top-=(d-s)*((p.pageY-u.top-i.top)/s)}else we(t)&&ge(t.x)&&ge(t.y)?(i.left-=(c-r)*((t.x-i.left)/r),i.top-=(d-s)*((t.y-i.top)/s)):(i.left-=(c-r)/2,i.top-=(d-s)/2);i.width=c,i.height=d,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return ge(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,ge(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(ge(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=this.imageData,n=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(ge(e)&&(o.scaleX=e,n=!0),ge(t)&&(o.scaleY=t,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.options,n=this.imageData,i=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){e={x:r.left-i.left,y:r.top-i.top,width:r.width,height:r.height};var s=n.width/n.naturalWidth;if(Se(e,(function(t,o){e[o]=t/s})),t){var a=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=a-e.y}}else e={x:0,y:0,width:0,height:0};return o.rotatable&&(e.rotate=n.rotate||0),o.scalable&&(e.scaleX=n.scaleX||1,e.scaleY=n.scaleY||1),e},setData:function(e){var t=this.options,o=this.imageData,n=this.canvasData,i={};if(this.ready&&!this.disabled&&we(e)){var r=!1;t.rotatable&&ge(e.rotate)&&e.rotate!==o.rotate&&(o.rotate=e.rotate,r=!0),t.scalable&&(ge(e.scaleX)&&e.scaleX!==o.scaleX&&(o.scaleX=e.scaleX,r=!0),ge(e.scaleY)&&e.scaleY!==o.scaleY&&(o.scaleY=e.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var s=o.width/o.naturalWidth;ge(e.x)&&(i.left=e.x*s+n.left),ge(e.y)&&(i.top=e.y*s+n.top),ge(e.width)&&(i.width=e.width*s),ge(e.height)&&(i.height=e.height*s),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?Ee({},this.containerData):{}},getImageData:function(){return this.sized?Ee({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Se(["left","top","width","height","naturalWidth","naturalHeight"],(function(o){t[o]=e[o]})),t},setCanvasData:function(e){var t=this.canvasData,o=t.aspectRatio;return this.ready&&!this.disabled&&we(e)&&(ge(e.left)&&(t.left=e.left),ge(e.top)&&(t.top=e.top),ge(e.width)?(t.width=e.width,t.height=e.width/o):ge(e.height)&&(t.height=e.height,t.width=e.height*o),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,o,n=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&we(e)&&(ge(e.left)&&(n.left=e.left),ge(e.top)&&(n.top=e.top),ge(e.width)&&e.width!==n.width&&(t=!0,n.width=e.width),ge(e.height)&&e.height!==n.height&&(o=!0,n.height=e.height),i&&(t?n.height=n.width/i:o&&(n.width=n.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,o=tt(this.image,this.imageData,t,e);if(!this.cropped)return o;var n=this.getData(e.rounded),i=n.x,r=n.y,s=n.width,l=n.height,c=o.width/Math.floor(t.naturalWidth);1!==c&&(i*=c,r*=c,s*=c,l*=c);var d=s/l,h=Qe({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=Qe({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Qe({aspectRatio:d,width:e.width||(1!==c?o.width:s),height:e.height||(1!==c?o.height:l)}),f=p.width,g=p.height;f=Math.min(h.width,Math.max(u.width,f)),g=Math.min(h.height,Math.max(u.height,g));var m=document.createElement("canvas"),v=m.getContext("2d");m.width=Ae(f),m.height=Ae(g),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,f,g);var b=e.imageSmoothingEnabled,y=void 0===b||b,w=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,w&&(v.imageSmoothingQuality=w);var x,k,C,S,E,T,A=o.width,B=o.height,L=i,_=r;L<=-s||L>A?(L=0,x=0,C=0,E=0):L<=0?(C=-L,L=0,E=x=Math.min(A,s+L)):L<=A&&(C=0,E=x=Math.min(s,A-L)),x<=0||_<=-l||_>B?(_=0,k=0,S=0,T=0):_<=0?(S=-_,_=0,T=k=Math.min(B,l+_)):_<=B&&(S=0,T=k=Math.min(l,B-_));var M=[L,_,x,k];if(E>0&&T>0){var O=f/s;M.push(C*O,S*O,E*O,T*O)}return v.drawImage.apply(v,[o].concat(a(M.map((function(e){return Math.floor(Ae(e))}))))),m},setAspectRatio:function(e){var t=this.options;return this.disabled||ve(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,o=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var i=e===z,r=t.movable&&e===U;e=i||r?e:q,t.dragMode=e,je(o,P,e),Ie(o,O,i),Ie(o,H,r),t.cropBoxMovable||(je(n,P,e),Ie(n,O,i),Ie(n,H,r))}return this}},gt=m.Cropper,mt=function(){function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),!t||!ce.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Ee({},ue,we(o)&&o),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return r(e,[{key:"init",value:function(){var e,t=this.element,o=t.tagName.toLowerCase();if(!t[y]){if(t[y]=this,"img"===o){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===o&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var o=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(ae.test(e))le.test(e)?this.read(rt(e)):this.clone();else{var i=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,this.xhr=i,i.onabort=r,i.onerror=r,i.ontimeout=r,i.onprogress=function(){i.getResponseHeader("content-type")!==re&&i.abort()},i.onload=function(){t.read(i.response)},i.onloadend=function(){t.reloading=!1,t.xhr=null},n.checkCrossOrigin&&Ye(e)&&o.crossOrigin&&(e=Xe(e)),i.open("GET",e,!0),i.responseType="arraybuffer",i.withCredentials="use-credentials"===o.crossOrigin,i.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,o=this.imageData,n=at(e),i=0,r=1,s=1;if(n>1){this.url=st(e,re);var a=lt(n);i=a.rotate,r=a.scaleX,s=a.scaleY}t.rotatable&&(o.rotate=i),t.scalable&&(o.scaleX=r,o.scaleY=s),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,o=e.crossOrigin,n=t;this.options.checkCrossOrigin&&Ye(t)&&(o||(o="anonymous"),n=Xe(t)),this.crossOrigin=o,this.crossOriginUrl=n;var i=document.createElement("img");o&&(i.crossOrigin=o),i.src=n||t,i.alt=e.alt||"The image to crop",this.image=i,i.onload=this.start.bind(this),i.onerror=this.stop.bind(this),Me(i,R),e.parentNode.insertBefore(i,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var o=m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent),n=function(t,o){Ee(e.imageData,{naturalWidth:t,naturalHeight:o,aspectRatio:t/o}),e.initialImageData=Ee({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||o){var i=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=i,i.onload=function(){n(i.width,i.height),o||r.removeChild(i)},i.src=t.src,o||(i.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(i))}else n(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,o=this.image,n=e.parentNode,i=document.createElement("div");i.innerHTML=pe;var r=i.querySelector(".".concat(y,"-container")),s=r.querySelector(".".concat(y,"-canvas")),a=r.querySelector(".".concat(y,"-drag-box")),l=r.querySelector(".".concat(y,"-crop-box")),c=l.querySelector(".".concat(y,"-face"));this.container=n,this.cropper=r,this.canvas=s,this.dragBox=a,this.cropBox=l,this.viewBox=r.querySelector(".".concat(y,"-view-box")),this.face=c,s.appendChild(o),Me(e,N),n.insertBefore(r,e.nextSibling),Oe(o,R),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Me(l,N),t.guides||Me(l.getElementsByClassName("".concat(y,"-dashed")),N),t.center||Me(l.getElementsByClassName("".concat(y,"-center")),N),t.background&&Me(r,"".concat(y,"-bg")),t.highlight||Me(c,D),t.cropBoxMovable&&(Me(c,H),je(c,P,w)),t.cropBoxResizable||(Me(l.getElementsByClassName("".concat(y,"-line")),N),Me(l.getElementsByClassName("".concat(y,"-point")),N)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),xe(t.ready)&&Ue(e,te,t.ready,{once:!0}),qe(e,te)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),Oe(this.element,N)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=gt,e}},{key:"setDefaults",value:function(e){Ee(ue,we(e)&&e)}}]),e}();return Ee(mt.prototype,ct,dt,ht,ut,pt,ft),mt}()},37588:function(e,t){var o;!function(t,o){"use strict";"object"==typeof e.exports?e.exports=t.document?o(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return o(e)}:o(t)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var r=[],s=Object.getPrototypeOf,a=r.slice,l=r.flat?function(e){return r.flat.call(e)}:function(e){return r.concat.apply([],e)},c=r.push,d=r.indexOf,h={},u=h.toString,p=h.hasOwnProperty,f=p.toString,g=f.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},b=function(e){return null!=e&&e===e.window},y=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,o){var n,i,r=(o=o||y).createElement("script");if(r.text=e,t)for(n in w)(i=t[n]||t.getAttribute&&t.getAttribute(n))&&r.setAttribute(n,i);o.head.appendChild(r).parentNode.removeChild(r)}function k(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[u.call(e)]||"object":typeof e}var C="3.7.1",S=/HTML$/i,E=function(e,t){return new E.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,o=k(e);return!v(e)&&!b(e)&&("array"===o||0===t||"number"==typeof t&&t>0&&t-1 in e)}function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}E.fn=E.prototype={jquery:C,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,(function(t,o){return e.call(t,o,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(E.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:r.sort,splice:r.splice},E.extend=E.fn.extend=function(){var e,t,o,n,i,r,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&s!==n&&(c&&n&&(E.isPlainObject(n)||(i=Array.isArray(n)))?(o=s[t],r=i&&!Array.isArray(o)?[]:i||E.isPlainObject(o)?o:{},i=!1,s[t]=E.extend(c,r,n)):void 0!==n&&(s[t]=n));return s},E.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,o;return!(!e||"[object Object]"!==u.call(e))&&(!(t=s(e))||"function"==typeof(o=p.call(t,"constructor")&&t.constructor)&&f.call(o)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,o){x(e,{nonce:t&&t.nonce},o)},each:function(e,t){var o,n=0;if(T(e))for(o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},text:function(e){var t,o="",n=0,i=e.nodeType;if(!i)for(;t=e[n++];)o+=E.text(t);return 1===i||11===i?e.textContent:9===i?e.documentElement.textContent:3===i||4===i?e.nodeValue:o},makeArray:function(e,t){var o=t||[];return null!=e&&(T(Object(e))?E.merge(o,"string"==typeof e?[e]:e):c.call(o,e)),o},inArray:function(e,t,o){return null==t?-1:d.call(t,e,o)},isXMLDoc:function(e){var t=e&&e.namespaceURI,o=e&&(e.ownerDocument||e).documentElement;return!S.test(t||o&&o.nodeName||"HTML")},merge:function(e,t){for(var o=+t.length,n=0,i=e.length;n<o;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,o){for(var n=[],i=0,r=e.length,s=!o;i<r;i++)!t(e[i],i)!==s&&n.push(e[i]);return n},map:function(e,t,o){var n,i,r=0,s=[];if(T(e))for(n=e.length;r<n;r++)null!=(i=t(e[r],r,o))&&s.push(i);else for(r in e)null!=(i=t(e[r],r,o))&&s.push(i);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=r[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var B=r.pop,L=r.sort,_=r.splice,M="[\\x20\\t\\r\\n\\f]",O=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g");E.contains=function(e,t){var o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(e.contains?e.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))};var I=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function N(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}E.escapeSelector=function(e){return(e+"").replace(I,N)};var R=y,D=c;!function(){var e,t,o,i,s,l,c,h,u,f,g=D,v=E.expando,b=0,y=0,w=ee(),x=ee(),k=ee(),C=ee(),S=function(e,t){return e===t&&(s=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",j=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",H=new RegExp(M+"+","g"),P=new RegExp("^"+M+"*,"+M+"*"),F=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp(M+"|>"),U=new RegExp(j),q=new RegExp("^"+I+"$"),W={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},$=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,G=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var o="0x"+e.slice(1)-65536;return t||(o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320))},Z=function(){le()},J=ue((function(e){return!0===e.disabled&&A(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{g.apply(r=a.call(R.childNodes),R.childNodes),r[R.childNodes.length].nodeType}catch(e){g={apply:function(e,t){D.apply(e,a.call(t))},call:function(e){D.apply(e,a.call(arguments,1))}}}function Q(e,t,o,n){var i,r,s,a,c,d,p,f=t&&t.ownerDocument,b=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return o;if(!n&&(le(t),t=t||l,h)){if(11!==b&&(c=Y.exec(e)))if(i=c[1]){if(9===b){if(!(s=t.getElementById(i)))return o;if(s.id===i)return g.call(o,s),o}else if(f&&(s=f.getElementById(i))&&Q.contains(t,s)&&s.id===i)return g.call(o,s),o}else{if(c[2])return g.apply(o,t.getElementsByTagName(e)),o;if((i=c[3])&&t.getElementsByClassName)return g.apply(o,t.getElementsByClassName(i)),o}if(!(C[e+" "]||u&&u.test(e))){if(p=e,f=t,1===b&&(z.test(e)||F.test(e))){for((f=X.test(e)&&ae(t.parentNode)||t)==t&&m.scope||((a=t.getAttribute("id"))?a=E.escapeSelector(a):t.setAttribute("id",a=v)),r=(d=de(e)).length;r--;)d[r]=(a?"#"+a:":scope")+" "+he(d[r]);p=d.join(",")}try{return g.apply(o,f.querySelectorAll(p)),o}catch(t){C(e,!0)}finally{a===v&&t.removeAttribute("id")}}}return be(e.replace(O,"$1"),t,o,n)}function ee(){var e=[];return function o(n,i){return e.push(n+" ")>t.cacheLength&&delete o[e.shift()],o[n+" "]=i}}function te(e){return e[v]=!0,e}function oe(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ne(e){return function(t){return A(t,"input")&&t.type===e}}function ie(e){return function(t){return(A(t,"input")||A(t,"button"))&&t.type===e}}function re(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&J(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te((function(t){return t=+t,te((function(o,n){for(var i,r=e([],o.length,t),s=r.length;s--;)o[i=r[s]]&&(o[i]=!(n[i]=o[i]))}))}))}function ae(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var o,n=e?e.ownerDocument||e:R;return n!=l&&9===n.nodeType&&n.documentElement?(c=(l=n).documentElement,h=!E.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&R!=l&&(o=l.defaultView)&&o.top!==o&&o.addEventListener("unload",Z),m.getById=oe((function(e){return c.appendChild(e).id=E.expando,!l.getElementsByName||!l.getElementsByName(E.expando).length})),m.disconnectedMatch=oe((function(e){return f.call(e,"*")})),m.scope=oe((function(){return l.querySelectorAll(":scope")})),m.cssHas=oe((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),m.getById?(t.filter.ID=function(e){var t=e.replace(G,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var o=t.getElementById(e);return o?[o]:[]}}):(t.filter.ID=function(e){var t=e.replace(G,K);return function(e){var o=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return o&&o.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var o,n,i,r=t.getElementById(e);if(r){if((o=r.getAttributeNode("id"))&&o.value===e)return[r];for(i=t.getElementsByName(e),n=0;r=i[n++];)if((o=r.getAttributeNode("id"))&&o.value===e)return[r]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},u=[],oe((function(e){var t;c.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||u.push("\\["+M+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+v+"-]").length||u.push("~="),e.querySelectorAll("a#"+v+"+*").length||u.push(".#.+[+~]"),e.querySelectorAll(":checked").length||u.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&u.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||u.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")")})),m.cssHas||u.push(":has"),u=u.length&&new RegExp(u.join("|")),S=function(e,t){if(e===t)return s=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!m.sortDetached&&t.compareDocumentPosition(e)===o?e===l||e.ownerDocument==R&&Q.contains(R,e)?-1:t===l||t.ownerDocument==R&&Q.contains(R,t)?1:i?d.call(i,e)-d.call(i,t):0:4&o?-1:1)},l):l}for(e in Q.matches=function(e,t){return Q(e,null,null,t)},Q.matchesSelector=function(e,t){if(le(e),h&&!C[t+" "]&&(!u||!u.test(t)))try{var o=f.call(e,t);if(o||m.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){C(t,!0)}return Q(t,l,null,[e]).length>0},Q.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),E.contains(e,t)},Q.attr=function(e,o){(e.ownerDocument||e)!=l&&le(e);var n=t.attrHandle[o.toLowerCase()],i=n&&p.call(t.attrHandle,o.toLowerCase())?n(e,o,!h):void 0;return void 0!==i?i:e.getAttribute(o)},Q.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},E.uniqueSort=function(e){var t,o=[],n=0,r=0;if(s=!m.sortStable,i=!m.sortStable&&a.call(e,0),L.call(e,S),s){for(;t=e[r++];)t===e[r]&&(n=o.push(r));for(;n--;)_.call(e,o[n],1)}return i=null,e},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(a.apply(this)))},t=E.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(G,K),e[3]=(e[3]||e[4]||e[5]||"").replace(G,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Q.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Q.error(e[0]),e},PSEUDO:function(e){var t,o=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&U.test(o)&&(t=de(o,!0))&&(t=o.indexOf(")",o.length-t)-o.length)&&(e[0]=e[0].slice(0,t),e[2]=o.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(G,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return A(e,t)}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&w(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,o){return function(n){var i=Q.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===o:"!="===t?i!==o:"^="===t?o&&0===i.indexOf(o):"*="===t?o&&i.indexOf(o)>-1:"$="===t?o&&i.slice(-o.length)===o:"~="===t?(" "+i.replace(H," ")+" ").indexOf(o)>-1:"|="===t&&(i===o||i.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,t,o,n,i){var r="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,o,l){var c,d,h,u,p,f=r!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!l&&!a,w=!1;if(g){if(r){for(;f;){for(h=t;h=h[f];)if(a?A(h,m):1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(w=(u=(c=(d=g[v]||(g[v]={}))[e]||[])[0]===b&&c[1])&&c[2],h=u&&g.childNodes[u];h=++u&&h&&h[f]||(w=u=0)||p.pop();)if(1===h.nodeType&&++w&&h===t){d[e]=[b,u,w];break}}else if(y&&(w=u=(c=(d=t[v]||(t[v]={}))[e]||[])[0]===b&&c[1]),!1===w)for(;(h=++u&&h&&h[f]||(w=u=0)||p.pop())&&(!(a?A(h,m):1===h.nodeType)||!++w||(y&&((d=h[v]||(h[v]={}))[e]=[b,w]),h!==t)););return(w-=i)===n||w%n==0&&w/n>=0}}},PSEUDO:function(e,o){var n,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||Q.error("unsupported pseudo: "+e);return i[v]?i(o):i.length>1?(n=[e,e,"",o],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var n,r=i(e,o),s=r.length;s--;)e[n=d.call(e,r[s])]=!(t[n]=r[s])})):function(e){return i(e,0,n)}):i}},pseudos:{not:te((function(e){var t=[],o=[],n=ve(e.replace(O,"$1"));return n[v]?te((function(e,t,o,i){for(var r,s=n(e,null,i,[]),a=e.length;a--;)(r=s[a])&&(e[a]=!(t[a]=r))})):function(e,i,r){return t[0]=e,n(t,null,r,o),t[0]=null,!o.pop()}})),has:te((function(e){return function(t){return Q(e,t).length>0}})),contains:te((function(e){return e=e.replace(G,K),function(t){return(t.textContent||E.text(t)).indexOf(e)>-1}})),lang:te((function(e){return q.test(e||"")||Q.error("unsupported lang: "+e),e=e.replace(G,K).toLowerCase(),function(t){var o;do{if(o=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(o=o.toLowerCase())===e||0===o.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:re(!1),disabled:re(!0),checked:function(e){return A(e,"input")&&!!e.checked||A(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return V.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){return A(e,"input")&&"button"===e.type||A(e,"button")},text:function(e){var t;return A(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se((function(){return[0]})),last:se((function(e,t){return[t-1]})),eq:se((function(e,t,o){return[o<0?o+t:o]})),even:se((function(e,t){for(var o=0;o<t;o+=2)e.push(o);return e})),odd:se((function(e,t){for(var o=1;o<t;o+=2)e.push(o);return e})),lt:se((function(e,t,o){var n;for(n=o<0?o+t:o>t?t:o;--n>=0;)e.push(n);return e})),gt:se((function(e,t,o){for(var n=o<0?o+t:o;++n<t;)e.push(n);return e}))}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ne(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function de(e,o){var n,i,r,s,a,l,c,d=x[e+" "];if(d)return o?0:d.slice(0);for(a=e,l=[],c=t.preFilter;a;){for(s in n&&!(i=P.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(r=[])),n=!1,(i=F.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(O," ")}),a=a.slice(n.length)),t.filter)!(i=W[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),r.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return o?a.length:a?Q.error(e):x(e,l).slice(0)}function he(e){for(var t=0,o=e.length,n="";t<o;t++)n+=e[t].value;return n}function ue(e,t,o){var n=t.dir,i=t.next,r=i||n,s=o&&"parentNode"===r,a=y++;return t.first?function(t,o,i){for(;t=t[n];)if(1===t.nodeType||s)return e(t,o,i);return!1}:function(t,o,l){var c,d,h=[b,a];if(l){for(;t=t[n];)if((1===t.nodeType||s)&&e(t,o,l))return!0}else for(;t=t[n];)if(1===t.nodeType||s)if(d=t[v]||(t[v]={}),i&&A(t,i))t=t[n]||t;else{if((c=d[r])&&c[0]===b&&c[1]===a)return h[2]=c[2];if(d[r]=h,h[2]=e(t,o,l))return!0}return!1}}function pe(e){return e.length>1?function(t,o,n){for(var i=e.length;i--;)if(!e[i](t,o,n))return!1;return!0}:e[0]}function fe(e,t,o,n,i){for(var r,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(r=e[a])&&(o&&!o(r,n,i)||(s.push(r),c&&t.push(a)));return s}function ge(e,t,o,n,i,r){return n&&!n[v]&&(n=ge(n)),i&&!i[v]&&(i=ge(i,r)),te((function(r,s,a,l){var c,h,u,p,f=[],m=[],v=s.length,b=r||function(e,t,o){for(var n=0,i=t.length;n<i;n++)Q(e,t[n],o);return o}(t||"*",a.nodeType?[a]:a,[]),y=!e||!r&&t?b:fe(b,f,e,a,l);if(o?o(y,p=i||(r?e:v||n)?[]:s,a,l):p=y,n)for(c=fe(p,m),n(c,[],a,l),h=c.length;h--;)(u=c[h])&&(p[m[h]]=!(y[m[h]]=u));if(r){if(i||e){if(i){for(c=[],h=p.length;h--;)(u=p[h])&&c.push(y[h]=u);i(null,p=[],c,l)}for(h=p.length;h--;)(u=p[h])&&(c=i?d.call(r,u):f[h])>-1&&(r[c]=!(s[c]=u))}}else p=fe(p===s?p.splice(v,p.length):p),i?i(null,s,p,l):g.apply(s,p)}))}function me(e){for(var n,i,r,s=e.length,a=t.relative[e[0].type],l=a||t.relative[" "],c=a?1:0,h=ue((function(e){return e===n}),l,!0),u=ue((function(e){return d.call(n,e)>-1}),l,!0),p=[function(e,t,i){var r=!a&&(i||t!=o)||((n=t).nodeType?h(e,t,i):u(e,t,i));return n=null,r}];c<s;c++)if(i=t.relative[e[c].type])p=[ue(pe(p),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[v]){for(r=++c;r<s&&!t.relative[e[r].type];r++);return ge(c>1&&pe(p),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(O,"$1"),i,c<r&&me(e.slice(c,r)),r<s&&me(e=e.slice(r)),r<s&&he(e))}p.push(i)}return pe(p)}function ve(e,n){var i,r=[],s=[],a=k[e+" "];if(!a){for(n||(n=de(e)),i=n.length;i--;)(a=me(n[i]))[v]?r.push(a):s.push(a);a=k(e,function(e,n){var i=n.length>0,r=e.length>0,s=function(s,a,c,d,u){var p,f,m,v=0,y="0",w=s&&[],x=[],k=o,C=s||r&&t.find.TAG("*",u),S=b+=null==k?1:Math.random()||.1,T=C.length;for(u&&(o=a==l||a||u);y!==T&&null!=(p=C[y]);y++){if(r&&p){for(f=0,a||p.ownerDocument==l||(le(p),c=!h);m=e[f++];)if(m(p,a||l,c)){g.call(d,p);break}u&&(b=S)}i&&((p=!m&&p)&&v--,s&&w.push(p))}if(v+=y,i&&y!==v){for(f=0;m=n[f++];)m(w,x,a,c);if(s){if(v>0)for(;y--;)w[y]||x[y]||(x[y]=B.call(d));x=fe(x)}g.apply(d,x),u&&!s&&x.length>0&&v+n.length>1&&E.uniqueSort(d)}return u&&(b=S,o=k),w};return i?te(s):s}(s,r)),a.selector=e}return a}function be(e,o,n,i){var r,s,a,l,c,d="function"==typeof e&&e,u=!i&&de(e=d.selector||e);if(n=n||[],1===u.length){if((s=u[0]=u[0].slice(0)).length>2&&"ID"===(a=s[0]).type&&9===o.nodeType&&h&&t.relative[s[1].type]){if(!(o=(t.find.ID(a.matches[0].replace(G,K),o)||[])[0]))return n;d&&(o=o.parentNode),e=e.slice(s.shift().value.length)}for(r=W.needsContext.test(e)?0:s.length;r--&&(a=s[r],!t.relative[l=a.type]);)if((c=t.find[l])&&(i=c(a.matches[0].replace(G,K),X.test(s[0].type)&&ae(o.parentNode)||o))){if(s.splice(r,1),!(e=i.length&&he(s)))return g.apply(n,i),n;break}}return(d||ve(e,u))(i,o,!h,n,!o||X.test(e)&&ae(o.parentNode)||o),n}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,m.sortStable=v.split("").sort(S).join("")===v,le(),m.sortDetached=oe((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),E.find=Q,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,Q.compile=ve,Q.select=be,Q.setDocument=le,Q.tokenize=de,Q.escape=E.escapeSelector,Q.getText=E.text,Q.isXML=E.isXMLDoc,Q.selectors=E.expr,Q.support=E.support,Q.uniqueSort=E.uniqueSort}();var j=function(e,t,o){for(var n=[],i=void 0!==o;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(o))break;n.push(e)}return n},H=function(e,t){for(var o=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&o.push(e);return o},P=E.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(e,t,o){return v(t)?E.grep(e,(function(e,n){return!!t.call(e,n,e)!==o})):t.nodeType?E.grep(e,(function(e){return e===t!==o})):"string"!=typeof t?E.grep(e,(function(e){return d.call(t,e)>-1!==o})):E.filter(t,e,o)}E.filter=function(e,t,o){var n=t[0];return o&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?E.find.matchesSelector(n,e)?[n]:[]:E.find.matches(e,E.grep(t,(function(e){return 1===e.nodeType})))},E.fn.extend({find:function(e){var t,o,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter((function(){for(t=0;t<n;t++)if(E.contains(i[t],this))return!0})));for(o=this.pushStack([]),t=0;t<n;t++)E.find(e,i[t],o);return n>1?E.uniqueSort(o):o},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&P.test(e)?E(e):e||[],!1).length}});var U,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,o){var n,i;if(!e)return this;if(o=o||U,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:q.exec(e))||!n[1]&&t)return!t||t.jquery?(t||o).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),F.test(n[1])&&E.isPlainObject(t))for(n in t)v(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==o.ready?o.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,U=E(y);var W=/^(?:parents|prev(?:Until|All))/,$={children:!0,contents:!0,next:!0,prev:!0};function V(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),o=t.length;return this.filter((function(){for(var e=0;e<o;e++)if(E.contains(this,t[e]))return!0}))},closest:function(e,t){var o,n=0,i=this.length,r=[],s="string"!=typeof e&&E(e);if(!P.test(e))for(;n<i;n++)for(o=this[n];o&&o!==t;o=o.parentNode)if(o.nodeType<11&&(s?s.index(o)>-1:1===o.nodeType&&E.find.matchesSelector(o,e))){r.push(o);break}return this.pushStack(r.length>1?E.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?d.call(E(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,o){return j(e,"parentNode",o)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,o){return j(e,"nextSibling",o)},prevUntil:function(e,t,o){return j(e,"previousSibling",o)},siblings:function(e){return H((e.parentNode||{}).firstChild,e)},children:function(e){return H(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},(function(e,t){E.fn[e]=function(o,n){var i=E.map(this,t,o);return"Until"!==e.slice(-5)&&(n=o),n&&"string"==typeof n&&(i=E.filter(n,i)),this.length>1&&($[e]||E.uniqueSort(i),W.test(e)&&i.reverse()),this.pushStack(i)}}));var Y=/[^\x20\t\r\n\f]+/g;function X(e){return e}function G(e){throw e}function K(e,t,o,n){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(o):e&&v(i=e.then)?i.call(e,t,o):t.apply(void 0,[e].slice(n))}catch(e){o.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(Y)||[],(function(e,o){t[o]=!0})),t}(e):E.extend({},e);var t,o,n,i,r=[],s=[],a=-1,l=function(){for(i=i||e.once,n=t=!0;s.length;a=-1)for(o=s.shift();++a<r.length;)!1===r[a].apply(o[0],o[1])&&e.stopOnFalse&&(a=r.length,o=!1);e.memory||(o=!1),t=!1,i&&(r=o?[]:"")},c={add:function(){return r&&(o&&!t&&(a=r.length-1,s.push(o)),function t(o){E.each(o,(function(o,n){v(n)?e.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==k(n)&&t(n)}))}(arguments),o&&!t&&l()),this},remove:function(){return E.each(arguments,(function(e,t){for(var o;(o=E.inArray(t,r,o))>-1;)r.splice(o,1),o<=a&&a--})),this},has:function(e){return e?E.inArray(e,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return i=s=[],r=o="",this},disabled:function(){return!r},lock:function(){return i=s=[],o||t||(r=o=""),this},locked:function(){return!!i},fireWith:function(e,o){return i||(o=[e,(o=o||[]).slice?o.slice():o],s.push(o),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},E.extend({Deferred:function(e){var t=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],o="pending",i={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred((function(o){E.each(t,(function(t,n){var i=v(e[n[4]])&&e[n[4]];r[n[1]]((function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[n[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,o,i){var r=0;function s(e,t,o,i){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<r)){if((n=o.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?i?c.call(n,s(r,t,X,i),s(r,t,G,i)):(r++,c.call(n,s(r,t,X,i),s(r,t,G,i),s(r,t,X,t.notifyWith))):(o!==X&&(a=void 0,l=[n]),(i||t.resolveWith)(a,l))}},d=i?c:function(){try{c()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,d.error),e+1>=r&&(o!==G&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?d():(E.Deferred.getErrorHook?d.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(d.error=E.Deferred.getStackHook()),n.setTimeout(d))}}return E.Deferred((function(n){t[0][3].add(s(0,n,v(i)?i:X,n.notifyWith)),t[1][3].add(s(0,n,v(e)?e:X)),t[2][3].add(s(0,n,v(o)?o:G))})).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},r={};return E.each(t,(function(e,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add((function(){o=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),r[n[0]]=function(){return r[n[0]+"With"](this===r?void 0:this,arguments),this},r[n[0]+"With"]=s.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=arguments.length,o=t,n=Array(o),i=a.call(arguments),r=E.Deferred(),s=function(e){return function(o){n[e]=this,i[e]=arguments.length>1?a.call(arguments):o,--t||r.resolveWith(n,i)}};if(t<=1&&(K(e,r.done(s(o)).resolve,r.reject,!t),"pending"===r.state()||v(i[o]&&i[o].then)))return r.then();for(;o--;)K(i[o],s(o),r.reject);return r.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&Z.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){n.setTimeout((function(){throw e}))};var J=E.Deferred();function Q(){y.removeEventListener("DOMContentLoaded",Q),n.removeEventListener("load",Q),E.ready()}E.fn.ready=function(e){return J.then(e).catch((function(e){E.readyException(e)})),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||J.resolveWith(y,[E]))}}),E.ready.then=J.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?n.setTimeout(E.ready):(y.addEventListener("DOMContentLoaded",Q),n.addEventListener("load",Q));var ee=function(e,t,o,n,i,r,s){var a=0,l=e.length,c=null==o;if("object"===k(o))for(a in i=!0,o)ee(e,t,a,o[a],!0,r,s);else if(void 0!==n&&(i=!0,v(n)||(s=!0),c&&(s?(t.call(e,n),t=null):(c=t,t=function(e,t,o){return c.call(E(e),o)})),t))for(;a<l;a++)t(e[a],o,s?n:n.call(e[a],a,t(e[a],o)));return i?e:c?t.call(e):l?t(e[0],o):r},te=/^-ms-/,oe=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function ie(e){return e.replace(te,"ms-").replace(oe,ne)}var re=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=E.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},re(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,o){var n,i=this.cache(e);if("string"==typeof t)i[ie(t)]=o;else for(n in t)i[ie(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][ie(t)]},access:function(e,t,o){return void 0===t||t&&"string"==typeof t&&void 0===o?this.get(e,t):(this.set(e,t,o),void 0!==o?o:t)},remove:function(e,t){var o,n=e[this.expando];if(void 0!==n){if(void 0!==t){o=(t=Array.isArray(t)?t.map(ie):(t=ie(t))in n?[t]:t.match(Y)||[]).length;for(;o--;)delete n[t[o]]}(void 0===t||E.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var ae=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function he(e,t,o){var n;if(void 0===o&&1===e.nodeType)if(n="data-"+t.replace(de,"-$&").toLowerCase(),"string"==typeof(o=e.getAttribute(n))){try{o=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(o)}catch(e){}le.set(e,t,o)}else o=void 0;return o}E.extend({hasData:function(e){return le.hasData(e)||ae.hasData(e)},data:function(e,t,o){return le.access(e,t,o)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,o){return ae.access(e,t,o)},_removeData:function(e,t){ae.remove(e,t)}}),E.fn.extend({data:function(e,t){var o,n,i,r=this[0],s=r&&r.attributes;if(void 0===e){if(this.length&&(i=le.get(r),1===r.nodeType&&!ae.get(r,"hasDataAttrs"))){for(o=s.length;o--;)s[o]&&0===(n=s[o].name).indexOf("data-")&&(n=ie(n.slice(5)),he(r,n,i[n]));ae.set(r,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){le.set(this,e)})):ee(this,(function(t){var o;if(r&&void 0===t)return void 0!==(o=le.get(r,e))||void 0!==(o=he(r,e))?o:void 0;this.each((function(){le.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){le.remove(this,e)}))}}),E.extend({queue:function(e,t,o){var n;if(e)return t=(t||"fx")+"queue",n=ae.get(e,t),o&&(!n||Array.isArray(o)?n=ae.access(e,t,E.makeArray(o)):n.push(o)),n||[]},dequeue:function(e,t){t=t||"fx";var o=E.queue(e,t),n=o.length,i=o.shift(),r=E._queueHooks(e,t);"inprogress"===i&&(i=o.shift(),n--),i&&("fx"===t&&o.unshift("inprogress"),delete r.stop,i.call(e,(function(){E.dequeue(e,t)}),r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var o=t+"queueHooks";return ae.get(e,o)||ae.access(e,o,{empty:E.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",o])}))})}}),E.fn.extend({queue:function(e,t){var o=2;return"string"!=typeof e&&(t=e,e="fx",o--),arguments.length<o?E.queue(this[0],e):void 0===t?this:this.each((function(){var o=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==o[0]&&E.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){E.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,n=1,i=E.Deferred(),r=this,s=this.length,a=function(){--n||i.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=ae.get(r[s],e+"queueHooks"))&&o.empty&&(n++,o.empty.add(a));return a(),i.promise(t)}});var ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),fe=["Top","Right","Bottom","Left"],ge=y.documentElement,me=function(e){return E.contains(e.ownerDocument,e)},ve={composed:!0};ge.getRootNode&&(me=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var be=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===E.css(e,"display")};function ye(e,t,o,n){var i,r,s=20,a=n?function(){return n.cur()}:function(){return E.css(e,t,"")},l=a(),c=o&&o[3]||(E.cssNumber[t]?"":"px"),d=e.nodeType&&(E.cssNumber[t]||"px"!==c&&+l)&&pe.exec(E.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)E.style(e,t,d+c),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),d/=r;d*=2,E.style(e,t,d+c),o=o||[]}return o&&(d=+d||+l||0,i=o[1]?d+(o[1]+1)*o[2]:+o[2],n&&(n.unit=c,n.start=d,n.end=i)),i}var we={};function xe(e){var t,o=e.ownerDocument,n=e.nodeName,i=we[n];return i||(t=o.body.appendChild(o.createElement(n)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),we[n]=i,i)}function ke(e,t){for(var o,n,i=[],r=0,s=e.length;r<s;r++)(n=e[r]).style&&(o=n.style.display,t?("none"===o&&(i[r]=ae.get(n,"display")||null,i[r]||(n.style.display="")),""===n.style.display&&be(n)&&(i[r]=xe(n))):"none"!==o&&(i[r]="none",ae.set(n,"display",o)));for(r=0;r<s;r++)null!=i[r]&&(e[r].style.display=i[r]);return e}E.fn.extend({show:function(){return ke(this,!0)},hide:function(){return ke(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){be(this)?E(this).show():E(this).hide()}))}});var Ce,Se,Ee=/^(?:checkbox|radio)$/i,Te=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ae=/^$|^module$|\/(?:java|ecma)script/i;Ce=y.createDocumentFragment().appendChild(y.createElement("div")),(Se=y.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),Ce.appendChild(Se),m.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue,Ce.innerHTML="<option></option>",m.option=!!Ce.lastChild;var Be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Le(e,t){var o;return o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?E.merge([e],o):o}function _e(e,t){for(var o=0,n=e.length;o<n;o++)ae.set(e[o],"globalEval",!t||ae.get(t[o],"globalEval"))}Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,m.option||(Be.optgroup=Be.option=[1,"<select multiple='multiple'>","</select>"]);var Me=/<|&#?\w+;/;function Oe(e,t,o,n,i){for(var r,s,a,l,c,d,h=t.createDocumentFragment(),u=[],p=0,f=e.length;p<f;p++)if((r=e[p])||0===r)if("object"===k(r))E.merge(u,r.nodeType?[r]:r);else if(Me.test(r)){for(s=s||h.appendChild(t.createElement("div")),a=(Te.exec(r)||["",""])[1].toLowerCase(),l=Be[a]||Be._default,s.innerHTML=l[1]+E.htmlPrefilter(r)+l[2],d=l[0];d--;)s=s.lastChild;E.merge(u,s.childNodes),(s=h.firstChild).textContent=""}else u.push(t.createTextNode(r));for(h.textContent="",p=0;r=u[p++];)if(n&&E.inArray(r,n)>-1)i&&i.push(r);else if(c=me(r),s=Le(h.appendChild(r),"script"),c&&_e(s),o)for(d=0;r=s[d++];)Ae.test(r.type||"")&&o.push(r);return h}var Ie=/^([^.]*)(?:\.(.+)|)/;function Ne(){return!0}function Re(){return!1}function De(e,t,o,n,i,r){var s,a;if("object"==typeof t){for(a in"string"!=typeof o&&(n=n||o,o=void 0),t)De(e,a,o,n,t[a],r);return e}if(null==n&&null==i?(i=o,n=o=void 0):null==i&&("string"==typeof o?(i=n,n=void 0):(i=n,n=o,o=void 0)),!1===i)i=Re;else if(!i)return e;return 1===r&&(s=i,i=function(e){return E().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=E.guid++)),e.each((function(){E.event.add(this,t,i,n,o)}))}function je(e,t,o){o?(ae.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var o,n=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(n)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(n=a.call(arguments),ae.set(this,t,n),this[t](),o=ae.get(this,t),ae.set(this,t,!1),n!==o)return e.stopImmediatePropagation(),e.preventDefault(),o}else n&&(ae.set(this,t,E.event.trigger(n[0],n.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Ne)}})):void 0===ae.get(e,t)&&E.event.add(e,t,Ne)}E.event={global:{},add:function(e,t,o,n,i){var r,s,a,l,c,d,h,u,p,f,g,m=ae.get(e);if(re(e))for(o.handler&&(o=(r=o).handler,i=r.selector),i&&E.find.matchesSelector(ge,i),o.guid||(o.guid=E.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Y)||[""]).length;c--;)p=g=(a=Ie.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=E.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=E.event.special[p]||{},d=E.extend({type:p,origType:g,data:n,handler:o,guid:o.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:f.join(".")},r),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,d),d.handler.guid||(d.handler.guid=o.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),E.event.global[p]=!0)},remove:function(e,t,o,n,i){var r,s,a,l,c,d,h,u,p,f,g,m=ae.hasData(e)&&ae.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(Y)||[""]).length;c--;)if(p=g=(a=Ie.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=E.event.special[p]||{},u=l[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=u.length;r--;)d=u[r],!i&&g!==d.origType||o&&o.guid!==d.guid||a&&!a.test(d.namespace)||n&&n!==d.selector&&("**"!==n||!d.selector)||(u.splice(r,1),d.selector&&u.delegateCount--,h.remove&&h.remove.call(e,d));s&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||E.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[c],o,n,!0);E.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,o,n,i,r,s,a=new Array(arguments.length),l=E.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],d=E.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=E.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(n=((E.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var o,n,i,r,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(r=[],s={},o=0;o<l;o++)void 0===s[i=(n=t[o]).selector+" "]&&(s[i]=n.needsContext?E(i,this).index(c)>-1:E.find(i,this,null,[c]).length),s[i]&&r.push(n);r.length&&a.push({elem:c,handlers:r})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&A(t,"input")&&je(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&A(t,"input")&&je(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&A(t,"input")&&ae.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,o){e.removeEventListener&&e.removeEventListener(t,o)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ne:Re,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Re,isPropagationStopped:Re,isImmediatePropagationStopped:Re,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ne,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ne,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ne,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(e,t){function o(e){if(y.documentMode){var o=ae.get(this,"handle"),n=E.event.fix(e);n.type="focusin"===e.type?"focus":"blur",n.isSimulated=!0,o(e),n.target===n.currentTarget&&o(n)}else E.event.simulate(t,e.target,E.event.fix(e))}E.event.special[e]={setup:function(){var n;if(je(this,e,!0),!y.documentMode)return!1;(n=ae.get(this,t))||this.addEventListener(t,o),ae.set(this,t,(n||0)+1)},trigger:function(){return je(this,e),!0},teardown:function(){var e;if(!y.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,o),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},E.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,i=y.documentMode?this:n,r=ae.get(i,t);r||(y.documentMode?this.addEventListener(t,o):n.addEventListener(e,o,!0)),ae.set(i,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,i=y.documentMode?this:n,r=ae.get(i,t)-1;r?ae.set(i,t,r):(y.documentMode?this.removeEventListener(t,o):n.removeEventListener(e,o,!0),ae.remove(i,t))}}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t),o}}})),E.fn.extend({on:function(e,t,o,n){return De(this,e,t,o,n)},one:function(e,t,o,n){return De(this,e,t,o,n,1)},off:function(e,t,o){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,E(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(o=t,t=void 0),!1===o&&(o=Re),this.each((function(){E.event.remove(this,e,o,t)}))}});var He=/<script|<style|<link/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function We(e,t){var o,n,i,r,s,a;if(1===t.nodeType){if(ae.hasData(e)&&(a=ae.get(e).events))for(i in ae.remove(t,"handle events"),a)for(o=0,n=a[i].length;o<n;o++)E.event.add(t,i,a[i][o]);le.hasData(e)&&(r=le.access(e),s=E.extend({},r),le.set(t,s))}}function $e(e,t){var o=t.nodeName.toLowerCase();"input"===o&&Ee.test(e.type)?t.checked=e.checked:"input"!==o&&"textarea"!==o||(t.defaultValue=e.defaultValue)}function Ve(e,t,o,n){t=l(t);var i,r,s,a,c,d,h=0,u=e.length,p=u-1,f=t[0],g=v(f);if(g||u>1&&"string"==typeof f&&!m.checkClone&&Pe.test(f))return e.each((function(i){var r=e.eq(i);g&&(t[0]=f.call(this,i,r.html())),Ve(r,t,o,n)}));if(u&&(r=(i=Oe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=r),r||n)){for(a=(s=E.map(Le(i,"script"),Ue)).length;h<u;h++)c=i,h!==p&&(c=E.clone(c,!0,!0),a&&E.merge(s,Le(c,"script"))),o.call(e[h],c,h);if(a)for(d=s[s.length-1].ownerDocument,E.map(s,qe),h=0;h<a;h++)c=s[h],Ae.test(c.type||"")&&!ae.access(c,"globalEval")&&E.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?E._evalUrl&&!c.noModule&&E._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Fe,""),c,d))}return e}function Ye(e,t,o){for(var n,i=t?E.filter(t,e):e,r=0;null!=(n=i[r]);r++)o||1!==n.nodeType||E.cleanData(Le(n)),n.parentNode&&(o&&me(n)&&_e(Le(n,"script")),n.parentNode.removeChild(n));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,o){var n,i,r,s,a=e.cloneNode(!0),l=me(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(s=Le(a),n=0,i=(r=Le(e)).length;n<i;n++)$e(r[n],s[n]);if(t)if(o)for(r=r||Le(e),s=s||Le(a),n=0,i=r.length;n<i;n++)We(r[n],s[n]);else We(e,a);return(s=Le(a,"script")).length>0&&_e(s,!l&&Le(e,"script")),a},cleanData:function(e){for(var t,o,n,i=E.event.special,r=0;void 0!==(o=e[r]);r++)if(re(o)){if(t=o[ae.expando]){if(t.events)for(n in t.events)i[n]?E.event.remove(o,n):E.removeEvent(o,n,t.handle);o[ae.expando]=void 0}o[le.expando]&&(o[le.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Ye(this,e,!0)},remove:function(e){return Ye(this,e)},text:function(e){return ee(this,(function(e){return void 0===e?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(Le(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return E.clone(this,e,t)}))},html:function(e){return ee(this,(function(e){var t=this[0]||{},o=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!He.test(e)&&!Be[(Te.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;o<n;o++)1===(t=this[o]||{}).nodeType&&(E.cleanData(Le(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var o=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(Le(this)),o&&o.replaceChild(t,this))}),e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){E.fn[e]=function(e){for(var o,n=[],i=E(e),r=i.length-1,s=0;s<=r;s++)o=s===r?this:this.clone(!0),E(i[s])[t](o),c.apply(n,o.get());return this.pushStack(n)}}));var Xe=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),Ge=/^--/,Ke=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ze=function(e,t,o){var n,i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=o.call(e),t)e.style[i]=r[i];return n},Je=new RegExp(fe.join("|"),"i");function Qe(e,t,o){var n,i,r,s,a=Ge.test(t),l=e.style;return(o=o||Ke(e))&&(s=o.getPropertyValue(t)||o[t],a&&s&&(s=s.replace(O,"$1")||void 0),""!==s||me(e)||(s=E.style(e,t)),!m.pixelBoxStyles()&&Xe.test(s)&&Je.test(t)&&(n=l.width,i=l.minWidth,r=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=o.width,l.width=n,l.minWidth=i,l.maxWidth=r)),void 0!==s?s+"":s}function et(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(c).appendChild(d);var e=n.getComputedStyle(d);o="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",s=36===t(e.right),i=36===t(e.width),d.style.position="absolute",r=12===t(d.offsetWidth/3),ge.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var o,i,r,s,a,l,c=y.createElement("div"),d=y.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===d.style.backgroundClip,E.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),r},reliableTrDimensions:function(){var e,t,o,i;return null==a&&(e=y.createElement("table"),t=y.createElement("tr"),o=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",o.style.height="9px",o.style.display="block",ge.appendChild(e).appendChild(t).appendChild(o),i=n.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,ge.removeChild(e)),a}}))}();var tt=["Webkit","Moz","ms"],ot=y.createElement("div").style,nt={};function it(e){var t=E.cssProps[e]||nt[e];return t||(e in ot?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),o=tt.length;o--;)if((e=tt[o]+t)in ot)return e}(e)||e)}var rt=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function lt(e,t,o){var n=pe.exec(t);return n?Math.max(0,n[2]-(o||0))+(n[3]||"px"):t}function ct(e,t,o,n,i,r){var s="width"===t?1:0,a=0,l=0,c=0;if(o===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===o&&(c+=E.css(e,o+fe[s],!0,i)),n?("content"===o&&(l-=E.css(e,"padding"+fe[s],!0,i)),"margin"!==o&&(l-=E.css(e,"border"+fe[s]+"Width",!0,i))):(l+=E.css(e,"padding"+fe[s],!0,i),"padding"!==o?l+=E.css(e,"border"+fe[s]+"Width",!0,i):a+=E.css(e,"border"+fe[s]+"Width",!0,i));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-r-l-a-.5))||0),l+c}function dt(e,t,o){var n=Ke(e),i=(!m.boxSizingReliable()||o)&&"border-box"===E.css(e,"boxSizing",!1,n),r=i,s=Qe(e,t,n),a="offset"+t[0].toUpperCase()+t.slice(1);if(Xe.test(s)){if(!o)return s;s="auto"}return(!m.boxSizingReliable()&&i||!m.reliableTrDimensions()&&A(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===E.css(e,"display",!1,n))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,n),(r=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+ct(e,t,o||(i?"border":"content"),r,n,s)+"px"}function ht(e,t,o,n,i){return new ht.prototype.init(e,t,o,n,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=Qe(e,"opacity");return""===o?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,o,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,r,s,a=ie(t),l=Ge.test(t),c=e.style;if(l||(t=it(a)),s=E.cssHooks[t]||E.cssHooks[a],void 0===o)return s&&"get"in s&&void 0!==(i=s.get(e,!1,n))?i:c[t];"string"===(r=typeof o)&&(i=pe.exec(o))&&i[1]&&(o=ye(e,t,i),r="number"),null!=o&&o==o&&("number"!==r||l||(o+=i&&i[3]||(E.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==o||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(o=s.set(e,o,n))||(l?c.setProperty(t,o):c[t]=o))}},css:function(e,t,o,n){var i,r,s,a=ie(t);return Ge.test(t)||(t=it(a)),(s=E.cssHooks[t]||E.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,o)),void 0===i&&(i=Qe(e,t,n)),"normal"===i&&t in at&&(i=at[t]),""===o||o?(r=parseFloat(i),!0===o||isFinite(r)?r||0:i):i}}),E.each(["height","width"],(function(e,t){E.cssHooks[t]={get:function(e,o,n){if(o)return!rt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?dt(e,t,n):Ze(e,st,(function(){return dt(e,t,n)}))},set:function(e,o,n){var i,r=Ke(e),s=!m.scrollboxSize()&&"absolute"===r.position,a=(s||n)&&"border-box"===E.css(e,"boxSizing",!1,r),l=n?ct(e,t,n,a,r):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(r[t])-ct(e,t,"border",!1,r)-.5)),l&&(i=pe.exec(o))&&"px"!==(i[3]||"px")&&(e.style[t]=o,o=E.css(e,t)),lt(0,o,l)}}})),E.cssHooks.marginLeft=et(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Qe(e,"marginLeft"))||e.getBoundingClientRect().left-Ze(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(e,t){E.cssHooks[e+t]={expand:function(o){for(var n=0,i={},r="string"==typeof o?o.split(" "):[o];n<4;n++)i[e+fe[n]+t]=r[n]||r[n-2]||r[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=lt)})),E.fn.extend({css:function(e,t){return ee(this,(function(e,t,o){var n,i,r={},s=0;if(Array.isArray(t)){for(n=Ke(e),i=t.length;s<i;s++)r[t[s]]=E.css(e,t[s],!1,n);return r}return void 0!==o?E.style(e,t,o):E.css(e,t)}),e,t,arguments.length>1)}}),E.Tween=ht,ht.prototype={constructor:ht,init:function(e,t,o,n,i,r){this.elem=e,this.prop=o,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(E.cssNumber[o]?"":"px")},cur:function(){var e=ht.propHooks[this.prop];return e&&e.get?e.get(this):ht.propHooks._default.get(this)},run:function(e){var t,o=ht.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):ht.propHooks._default.set(this),this}},ht.prototype.init.prototype=ht.prototype,ht.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ht.propHooks.scrollTop=ht.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ht.prototype.init,E.fx.step={};var ut,pt,ft=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;function mt(){pt&&(!1===y.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(mt):n.setTimeout(mt,E.fx.interval),E.fx.tick())}function vt(){return n.setTimeout((function(){ut=void 0})),ut=Date.now()}function bt(e,t){var o,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(o=fe[n])]=i["padding"+o]=e;return t&&(i.opacity=i.width=e),i}function yt(e,t,o){for(var n,i=(wt.tweeners[t]||[]).concat(wt.tweeners["*"]),r=0,s=i.length;r<s;r++)if(n=i[r].call(o,t,e))return n}function wt(e,t,o){var n,i,r=0,s=wt.prefilters.length,a=E.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ut||vt(),o=Math.max(0,c.startTime+c.duration-t),n=1-(o/c.duration||0),r=0,s=c.tweens.length;r<s;r++)c.tweens[r].run(n);return a.notifyWith(e,[c,n,o]),n<1&&s?o:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},o),originalProperties:t,originalOptions:o,startTime:ut||vt(),duration:o.duration,tweens:[],createTween:function(t,o){var n=E.Tween(e,c.opts,t,o,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var o=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;o<n;o++)c.tweens[o].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var o,n,i,r,s;for(o in e)if(i=t[n=ie(o)],r=e[o],Array.isArray(r)&&(i=r[1],r=e[o]=r[0]),o!==n&&(e[n]=r,delete e[o]),(s=E.cssHooks[n])&&"expand"in s)for(o in r=s.expand(r),delete e[n],r)o in e||(e[o]=r[o],t[o]=i);else t[n]=i}(d,c.opts.specialEasing);r<s;r++)if(n=wt.prefilters[r].call(c,e,d,c.opts))return v(n.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return E.map(d,yt,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(wt,{tweeners:{"*":[function(e,t){var o=this.createTween(e,t);return ye(o.elem,e,pe.exec(t),o),o}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(Y);for(var o,n=0,i=e.length;n<i;n++)o=e[n],wt.tweeners[o]=wt.tweeners[o]||[],wt.tweeners[o].unshift(t)},prefilters:[function(e,t,o){var n,i,r,s,a,l,c,d,h="width"in t||"height"in t,u=this,p={},f=e.style,g=e.nodeType&&be(e),m=ae.get(e,"fxshow");for(n in o.queue||(null==(s=E._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,E.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[n],ft.test(i)){if(delete t[n],r=r||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||E.style(e,n)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(n in h&&1===e.nodeType&&(o.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=ae.get(e,"display")),"none"===(d=E.css(e,"display"))&&(c?d=c:(ke([e],!0),c=e.style.display||c,d=E.css(e,"display"),ke([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===E.css(e,"float")&&(l||(u.done((function(){f.display=c})),null==c&&(d=f.display,c="none"===d?"":d)),f.display="inline-block")),o.overflow&&(f.overflow="hidden",u.always((function(){f.overflow=o.overflow[0],f.overflowX=o.overflow[1],f.overflowY=o.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=ae.access(e,"fxshow",{display:c}),r&&(m.hidden=!g),g&&ke([e],!0),u.done((function(){for(n in g||ke([e]),ae.remove(e,"fxshow"),p)E.style(e,n,p[n])}))),l=yt(g?m[n]:0,n,u),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?wt.prefilters.unshift(e):wt.prefilters.push(e)}}),E.speed=function(e,t,o){var n=e&&"object"==typeof e?E.extend({},e):{complete:o||!o&&t||v(e)&&e,duration:e,easing:o&&t||t&&!v(t)&&t};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(e,t,o,n){return this.filter(be).css("opacity",0).show().end().animate({opacity:t},e,o,n)},animate:function(e,t,o,n){var i=E.isEmptyObject(e),r=E.speed(t,o,n),s=function(){var t=wt(this,E.extend({},e),r);(i||ae.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(e,t,o){var n=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof e&&(o=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",r=E.timers,s=ae.get(this);if(i)s[i]&&s[i].stop&&n(s[i]);else for(i in s)s[i]&&s[i].stop&&gt.test(i)&&n(s[i]);for(i=r.length;i--;)r[i].elem!==this||null!=e&&r[i].queue!==e||(r[i].anim.stop(o),t=!1,r.splice(i,1));!t&&o||E.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,o=ae.get(this),n=o[e+"queue"],i=o[e+"queueHooks"],r=E.timers,s=n?n.length:0;for(o.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete o.finish}))}}),E.each(["toggle","show","hide"],(function(e,t){var o=E.fn[t];E.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(bt(t,!0),e,n,i)}})),E.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){E.fn[e]=function(e,o,n){return this.animate(t,e,o,n)}})),E.timers=[],E.fx.tick=function(){var e,t=0,o=E.timers;for(ut=Date.now();t<o.length;t++)(e=o[t])()||o[t]!==e||o.splice(t--,1);o.length||E.fx.stop(),ut=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){pt||(pt=!0,mt())},E.fx.stop=function(){pt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(e,t){return e=E.fx&&E.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,o){var i=n.setTimeout(t,e);o.stop=function(){n.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var xt,kt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return ee(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){E.removeAttr(this,e)}))}}),E.extend({attr:function(e,t,o){var n,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===e.getAttribute?E.prop(e,t,o):(1===r&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?xt:void 0)),void 0!==o?null===o?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:(e.setAttribute(t,o+""),o):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=E.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&A(e,"input")){var o=e.value;return e.setAttribute("type",t),o&&(e.value=o),t}}}},removeAttr:function(e,t){var o,n=0,i=t&&t.match(Y);if(i&&1===e.nodeType)for(;o=i[n++];)e.removeAttribute(o)}}),xt={set:function(e,t,o){return!1===t?E.removeAttr(e,o):e.setAttribute(o,o),o}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(e,t){var o=kt[t]||E.find.attr;kt[t]=function(e,t,n){var i,r,s=t.toLowerCase();return n||(r=kt[s],kt[s]=i,i=null!=o(e,t,n)?s:null,kt[s]=r),i}}));var Ct=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;function Et(e){return(e.match(Y)||[]).join(" ")}function Tt(e){return e.getAttribute&&e.getAttribute("class")||""}function At(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Y)||[]}E.fn.extend({prop:function(e,t){return ee(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[E.propFix[e]||e]}))}}),E.extend({prop:function(e,t,o){var n,i,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==o?i&&"set"in i&&void 0!==(n=i.set(e,o,t))?n:e[t]=o:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Ct.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(e){var t,o,n,i,r,s;return v(e)?this.each((function(t){E(this).addClass(e.call(this,t,Tt(this)))})):(t=At(e)).length?this.each((function(){if(n=Tt(this),o=1===this.nodeType&&" "+Et(n)+" "){for(r=0;r<t.length;r++)i=t[r],o.indexOf(" "+i+" ")<0&&(o+=i+" ");s=Et(o),n!==s&&this.setAttribute("class",s)}})):this},removeClass:function(e){var t,o,n,i,r,s;return v(e)?this.each((function(t){E(this).removeClass(e.call(this,t,Tt(this)))})):arguments.length?(t=At(e)).length?this.each((function(){if(n=Tt(this),o=1===this.nodeType&&" "+Et(n)+" "){for(r=0;r<t.length;r++)for(i=t[r];o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");s=Et(o),n!==s&&this.setAttribute("class",s)}})):this:this.attr("class","")},toggleClass:function(e,t){var o,n,i,r,s=typeof e,a="string"===s||Array.isArray(e);return v(e)?this.each((function(o){E(this).toggleClass(e.call(this,o,Tt(this),t),t)})):"boolean"==typeof t&&a?t?this.addClass(e):this.removeClass(e):(o=At(e),this.each((function(){if(a)for(r=E(this),i=0;i<o.length;i++)n=o[i],r.hasClass(n)?r.removeClass(n):r.addClass(n);else void 0!==e&&"boolean"!==s||((n=Tt(this))&&ae.set(this,"__className__",n),this.setAttribute&&this.setAttribute("class",n||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,o,n=0;for(t=" "+e+" ";o=this[n++];)if(1===o.nodeType&&(" "+Et(Tt(o))+" ").indexOf(t)>-1)return!0;return!1}});var Bt=/\r/g;E.fn.extend({val:function(e){var t,o,n,i=this[0];return arguments.length?(n=v(e),this.each((function(o){var i;1===this.nodeType&&(null==(i=n?e.call(this,o,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,(function(e){return null==e?"":e+""}))),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(o=t.get(i,"value"))?o:"string"==typeof(o=i.value)?o.replace(Bt,""):null==o?"":o:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:Et(E.text(e))}},select:{get:function(e){var t,o,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?r+1:i.length;for(n=r<0?l:s?r:0;n<l;n++)if(((o=i[n]).selected||n===r)&&!o.disabled&&(!o.parentNode.disabled||!A(o.parentNode,"optgroup"))){if(t=E(o).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var o,n,i=e.options,r=E.makeArray(t),s=i.length;s--;)((n=i[s]).selected=E.inArray(E.valHooks.option.get(n),r)>-1)&&(o=!0);return o||(e.selectedIndex=-1),r}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},m.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Lt=n.location,_t={guid:Date.now()},Mt=/\?/;E.parseXML=function(e){var t,o;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return o=t&&t.getElementsByTagName("parsererror")[0],t&&!o||E.error("Invalid XML: "+(o?E.map(o.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Ot=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(e,t,o,i){var r,s,a,l,c,d,h,u,f=[o||y],g=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=u=a=o=o||y,3!==o.nodeType&&8!==o.nodeType&&!Ot.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(e=e[E.expando]?e:new E.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:E.makeArray(t,[e]),h=E.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(o,t))){if(!i&&!h.noBubble&&!b(o)){for(l=h.delegateType||g,Ot.test(l+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(o.ownerDocument||y)&&f.push(a.defaultView||a.parentWindow||n)}for(r=0;(s=f[r++])&&!e.isPropagationStopped();)u=s,e.type=r>1?l:h.bindType||g,(d=(ae.get(s,"events")||Object.create(null))[e.type]&&ae.get(s,"handle"))&&d.apply(s,t),(d=c&&s[c])&&d.apply&&re(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!re(o)||c&&v(o[g])&&!b(o)&&((a=o[c])&&(o[c]=null),E.event.triggered=g,e.isPropagationStopped()&&u.addEventListener(g,It),o[g](),e.isPropagationStopped()&&u.removeEventListener(g,It),E.event.triggered=void 0,a&&(o[c]=a)),e.result}},simulate:function(e,t,o){var n=E.extend(new E.Event,o,{type:e,isSimulated:!0});E.event.trigger(n,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each((function(){E.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var o=this[0];if(o)return E.event.trigger(e,t,o,!0)}});var Nt=/\[\]$/,Rt=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function Ht(e,t,o,n){var i;if(Array.isArray(t))E.each(t,(function(t,i){o||Nt.test(e)?n(e,i):Ht(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,o,n)}));else if(o||"object"!==k(t))n(e,t);else for(i in t)Ht(e+"["+i+"]",t[i],o,n)}E.param=function(e,t){var o,n=[],i=function(e,t){var o=v(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==o?"":o)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,(function(){i(this.name,this.value)}));else for(o in e)Ht(o,e[o],t,i);return n.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Ee.test(e))})).map((function(e,t){var o=E(this).val();return null==o?null:Array.isArray(o)?E.map(o,(function(e){return{name:t.name,value:e.replace(Rt,"\r\n")}})):{name:t.name,value:o.replace(Rt,"\r\n")}})).get()}});var Pt=/%20/g,Ft=/#.*$/,zt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)$/gm,qt=/^(?:GET|HEAD)$/,Wt=/^\/\//,$t={},Vt={},Yt="*/".concat("*"),Xt=y.createElement("a");function Gt(e){return function(t,o){"string"!=typeof t&&(o=t,t="*");var n,i=0,r=t.toLowerCase().match(Y)||[];if(v(o))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(o)):(e[n]=e[n]||[]).push(o)}}function Kt(e,t,o,n){var i={},r=e===Vt;function s(a){var l;return i[a]=!0,E.each(e[a]||[],(function(e,a){var c=a(t,o,n);return"string"!=typeof c||r||i[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Zt(e,t){var o,n,i=E.ajaxSettings.flatOptions||{};for(o in t)void 0!==t[o]&&((i[o]?e:n||(n={}))[o]=t[o]);return n&&E.extend(!0,e,n),e}Xt.href=Lt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Zt(Zt(e,E.ajaxSettings),t):Zt(E.ajaxSettings,e)},ajaxPrefilter:Gt($t),ajaxTransport:Gt(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,i,r,s,a,l,c,d,h,u,p=E.ajaxSetup({},t),f=p.context||p,g=p.context&&(f.nodeType||f.jquery)?E(f):E.event,m=E.Deferred(),v=E.Callbacks("once memory"),b=p.statusCode||{},w={},x={},k="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ut.exec(r);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?r:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||k;return o&&o.abort(t),S(0,t),this}};if(m.promise(C),p.url=((e||p.url||Lt.href)+"").replace(Wt,Lt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Y)||[""],null==p.crossDomain){l=y.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Xt.protocol+"//"+Xt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=E.param(p.data,p.traditional)),Kt($t,p,t,C),c)return C;for(h in(d=E.event&&p.global)&&0==E.active++&&E.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!qt.test(p.type),i=p.url.replace(Ft,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Pt,"+")):(u=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Mt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(zt,"$1"),u=(Mt.test(i)?"&":"?")+"_="+_t.guid+++u),p.url=i+u),p.ifModified&&(E.lastModified[i]&&C.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&C.setRequestHeader("If-None-Match",E.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Yt+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,C,p)||c))return C.abort();if(k="abort",v.add(p.complete),C.done(p.success),C.fail(p.error),o=Kt(Vt,p,t,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(a=n.setTimeout((function(){C.abort("timeout")}),p.timeout));try{c=!1,o.send(w,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,l){var h,u,y,w,x,k=t;c||(c=!0,a&&n.clearTimeout(a),o=void 0,r=l||"",C.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(w=function(e,t,o){for(var n,i,r,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){l.unshift(i);break}if(l[0]in o)r=l[0];else{for(i in o){if(!l[0]||e.converters[i+" "+l[0]]){r=i;break}s||(s=i)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),o[r]}(p,C,s)),!h&&E.inArray("script",p.dataTypes)>-1&&E.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),w=function(e,t,o,n){var i,r,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(r=d.shift();r;)if(e.responseFields[r]&&(o[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=c[l+" "+r]||c["* "+r]))for(i in c)if((a=i.split(" "))[1]===r&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(r=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}(p,w,C,h),h?(p.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=x),(x=C.getResponseHeader("etag"))&&(E.etag[i]=x)),204===e||"HEAD"===p.type?k="nocontent":304===e?k="notmodified":(k=w.state,u=w.data,h=!(y=w.error))):(y=k,!e&&k||(k="error",e<0&&(e=0))),C.status=e,C.statusText=(t||k)+"",h?m.resolveWith(f,[u,k,C]):m.rejectWith(f,[C,k,y]),C.statusCode(b),b=void 0,d&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,p,h?u:y]),v.fireWith(f,[C,k]),d&&(g.trigger("ajaxComplete",[C,p]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,o){return E.get(e,t,o,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],(function(e,t){E[t]=function(e,o,n,i){return v(o)&&(i=i||n,n=o,o=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:o,success:n},E.isPlainObject(e)&&e))}})),E.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),E._evalUrl=function(e,t,o){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,o)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){E(this).wrapInner(e.call(this,t))})):this.each((function(){var t=E(this),o=t.contents();o.length?o.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(o){E(this).wrapAll(t?e.call(this,o):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Qt=E.ajaxSettings.xhr();m.cors=!!Qt&&"withCredentials"in Qt,m.ajax=Qt=!!Qt,E.ajaxTransport((function(e){var t,o;if(m.cors||Qt&&!e.crossDomain)return{send:function(i,r){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(Jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),o=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&o()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),E.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),E.ajaxTransport("script",(function(e){var t,o;if(e.crossDomain||e.scriptAttrs)return{send:function(n,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",o=function(e){t.remove(),o=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){o&&o()}}}));var eo,to=[],oo=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=to.pop()||E.expando+"_"+_t.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",(function(e,t,o){var i,r,s,a=!1!==e.jsonp&&(oo.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&oo.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(oo,"$1"+i):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||E.error(i+" was not called"),s[0]},e.dataTypes[0]="json",r=n[i],n[i]=function(){s=arguments},o.always((function(){void 0===r?E(n).removeProp(i):n[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,to.push(i)),s&&v(r)&&r(s[0]),s=r=void 0})),"script"})),m.createHTMLDocument=((eo=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===eo.childNodes.length),E.parseHTML=function(e,t,o){return"string"!=typeof e?[]:("boolean"==typeof t&&(o=t,t=!1),t||(m.createHTMLDocument?((n=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(n)):t=y),r=!o&&[],(i=F.exec(e))?[t.createElement(i[1])]:(i=Oe([e],t,r),r&&r.length&&E(r).remove(),E.merge([],i.childNodes)));var n,i,r},E.fn.load=function(e,t,o){var n,i,r,s=this,a=e.indexOf(" ");return a>-1&&(n=Et(e.slice(a)),e=e.slice(0,a)),v(t)?(o=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){r=arguments,s.html(n?E("<div>").append(E.parseHTML(e)).find(n):e)})).always(o&&function(e,t){s.each((function(){o.apply(this,r||[e.responseText,t,e])}))}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,(function(t){return e===t.elem})).length},E.offset={setOffset:function(e,t,o){var n,i,r,s,a,l,c=E.css(e,"position"),d=E(e),h={};"static"===c&&(e.style.position="relative"),a=d.offset(),r=E.css(e,"top"),l=E.css(e,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(s=(n=d.position()).top,i=n.left):(s=parseFloat(r)||0,i=parseFloat(l)||0),v(t)&&(t=t.call(e,o,E.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):d.css(h)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){E.offset.setOffset(this,e,t)}));var t,o,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),o=n.ownerDocument.defaultView,{top:t.top+o.pageYOffset,left:t.left+o.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,o,n=this[0],i={top:0,left:0};if("fixed"===E.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),o=n.ownerDocument,e=n.offsetParent||o.documentElement;e&&(e===o.body||e===o.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(n,"marginTop",!0),left:t.left-i.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ge}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var o="pageYOffset"===t;E.fn[e]=function(n){return ee(this,(function(e,n,i){var r;if(b(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===i)return r?r[t]:e[n];r?r.scrollTo(o?r.pageXOffset:i,o?i:r.pageYOffset):e[n]=i}),e,n,arguments.length)}})),E.each(["top","left"],(function(e,t){E.cssHooks[t]=et(m.pixelPosition,(function(e,o){if(o)return o=Qe(e,t),Xe.test(o)?E(e).position()[t]+"px":o}))})),E.each({Height:"height",Width:"width"},(function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},(function(o,n){E.fn[n]=function(i,r){var s=arguments.length&&(o||"boolean"!=typeof i),a=o||(!0===i||!0===r?"margin":"border");return ee(this,(function(t,o,i){var r;return b(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?E.css(t,o,a):E.style(t,o,i,a)}),t,s?i:void 0,s)}}))})),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){E.fn[t]=function(e){return this.on(t,e)}})),E.fn.extend({bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,n){return this.on(t,e,o,n)},undelegate:function(e,t,o){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",o)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){E.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}}));var no=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var o,n,i;if("string"==typeof t&&(o=e[t],t=e,e=o),v(e))return n=a.call(arguments,2),i=function(){return e.apply(t||this,n.concat(a.call(arguments)))},i.guid=e.guid=e.guid||E.guid++,i},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=A,E.isFunction=v,E.isWindow=b,E.camelCase=ie,E.type=k,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(no,"$1")},void 0===(o=function(){return E}.apply(t,[]))||(e.exports=o);var io=n.jQuery,ro=n.$;return E.noConflict=function(e){return n.$===E&&(n.$=ro),e&&n.jQuery===E&&(n.jQuery=io),E},void 0===i&&(n.jQuery=n.$=E),E}))},11896:(e,t,o)=>{"use strict";var n=o(69063),i=o(44596),r=TypeError;e.exports=function(e){if(n(e))return e;throw new r(i(e)+" is not a function")}},43984:(e,t,o)=>{"use strict";var n=o(70780),i=o(44596),r=TypeError;e.exports=function(e){if(n(e))return e;throw new r(i(e)+" is not a constructor")}},19472:(e,t,o)=>{"use strict";var n=o(10968),i=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw new r("Can't set "+i(e)+" as a prototype")}},62328:(e,t,o)=>{"use strict";var n=o(81840),i=o(28340),r=o(50368).f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&r(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},38176:(e,t,o)=>{"use strict";var n=o(46056),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},78424:(e,t,o)=>{"use strict";var n=o(30808),i=String,r=TypeError;e.exports=function(e){if(n(e))return e;throw new r(i(e)+" is not an object")}},75935:(e,t,o)=>{"use strict";var n=o(44904).forEach,i=o(94528)("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},22196:(e,t,o)=>{"use strict";var n=o(99740),i=o(34160),r=o(29480),s=function(e){return function(t,o,s){var a,l=n(t),c=r(l),d=i(s,c);if(e&&o!=o){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===o)return e||d||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},44904:(e,t,o)=>{"use strict";var n=o(62880),i=o(11447),r=o(26212),s=o(16804),a=o(29480),l=o(38488),c=i([].push),d=function(e){var t=1===e,o=2===e,i=3===e,d=4===e,h=6===e,u=7===e,p=5===e||h;return function(f,g,m,v){for(var b,y,w=s(f),x=r(w),k=a(x),C=n(g,m),S=0,E=v||l,T=t?E(f,k):o||u?E(f,0):void 0;k>S;S++)if((p||S in x)&&(y=C(b=x[S],S,w),e))if(t)T[S]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return S;case 2:c(T,b)}else switch(e){case 4:return!1;case 7:c(T,b)}return h?-1:i||d?d:T}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},37776:(e,t,o)=>{"use strict";var n=o(46040),i=o(81840),r=o(43356),s=i("species");e.exports=function(e){return r>=51||!n((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},94528:(e,t,o)=>{"use strict";var n=o(46040);e.exports=function(e,t){var o=[][e];return!!o&&n((function(){o.call(null,t||function(){return 1},1)}))}},42696:(e,t,o)=>{"use strict";var n=o(83528),i=o(41064),r=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},87588:(e,t,o)=>{"use strict";var n=o(11447);e.exports=n([].slice)},92244:(e,t,o)=>{"use strict";var n=o(41064),i=o(70780),r=o(30808),s=o(81840)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===a||n(t.prototype))||r(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?a:t}},38488:(e,t,o)=>{"use strict";var n=o(92244);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},91400:(e,t,o)=>{"use strict";var n=o(81840)("iterator"),i=!1;try{var r=0,s={next:function(){return{done:!!r++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(e){return!1}var o=!1;try{var r={};r[n]=function(){return{next:function(){return{done:o=!0}}}},e(r)}catch(e){}return o}},75983:(e,t,o)=>{"use strict";var n=o(11447),i=n({}.toString),r=n("".slice);e.exports=function(e){return r(i(e),8,-1)}},38040:(e,t,o)=>{"use strict";var n=o(41712),i=o(69063),r=o(75983),s=o(81840)("toStringTag"),a=Object,l="Arguments"===r(function(){return arguments}());e.exports=n?r:function(e){var t,o,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(o=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?o:l?r(t):"Object"===(n=r(t))&&i(t.callee)?"Arguments":n}},34304:(e,t,o)=>{"use strict";var n=o(16216),i=o(89976),r=o(14560),s=o(50368);e.exports=function(e,t,o){for(var a=i(t),l=s.f,c=r.f,d=0;d<a.length;d++){var h=a[d];n(e,h)||o&&n(o,h)||l(e,h,c(t,h))}}},29120:(e,t,o)=>{"use strict";var n=o(46040);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},42596:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},13652:(e,t,o)=>{"use strict";var n=o(83528),i=o(50368),r=o(89200);e.exports=n?function(e,t,o){return i.f(e,t,r(1,o))}:function(e,t,o){return e[t]=o,e}},89200:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},98931:(e,t,o)=>{"use strict";var n=o(38732),i=o(50368),r=o(89200);e.exports=function(e,t,o){var s=n(t);s in e?i.f(e,s,r(0,o)):e[s]=o}},41720:(e,t,o)=>{"use strict";var n=o(50316),i=o(50368);e.exports=function(e,t,o){return o.get&&n(o.get,t,{getter:!0}),o.set&&n(o.set,t,{setter:!0}),i.f(e,t,o)}},63244:(e,t,o)=>{"use strict";var n=o(69063),i=o(50368),r=o(50316),s=o(1544);e.exports=function(e,t,o,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(n(o)&&r(o,c,a),a.global)l?e[t]=o:s(t,o);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(e){}l?e[t]=o:i.f(e,t,{value:o,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},1544:(e,t,o)=>{"use strict";var n=o(35624),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(o){n[e]=t}return t}},83528:(e,t,o)=>{"use strict";var n=o(46040);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},19308:(e,t,o)=>{"use strict";var n=o(35624),i=o(30808),r=n.document,s=i(r)&&i(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},83272:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},95848:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8280:(e,t,o)=>{"use strict";var n=o(19308)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},80888:(e,t,o)=>{"use strict";var n=o(18104),i=o(71648);e.exports=!n&&!i&&"object"==typeof window&&"object"==typeof document},18104:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},35851:(e,t,o)=>{"use strict";var n=o(18232);e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},46632:(e,t,o)=>{"use strict";var n=o(18232);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},71648:(e,t,o)=>{"use strict";var n=o(35624),i=o(75983);e.exports="process"===i(n.process)},22424:(e,t,o)=>{"use strict";var n=o(18232);e.exports=/web0s(?!.*chrome)/i.test(n)},18232:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},43356:(e,t,o)=>{"use strict";var n,i,r=o(35624),s=o(18232),a=r.process,l=r.Deno,c=a&&a.versions||l&&l.version,d=c&&c.v8;d&&(i=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},44656:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},66064:(e,t,o)=>{"use strict";var n=o(11447),i=Error,r=n("".replace),s=String(new i("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)for(;t--;)e=r(e,a,"");return e}},34736:(e,t,o)=>{"use strict";var n=o(13652),i=o(66064),r=o(51512),s=Error.captureStackTrace;e.exports=function(e,t,o,a){r&&(s?s(e,t):n(e,"stack",i(o,a)))}},51512:(e,t,o)=>{"use strict";var n=o(46040),i=o(89200);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},18960:(e,t,o)=>{"use strict";var n=o(83528),i=o(46040),r=o(78424),s=o(18659),a=Error.prototype.toString,l=i((function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=l?function(){var e=r(this),t=s(e.name,"Error"),o=s(e.message);return t?o?t+": "+o:t:o}:a},3748:(e,t,o)=>{"use strict";var n=o(35624),i=o(14560).f,r=o(13652),s=o(63244),a=o(1544),l=o(34304),c=o(15272);e.exports=function(e,t){var o,d,h,u,p,f=e.target,g=e.global,m=e.stat;if(o=g?n:m?n[f]||a(f,{}):n[f]&&n[f].prototype)for(d in t){if(u=t[d],h=e.dontCallGetSet?(p=i(o,d))&&p.value:o[d],!c(g?d:f+(m?".":"#")+d,e.forced)&&void 0!==h){if(typeof u==typeof h)continue;l(u,h)}(e.sham||h&&h.sham)&&r(u,"sham",!0),s(o,d,u,e)}}},46040:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},54744:(e,t,o)=>{"use strict";var n=o(95744),i=Function.prototype,r=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(r):function(){return s.apply(r,arguments)})},62880:(e,t,o)=>{"use strict";var n=o(78168),i=o(11896),r=o(95744),s=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:r?s(e,t):function(){return e.apply(t,arguments)}}},95744:(e,t,o)=>{"use strict";var n=o(46040);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},40892:(e,t,o)=>{"use strict";var n=o(95744),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},43788:(e,t,o)=>{"use strict";var n=o(83528),i=o(16216),r=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=i(r,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},56632:(e,t,o)=>{"use strict";var n=o(11447),i=o(11896);e.exports=function(e,t,o){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[o]))}catch(e){}}},78168:(e,t,o)=>{"use strict";var n=o(75983),i=o(11447);e.exports=function(e){if("Function"===n(e))return i(e)}},11447:(e,t,o)=>{"use strict";var n=o(95744),i=Function.prototype,r=i.call,s=n&&i.bind.bind(r,r);e.exports=n?s:function(e){return function(){return r.apply(e,arguments)}}},64960:(e,t,o)=>{"use strict";var n=o(35624),i=o(69063);e.exports=function(e,t){return arguments.length<2?(o=n[e],i(o)?o:void 0):n[e]&&n[e][t];var o}},67508:(e,t,o)=>{"use strict";var n=o(38040),i=o(30364),r=o(40952),s=o(34920),a=o(81840)("iterator");e.exports=function(e){if(!r(e))return i(e,a)||i(e,"@@iterator")||s[n(e)]}},82704:(e,t,o)=>{"use strict";var n=o(40892),i=o(11896),r=o(78424),s=o(44596),a=o(67508),l=TypeError;e.exports=function(e,t){var o=arguments.length<2?a(e):t;if(i(o))return r(n(o,e));throw new l(s(e)+" is not iterable")}},6852:(e,t,o)=>{"use strict";var n=o(11447),i=o(41064),r=o(69063),s=o(75983),a=o(91992),l=n([].push);e.exports=function(e){if(r(e))return e;if(i(e)){for(var t=e.length,o=[],n=0;n<t;n++){var c=e[n];"string"==typeof c?l(o,c):"number"!=typeof c&&"Number"!==s(c)&&"String"!==s(c)||l(o,a(c))}var d=o.length,h=!0;return function(e,t){if(h)return h=!1,t;if(i(this))return t;for(var n=0;n<d;n++)if(o[n]===e)return t}}}},30364:(e,t,o)=>{"use strict";var n=o(11896),i=o(40952);e.exports=function(e,t){var o=e[t];return i(o)?void 0:n(o)}},35624:function(e,t,o){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof o.g&&o.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},16216:(e,t,o)=>{"use strict";var n=o(11447),i=o(16804),r=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(i(e),t)}},96480:e=>{"use strict";e.exports={}},68600:e=>{"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}}},36836:(e,t,o)=>{"use strict";var n=o(64960);e.exports=n("document","documentElement")},80784:(e,t,o)=>{"use strict";var n=o(83528),i=o(46040),r=o(19308);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},26212:(e,t,o)=>{"use strict";var n=o(11447),i=o(46040),r=o(75983),s=Object,a=n("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===r(e)?a(e,""):s(e)}:s},2744:(e,t,o)=>{"use strict";var n=o(69063),i=o(30808),r=o(45168);e.exports=function(e,t,o){var s,a;return r&&n(s=t.constructor)&&s!==o&&i(a=s.prototype)&&a!==o.prototype&&r(e,a),e}},58460:(e,t,o)=>{"use strict";var n=o(11447),i=o(69063),r=o(49136),s=n(Function.toString);i(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},18712:(e,t,o)=>{"use strict";var n=o(30808),i=o(13652);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},5444:(e,t,o)=>{"use strict";var n,i,r,s=o(40280),a=o(35624),l=o(30808),c=o(13652),d=o(16216),h=o(49136),u=o(58192),p=o(96480),f="Object already initialized",g=a.TypeError,m=a.WeakMap;if(s||h.state){var v=h.state||(h.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new g(f);return t.facade=e,v.set(e,t),t},i=function(e){return v.get(e)||{}},r=function(e){return v.has(e)}}else{var b=u("state");p[b]=!0,n=function(e,t){if(d(e,b))throw new g(f);return t.facade=e,c(e,b,t),t},i=function(e){return d(e,b)?e[b]:{}},r=function(e){return d(e,b)}}e.exports={set:n,get:i,has:r,enforce:function(e){return r(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var o;if(!l(t)||(o=i(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return o}}}},34264:(e,t,o)=>{"use strict";var n=o(81840),i=o(34920),r=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[r]===e)}},41064:(e,t,o)=>{"use strict";var n=o(75983);e.exports=Array.isArray||function(e){return"Array"===n(e)}},69063:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},70780:(e,t,o)=>{"use strict";var n=o(11447),i=o(46040),r=o(69063),s=o(38040),a=o(64960),l=o(58460),c=function(){},d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,u=n(h.exec),p=!h.test(c),f=function(e){if(!r(e))return!1;try{return d(c,[],e),!0}catch(e){return!1}},g=function(e){if(!r(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!u(h,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!d||i((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?g:f},15272:(e,t,o)=>{"use strict";var n=o(46040),i=o(69063),r=/#|\.prototype\./,s=function(e,t){var o=l[a(e)];return o===d||o!==c&&(i(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",d=s.POLYFILL="P";e.exports=s},40952:e=>{"use strict";e.exports=function(e){return null==e}},30808:(e,t,o)=>{"use strict";var n=o(69063);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},10968:(e,t,o)=>{"use strict";var n=o(30808);e.exports=function(e){return n(e)||null===e}},52804:e=>{"use strict";e.exports=!1},26232:(e,t,o)=>{"use strict";var n=o(64960),i=o(69063),r=o(46056),s=o(59448),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&r(t.prototype,a(e))}},34216:(e,t,o)=>{"use strict";var n=o(62880),i=o(40892),r=o(78424),s=o(44596),a=o(34264),l=o(29480),c=o(46056),d=o(82704),h=o(67508),u=o(12252),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},g=f.prototype;e.exports=function(e,t,o){var m,v,b,y,w,x,k,C=o&&o.that,S=!(!o||!o.AS_ENTRIES),E=!(!o||!o.IS_RECORD),T=!(!o||!o.IS_ITERATOR),A=!(!o||!o.INTERRUPTED),B=n(t,C),L=function(e){return m&&u(m,"normal",e),new f(!0,e)},_=function(e){return S?(r(e),A?B(e[0],e[1],L):B(e[0],e[1])):A?B(e,L):B(e)};if(E)m=e.iterator;else if(T)m=e;else{if(!(v=h(e)))throw new p(s(e)+" is not iterable");if(a(v)){for(b=0,y=l(e);y>b;b++)if((w=_(e[b]))&&c(g,w))return w;return new f(!1)}m=d(e,v)}for(x=E?e.next:m.next;!(k=i(x,m)).done;){try{w=_(k.value)}catch(e){u(m,"throw",e)}if("object"==typeof w&&w&&c(g,w))return w}return new f(!1)}},12252:(e,t,o)=>{"use strict";var n=o(40892),i=o(78424),r=o(30364);e.exports=function(e,t,o){var s,a;i(e);try{if(!(s=r(e,"return"))){if("throw"===t)throw o;return o}s=n(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw o;if(a)throw s;return i(s),o}},12696:(e,t,o)=>{"use strict";var n=o(85412).IteratorPrototype,i=o(28340),r=o(89200),s=o(54200),a=o(34920),l=function(){return this};e.exports=function(e,t,o,c){var d=t+" Iterator";return e.prototype=i(n,{next:r(+!c,o)}),s(e,d,!1,!0),a[d]=l,e}},48752:(e,t,o)=>{"use strict";var n=o(3748),i=o(40892),r=o(52804),s=o(43788),a=o(69063),l=o(12696),c=o(81304),d=o(45168),h=o(54200),u=o(13652),p=o(63244),f=o(81840),g=o(34920),m=o(85412),v=s.PROPER,b=s.CONFIGURABLE,y=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,x=f("iterator"),k="keys",C="values",S="entries",E=function(){return this};e.exports=function(e,t,o,s,f,m,T){l(o,t,s);var A,B,L,_=function(e){if(e===f&&R)return R;if(!w&&e&&e in I)return I[e];switch(e){case k:case C:case S:return function(){return new o(this,e)}}return function(){return new o(this)}},M=t+" Iterator",O=!1,I=e.prototype,N=I[x]||I["@@iterator"]||f&&I[f],R=!w&&N||_(f),D="Array"===t&&I.entries||N;if(D&&(A=c(D.call(new e)))!==Object.prototype&&A.next&&(r||c(A)===y||(d?d(A,y):a(A[x])||p(A,x,E)),h(A,M,!0,!0),r&&(g[M]=E)),v&&f===C&&N&&N.name!==C&&(!r&&b?u(I,"name",C):(O=!0,R=function(){return i(N,this)})),f)if(B={values:_(C),keys:m?R:_(k),entries:_(S)},T)for(L in B)(w||O||!(L in I))&&p(I,L,B[L]);else n({target:t,proto:!0,forced:w||O},B);return r&&!T||I[x]===R||p(I,x,R,{name:f}),g[t]=R,B}},85412:(e,t,o)=>{"use strict";var n,i,r,s=o(46040),a=o(69063),l=o(30808),c=o(28340),d=o(81304),h=o(63244),u=o(81840),p=o(52804),f=u("iterator"),g=!1;[].keys&&("next"in(r=[].keys())?(i=d(d(r)))!==Object.prototype&&(n=i):g=!0),!l(n)||s((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=c(n)),a(n[f])||h(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:g}},34920:e=>{"use strict";e.exports={}},29480:(e,t,o)=>{"use strict";var n=o(50960);e.exports=function(e){return n(e.length)}},50316:(e,t,o)=>{"use strict";var n=o(11447),i=o(46040),r=o(69063),s=o(16216),a=o(83528),l=o(43788).CONFIGURABLE,c=o(58460),d=o(5444),h=d.enforce,u=d.get,p=String,f=Object.defineProperty,g=n("".slice),m=n("".replace),v=n([].join),b=a&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,o){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),o&&o.getter&&(t="get "+t),o&&o.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),b&&o&&s(o,"arity")&&e.length!==o.arity&&f(e,"length",{value:o.arity});try{o&&s(o,"constructor")&&o.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=h(e);return s(n,"source")||(n.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return r(this)&&u(this).source||c(this)}),"toString")},81736:e=>{"use strict";var t=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?o:t)(n)}},37104:(e,t,o)=>{"use strict";var n,i,r,s,a,l=o(35624),c=o(63440),d=o(62880),h=o(97604).set,u=o(98716),p=o(46632),f=o(35851),g=o(22424),m=o(71648),v=l.MutationObserver||l.WebKitMutationObserver,b=l.document,y=l.process,w=l.Promise,x=c("queueMicrotask");if(!x){var k=new u,C=function(){var e,t;for(m&&(e=y.domain)&&e.exit();t=k.get();)try{t()}catch(e){throw k.head&&n(),e}e&&e.enter()};p||m||g||!v||!b?!f&&w&&w.resolve?((s=w.resolve(void 0)).constructor=w,a=d(s.then,s),n=function(){a(C)}):m?n=function(){y.nextTick(C)}:(h=d(h,l),n=function(){h(C)}):(i=!0,r=b.createTextNode(""),new v(C).observe(r,{characterData:!0}),n=function(){r.data=i=!i}),x=function(e){k.head||n(),k.add(e)}}e.exports=x},6848:(e,t,o)=>{"use strict";var n=o(11896),i=TypeError,r=function(e){var t,o;this.promise=new e((function(e,n){if(void 0!==t||void 0!==o)throw new i("Bad Promise constructor");t=e,o=n})),this.resolve=n(t),this.reject=n(o)};e.exports.f=function(e){return new r(e)}},18659:(e,t,o)=>{"use strict";var n=o(91992);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},57048:(e,t,o)=>{"use strict";var n=o(83528),i=o(11447),r=o(40892),s=o(46040),a=o(64152),l=o(48167),c=o(62460),d=o(16804),h=o(26212),u=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!u||s((function(){if(n&&1!==u({b:1},u(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},o=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[o]=7,i.split("").forEach((function(e){t[e]=e})),7!==u({},e)[o]||a(u({},t)).join("")!==i}))?function(e,t){for(var o=d(e),i=arguments.length,s=1,u=l.f,p=c.f;i>s;)for(var g,m=h(arguments[s++]),v=u?f(a(m),u(m)):a(m),b=v.length,y=0;b>y;)g=v[y++],n&&!r(p,m,g)||(o[g]=m[g]);return o}:u},28340:(e,t,o)=>{"use strict";var n,i=o(78424),r=o(35045),s=o(44656),a=o(96480),l=o(36836),c=o(19308),d=o(58192),h="prototype",u="script",p=d("IE_PROTO"),f=function(){},g=function(e){return"<"+u+">"+e+"</"+u+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,o;v="undefined"!=typeof document?document.domain&&n?m(n):(t=c("iframe"),o="java"+u+":",t.style.display="none",l.appendChild(t),t.src=String(o),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(n);for(var i=s.length;i--;)delete v[h][s[i]];return v()};a[p]=!0,e.exports=Object.create||function(e,t){var o;return null!==e?(f[h]=i(e),o=new f,f[h]=null,o[p]=e):o=v(),void 0===t?o:r.f(o,t)}},35045:(e,t,o)=>{"use strict";var n=o(83528),i=o(34859),r=o(50368),s=o(78424),a=o(99740),l=o(64152);t.f=n&&!i?Object.defineProperties:function(e,t){s(e);for(var o,n=a(t),i=l(t),c=i.length,d=0;c>d;)r.f(e,o=i[d++],n[o]);return e}},50368:(e,t,o)=>{"use strict";var n=o(83528),i=o(80784),r=o(34859),s=o(78424),a=o(38732),l=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,h="enumerable",u="configurable",p="writable";t.f=n?r?function(e,t,o){if(s(e),t=a(t),s(o),"function"==typeof e&&"prototype"===t&&"value"in o&&p in o&&!o[p]){var n=d(e,t);n&&n[p]&&(e[t]=o.value,o={configurable:u in o?o[u]:n[u],enumerable:h in o?o[h]:n[h],writable:!1})}return c(e,t,o)}:c:function(e,t,o){if(s(e),t=a(t),s(o),i)try{return c(e,t,o)}catch(e){}if("get"in o||"set"in o)throw new l("Accessors not supported");return"value"in o&&(e[t]=o.value),e}},14560:(e,t,o)=>{"use strict";var n=o(83528),i=o(40892),r=o(62460),s=o(89200),a=o(99740),l=o(38732),c=o(16216),d=o(80784),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=a(e),t=l(t),d)try{return h(e,t)}catch(e){}if(c(e,t))return s(!i(r.f,e,t),e[t])}},64856:(e,t,o)=>{"use strict";var n=o(75983),i=o(99740),r=o(30692).f,s=o(87588),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"===n(e)?function(e){try{return r(e)}catch(e){return s(a)}}(e):r(i(e))}},30692:(e,t,o)=>{"use strict";var n=o(19232),i=o(44656).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},48167:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},81304:(e,t,o)=>{"use strict";var n=o(16216),i=o(69063),r=o(16804),s=o(58192),a=o(29120),l=s("IE_PROTO"),c=Object,d=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=r(e);if(n(t,l))return t[l];var o=t.constructor;return i(o)&&t instanceof o?o.prototype:t instanceof c?d:null}},46056:(e,t,o)=>{"use strict";var n=o(11447);e.exports=n({}.isPrototypeOf)},19232:(e,t,o)=>{"use strict";var n=o(11447),i=o(16216),r=o(99740),s=o(22196).indexOf,a=o(96480),l=n([].push);e.exports=function(e,t){var o,n=r(e),c=0,d=[];for(o in n)!i(a,o)&&i(n,o)&&l(d,o);for(;t.length>c;)i(n,o=t[c++])&&(~s(d,o)||l(d,o));return d}},64152:(e,t,o)=>{"use strict";var n=o(19232),i=o(44656);e.exports=Object.keys||function(e){return n(e,i)}},62460:(e,t)=>{"use strict";var o={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!o.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:o},45168:(e,t,o)=>{"use strict";var n=o(56632),i=o(78424),r=o(19472);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,o={};try{(e=n(Object.prototype,"__proto__","set"))(o,[]),t=o instanceof Array}catch(e){}return function(o,n){return i(o),r(n),t?e(o,n):o.__proto__=n,o}}():void 0)},53532:(e,t,o)=>{"use strict";var n=o(41712),i=o(38040);e.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},57664:(e,t,o)=>{"use strict";var n=o(40892),i=o(69063),r=o(30808),s=TypeError;e.exports=function(e,t){var o,a;if("string"===t&&i(o=e.toString)&&!r(a=n(o,e)))return a;if(i(o=e.valueOf)&&!r(a=n(o,e)))return a;if("string"!==t&&i(o=e.toString)&&!r(a=n(o,e)))return a;throw new s("Can't convert object to primitive value")}},89976:(e,t,o)=>{"use strict";var n=o(64960),i=o(11447),r=o(30692),s=o(48167),a=o(78424),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(a(e)),o=s.f;return o?l(t,o(e)):t}},14880:(e,t,o)=>{"use strict";var n=o(35624);e.exports=n},65960:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},69636:(e,t,o)=>{"use strict";var n=o(35624),i=o(73008),r=o(69063),s=o(15272),a=o(58460),l=o(81840),c=o(80888),d=o(18104),h=o(52804),u=o(43356),p=i&&i.prototype,f=l("species"),g=!1,m=r(n.PromiseRejectionEvent),v=s("Promise",(function(){var e=a(i),t=e!==String(i);if(!t&&66===u)return!0;if(h&&(!p.catch||!p.finally))return!0;if(!u||u<51||!/native code/.test(e)){var o=new i((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((o.constructor={})[f]=n,!(g=o.then((function(){}))instanceof n))return!0}return!t&&(c||d)&&!m}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:g}},73008:(e,t,o)=>{"use strict";var n=o(35624);e.exports=n.Promise},5200:(e,t,o)=>{"use strict";var n=o(78424),i=o(30808),r=o(6848);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var o=r.f(e);return(0,o.resolve)(t),o.promise}},12384:(e,t,o)=>{"use strict";var n=o(73008),i=o(91400),r=o(69636).CONSTRUCTOR;e.exports=r||!i((function(e){n.all(e).then(void 0,(function(){}))}))},79904:(e,t,o)=>{"use strict";var n=o(50368).f;e.exports=function(e,t,o){o in e||n(e,o,{configurable:!0,get:function(){return t[o]},set:function(e){t[o]=e}})}},98716:e=>{"use strict";var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null},o=this.tail;o?o.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}},e.exports=t},72696:(e,t,o)=>{"use strict";var n=o(40952),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},63440:(e,t,o)=>{"use strict";var n=o(35624),i=o(83528),r=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return n[e];var t=r(n,e);return t&&t.value}},44440:(e,t,o)=>{"use strict";var n=o(64960),i=o(41720),r=o(81840),s=o(83528),a=r("species");e.exports=function(e){var t=n(e);s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},54200:(e,t,o)=>{"use strict";var n=o(50368).f,i=o(16216),r=o(81840)("toStringTag");e.exports=function(e,t,o){e&&!o&&(e=e.prototype),e&&!i(e,r)&&n(e,r,{configurable:!0,value:t})}},58192:(e,t,o)=>{"use strict";var n=o(28196),i=o(10320),r=n("keys");e.exports=function(e){return r[e]||(r[e]=i(e))}},49136:(e,t,o)=>{"use strict";var n=o(35624),i=o(1544),r="__core-js_shared__",s=n[r]||i(r,{});e.exports=s},28196:(e,t,o)=>{"use strict";var n=o(52804),i=o(49136);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6080:(e,t,o)=>{"use strict";var n=o(78424),i=o(43984),r=o(40952),s=o(81840)("species");e.exports=function(e,t){var o,a=n(e).constructor;return void 0===a||r(o=n(a)[s])?t:i(o)}},1968:(e,t,o)=>{"use strict";var n=o(11447),i=o(83288),r=o(91992),s=o(72696),a=n("".charAt),l=n("".charCodeAt),c=n("".slice),d=function(e){return function(t,o){var n,d,h=r(s(t)),u=i(o),p=h.length;return u<0||u>=p?e?"":void 0:(n=l(h,u))<55296||n>56319||u+1===p||(d=l(h,u+1))<56320||d>57343?e?a(h,u):n:e?c(h,u,u+2):d-56320+(n-55296<<10)+65536}};e.exports={codeAt:d(!1),charAt:d(!0)}},88972:(e,t,o)=>{"use strict";var n=o(43356),i=o(46040),r=o(35624).String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!r(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},94208:(e,t,o)=>{"use strict";var n=o(40892),i=o(64960),r=o(81840),s=o(63244);e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,o=t&&t.valueOf,a=r("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return n(o,this)}),{arity:1})}},4680:(e,t,o)=>{"use strict";var n=o(88972);e.exports=n&&!!Symbol.for&&!!Symbol.keyFor},97604:(e,t,o)=>{"use strict";var n,i,r,s,a=o(35624),l=o(54744),c=o(62880),d=o(69063),h=o(16216),u=o(46040),p=o(36836),f=o(87588),g=o(19308),m=o(3416),v=o(46632),b=o(71648),y=a.setImmediate,w=a.clearImmediate,x=a.process,k=a.Dispatch,C=a.Function,S=a.MessageChannel,E=a.String,T=0,A={},B="onreadystatechange";u((function(){n=a.location}));var L=function(e){if(h(A,e)){var t=A[e];delete A[e],t()}},_=function(e){return function(){L(e)}},M=function(e){L(e.data)},O=function(e){a.postMessage(E(e),n.protocol+"//"+n.host)};y&&w||(y=function(e){m(arguments.length,1);var t=d(e)?e:C(e),o=f(arguments,1);return A[++T]=function(){l(t,void 0,o)},i(T),T},w=function(e){delete A[e]},b?i=function(e){x.nextTick(_(e))}:k&&k.now?i=function(e){k.now(_(e))}:S&&!v?(s=(r=new S).port2,r.port1.onmessage=M,i=c(s.postMessage,s)):a.addEventListener&&d(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!u(O)?(i=O,a.addEventListener("message",M,!1)):i=B in g("script")?function(e){p.appendChild(g("script"))[B]=function(){p.removeChild(this),L(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:y,clear:w}},34160:(e,t,o)=>{"use strict";var n=o(83288),i=Math.max,r=Math.min;e.exports=function(e,t){var o=n(e);return o<0?i(o+t,0):r(o,t)}},99740:(e,t,o)=>{"use strict";var n=o(26212),i=o(72696);e.exports=function(e){return n(i(e))}},83288:(e,t,o)=>{"use strict";var n=o(81736);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},50960:(e,t,o)=>{"use strict";var n=o(83288),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},16804:(e,t,o)=>{"use strict";var n=o(72696),i=Object;e.exports=function(e){return i(n(e))}},78176:(e,t,o)=>{"use strict";var n=o(40892),i=o(30808),r=o(26232),s=o(30364),a=o(57664),l=o(81840),c=TypeError,d=l("toPrimitive");e.exports=function(e,t){if(!i(e)||r(e))return e;var o,l=s(e,d);if(l){if(void 0===t&&(t="default"),o=n(l,e,t),!i(o)||r(o))return o;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},38732:(e,t,o)=>{"use strict";var n=o(78176),i=o(26232);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},41712:(e,t,o)=>{"use strict";var n={};n[o(81840)("toStringTag")]="z",e.exports="[object z]"===String(n)},91992:(e,t,o)=>{"use strict";var n=o(38040),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},44596:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},10320:(e,t,o)=>{"use strict";var n=o(11447),i=0,r=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+r,36)}},59448:(e,t,o)=>{"use strict";var n=o(88972);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},34859:(e,t,o)=>{"use strict";var n=o(83528),i=o(46040);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3416:e=>{"use strict";var t=TypeError;e.exports=function(e,o){if(e<o)throw new t("Not enough arguments");return e}},40280:(e,t,o)=>{"use strict";var n=o(35624),i=o(69063),r=n.WeakMap;e.exports=i(r)&&/native code/.test(String(r))},9635:(e,t,o)=>{"use strict";var n=o(14880),i=o(16216),r=o(27732),s=o(50368).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||s(t,e,{value:r.f(e)})}},27732:(e,t,o)=>{"use strict";var n=o(81840);t.f=n},81840:(e,t,o)=>{"use strict";var n=o(35624),i=o(28196),r=o(16216),s=o(10320),a=o(88972),l=o(59448),c=n.Symbol,d=i("wks"),h=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return r(d,e)||(d[e]=a&&r(c,e)?c[e]:h("Symbol."+e)),d[e]}},55240:(e,t,o)=>{"use strict";var n=o(64960),i=o(16216),r=o(13652),s=o(46056),a=o(45168),l=o(34304),c=o(79904),d=o(2744),h=o(18659),u=o(18712),p=o(34736),f=o(83528),g=o(52804);e.exports=function(e,t,o,m){var v="stackTraceLimit",b=m?2:1,y=e.split("."),w=y[y.length-1],x=n.apply(null,y);if(x){var k=x.prototype;if(!g&&i(k,"cause")&&delete k.cause,!o)return x;var C=n("Error"),S=t((function(e,t){var o=h(m?t:e,void 0),n=m?new x(e):new x;return void 0!==o&&r(n,"message",o),p(n,S,n.stack,2),this&&s(k,this)&&d(n,this,S),arguments.length>b&&u(n,arguments[b]),n}));if(S.prototype=k,"Error"!==w?a?a(S,C):l(S,C,{name:!0}):f&&v in x&&(c(S,x,v),c(S,x,"prepareStackTrace")),l(S,x),!g)try{k.name!==w&&r(k,"name",w),k.constructor=S}catch(e){}return S}}},94084:(e,t,o)=>{"use strict";var n=o(3748),i=o(75935);n({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},89120:(e,t,o)=>{"use strict";var n=o(99740),i=o(62328),r=o(34920),s=o(5444),a=o(50368).f,l=o(48752),c=o(42596),d=o(52804),h=o(83528),u="Array Iterator",p=s.set,f=s.getterFor(u);e.exports=l(Array,"Array",(function(e,t){p(this,{type:u,target:n(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,o=e.index++;if(!t||o>=t.length)return e.target=void 0,c(void 0,!0);switch(e.kind){case"keys":return c(o,!1);case"values":return c(t[o],!1)}return c([o,t[o]],!1)}),"values");var g=r.Arguments=r.Array;if(i("keys"),i("values"),i("entries"),!d&&h&&"values"!==g.name)try{a(g,"name",{value:"values"})}catch(e){}},83248:(e,t,o)=>{"use strict";var n=o(3748),i=o(16804),r=o(29480),s=o(42696),a=o(83272);n({target:"Array",proto:!0,arity:1,forced:o(46040)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=i(this),o=r(t),n=arguments.length;a(o+n);for(var l=0;l<n;l++)t[o]=arguments[l],o++;return s(t,o),o}})},89664:(e,t,o)=>{"use strict";var n=o(3748),i=o(11447),r=o(41064),s=i([].reverse),a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),s(this)}})},32928:(e,t,o)=>{"use strict";var n=o(3748),i=o(41064),r=o(70780),s=o(30808),a=o(34160),l=o(29480),c=o(99740),d=o(98931),h=o(81840),u=o(37776),p=o(87588),f=u("slice"),g=h("species"),m=Array,v=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var o,n,h,u=c(this),f=l(u),b=a(e,f),y=a(void 0===t?f:t,f);if(i(u)&&(o=u.constructor,(r(o)&&(o===m||i(o.prototype))||s(o)&&null===(o=o[g]))&&(o=void 0),o===m||void 0===o))return p(u,b,y);for(n=new(void 0===o?m:o)(v(y-b,0)),h=0;b<y;b++,h++)b in u&&d(n,h,u[b]);return n.length=h,n}})},82844:(e,t,o)=>{"use strict";var n=o(3748),i=o(35624),r=o(54744),s=o(55240),a="WebAssembly",l=i[a],c=7!==new Error("e",{cause:7}).cause,d=function(e,t){var o={};o[e]=s(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},o)},h=function(e,t){if(l&&l[e]){var o={};o[e]=s(a+"."+e,t,c),n({target:a,stat:!0,constructor:!0,arity:1,forced:c},o)}};d("Error",(function(e){return function(t){return r(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return r(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return r(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return r(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return r(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return r(e,this,arguments)}})),d("URIError",(function(e){return function(t){return r(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return r(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return r(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return r(e,this,arguments)}}))},23456:(e,t,o)=>{"use strict";var n=o(63244),i=o(18960),r=Error.prototype;r.toString!==i&&n(r,"toString",i)},51408:(e,t,o)=>{"use strict";var n=o(83528),i=o(43788).EXISTS,r=o(11447),s=o(41720),a=Function.prototype,l=r(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=r(c.exec);n&&!i&&s(a,"name",{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(e){return""}}})},16760:(e,t,o)=>{"use strict";var n=o(3748),i=o(64960),r=o(54744),s=o(40892),a=o(11447),l=o(46040),c=o(69063),d=o(26232),h=o(87588),u=o(6852),p=o(88972),f=String,g=i("JSON","stringify"),m=a(/./.exec),v=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),x=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,S=!p||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==g([e])||"{}"!==g({a:e})||"{}"!==g(Object(e))})),E=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),T=function(e,t){var o=h(arguments),n=u(t);if(c(n)||void 0!==e&&!d(e))return o[1]=function(e,t){if(c(n)&&(t=s(n,this,f(e),t)),!d(t))return t},r(g,null,o)},A=function(e,t,o){var n=v(o,t-1),i=v(o,t+1);return m(k,e)&&!m(C,i)||m(C,e)&&!m(k,n)?"\\u"+w(b(e,0),16):e};g&&n({target:"JSON",stat:!0,arity:3,forced:S||E},{stringify:function(e,t,o){var n=h(arguments),i=r(S?T:g,null,n);return E&&"string"==typeof i?y(i,x,A):i}})},84720:(e,t,o)=>{"use strict";var n=o(35624);o(54200)(n.JSON,"JSON",!0)},47744:(e,t,o)=>{"use strict";o(54200)(Math,"Math",!0)},78235:(e,t,o)=>{"use strict";var n=o(3748),i=o(57048);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},62704:(e,t,o)=>{"use strict";o(3748)({target:"Object",stat:!0,sham:!o(83528)},{create:o(28340)})},7984:(e,t,o)=>{"use strict";var n=o(3748),i=o(83528),r=o(50368).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!i},{defineProperty:r})},18728:(e,t,o)=>{"use strict";var n=o(3748),i=o(88972),r=o(46040),s=o(48167),a=o(16804);n({target:"Object",stat:!0,forced:!i||r((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},31904:(e,t,o)=>{"use strict";var n=o(3748),i=o(46040),r=o(16804),s=o(81304),a=o(29120);n({target:"Object",stat:!0,forced:i((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(r(e))}})},21040:(e,t,o)=>{"use strict";var n=o(3748),i=o(16804),r=o(64152);n({target:"Object",stat:!0,forced:o(46040)((function(){r(1)}))},{keys:function(e){return r(i(e))}})},62480:(e,t,o)=>{"use strict";o(3748)({target:"Object",stat:!0},{setPrototypeOf:o(45168)})},49640:(e,t,o)=>{"use strict";var n=o(41712),i=o(63244),r=o(53532);n||i(Object.prototype,"toString",r,{unsafe:!0})},11856:(e,t,o)=>{"use strict";var n=o(3748),i=o(40892),r=o(11896),s=o(6848),a=o(65960),l=o(34216);n({target:"Promise",stat:!0,forced:o(12384)},{all:function(e){var t=this,o=s.f(t),n=o.resolve,c=o.reject,d=a((function(){var o=r(t.resolve),s=[],a=0,d=1;l(e,(function(e){var r=a++,l=!1;d++,i(o,t,e).then((function(e){l||(l=!0,s[r]=e,--d||n(s))}),c)})),--d||n(s)}));return d.error&&c(d.value),o.promise}})},30896:(e,t,o)=>{"use strict";var n=o(3748),i=o(52804),r=o(69636).CONSTRUCTOR,s=o(73008),a=o(64960),l=o(69063),c=o(63244),d=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:r,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&l(s)){var h=a("Promise").prototype.catch;d.catch!==h&&c(d,"catch",h,{unsafe:!0})}},7616:(e,t,o)=>{"use strict";var n,i,r,s=o(3748),a=o(52804),l=o(71648),c=o(35624),d=o(40892),h=o(63244),u=o(45168),p=o(54200),f=o(44440),g=o(11896),m=o(69063),v=o(30808),b=o(38176),y=o(6080),w=o(97604).set,x=o(37104),k=o(68600),C=o(65960),S=o(98716),E=o(5444),T=o(73008),A=o(69636),B=o(6848),L="Promise",_=A.CONSTRUCTOR,M=A.REJECTION_EVENT,O=A.SUBCLASSING,I=E.getterFor(L),N=E.set,R=T&&T.prototype,D=T,j=R,H=c.TypeError,P=c.document,F=c.process,z=B.f,U=z,q=!!(P&&P.createEvent&&c.dispatchEvent),W="unhandledrejection",$=function(e){var t;return!(!v(e)||!m(t=e.then))&&t},V=function(e,t){var o,n,i,r=t.value,s=1===t.state,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,h=e.domain;try{a?(s||(2===t.rejection&&Z(t),t.rejection=1),!0===a?o=r:(h&&h.enter(),o=a(r),h&&(h.exit(),i=!0)),o===e.promise?c(new H("Promise-chain cycle")):(n=$(o))?d(n,o,l,c):l(o)):c(r)}catch(e){h&&!i&&h.exit(),c(e)}},Y=function(e,t){e.notified||(e.notified=!0,x((function(){for(var o,n=e.reactions;o=n.get();)V(o,e);e.notified=!1,t&&!e.rejection&&G(e)})))},X=function(e,t,o){var n,i;q?((n=P.createEvent("Event")).promise=t,n.reason=o,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:o},!M&&(i=c["on"+e])?i(n):e===W&&k("Unhandled promise rejection",o)},G=function(e){d(w,c,(function(){var t,o=e.facade,n=e.value;if(K(e)&&(t=C((function(){l?F.emit("unhandledRejection",n,o):X(W,o,n)})),e.rejection=l||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},Z=function(e){d(w,c,(function(){var t=e.facade;l?F.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},J=function(e,t,o){return function(n){e(t,n,o)}},Q=function(e,t,o){e.done||(e.done=!0,o&&(e=o),e.value=t,e.state=2,Y(e,!0))},ee=function(e,t,o){if(!e.done){e.done=!0,o&&(e=o);try{if(e.facade===t)throw new H("Promise can't be resolved itself");var n=$(t);n?x((function(){var o={done:!1};try{d(n,t,J(ee,o,e),J(Q,o,e))}catch(t){Q(o,t,e)}})):(e.value=t,e.state=1,Y(e,!1))}catch(t){Q({done:!1},t,e)}}};if(_&&(j=(D=function(e){b(this,j),g(e),d(n,this);var t=I(this);try{e(J(ee,t),J(Q,t))}catch(e){Q(t,e)}}).prototype,(n=function(e){N(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:void 0})}).prototype=h(j,"then",(function(e,t){var o=I(this),n=z(y(this,D));return o.parent=!0,n.ok=!m(e)||e,n.fail=m(t)&&t,n.domain=l?F.domain:void 0,0===o.state?o.reactions.add(n):x((function(){V(n,o)})),n.promise})),i=function(){var e=new n,t=I(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(Q,t)},B.f=z=function(e){return e===D||undefined===e?new i(e):U(e)},!a&&m(T)&&R!==Object.prototype)){r=R.then,O||h(R,"then",(function(e,t){var o=this;return new D((function(e,t){d(r,o,e,t)})).then(e,t)}),{unsafe:!0});try{delete R.constructor}catch(e){}u&&u(R,j)}s({global:!0,constructor:!0,wrap:!0,forced:_},{Promise:D}),p(D,L,!1,!0),f(L)},79628:(e,t,o)=>{"use strict";o(7616),o(11856),o(30896),o(8076),o(94861),o(24324)},8076:(e,t,o)=>{"use strict";var n=o(3748),i=o(40892),r=o(11896),s=o(6848),a=o(65960),l=o(34216);n({target:"Promise",stat:!0,forced:o(12384)},{race:function(e){var t=this,o=s.f(t),n=o.reject,c=a((function(){var s=r(t.resolve);l(e,(function(e){i(s,t,e).then(o.resolve,n)}))}));return c.error&&n(c.value),o.promise}})},94861:(e,t,o)=>{"use strict";var n=o(3748),i=o(6848);n({target:"Promise",stat:!0,forced:o(69636).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return(0,t.reject)(e),t.promise}})},24324:(e,t,o)=>{"use strict";var n=o(3748),i=o(64960),r=o(52804),s=o(73008),a=o(69636).CONSTRUCTOR,l=o(5200),c=i("Promise"),d=r&&!a;n({target:"Promise",stat:!0,forced:r||a},{resolve:function(e){return l(d&&this===c?s:this,e)}})},48928:(e,t,o)=>{"use strict";var n=o(1968).charAt,i=o(91992),r=o(5444),s=o(48752),a=o(42596),l="String Iterator",c=r.set,d=r.getterFor(l);s(String,"String",(function(e){c(this,{type:l,string:i(e),index:0})}),(function(){var e,t=d(this),o=t.string,i=t.index;return i>=o.length?a(void 0,!0):(e=n(o,i),t.index+=e.length,a(e,!1))}))},70040:(e,t,o)=>{"use strict";o(9635)("asyncIterator")},692:(e,t,o)=>{"use strict";var n=o(3748),i=o(35624),r=o(40892),s=o(11447),a=o(52804),l=o(83528),c=o(88972),d=o(46040),h=o(16216),u=o(46056),p=o(78424),f=o(99740),g=o(38732),m=o(91992),v=o(89200),b=o(28340),y=o(64152),w=o(30692),x=o(64856),k=o(48167),C=o(14560),S=o(50368),E=o(35045),T=o(62460),A=o(63244),B=o(41720),L=o(28196),_=o(58192),M=o(96480),O=o(10320),I=o(81840),N=o(27732),R=o(9635),D=o(94208),j=o(54200),H=o(5444),P=o(44904).forEach,F=_("hidden"),z="Symbol",U="prototype",q=H.set,W=H.getterFor(z),$=Object[U],V=i.Symbol,Y=V&&V[U],X=i.RangeError,G=i.TypeError,K=i.QObject,Z=C.f,J=S.f,Q=x.f,ee=T.f,te=s([].push),oe=L("symbols"),ne=L("op-symbols"),ie=L("wks"),re=!K||!K[U]||!K[U].findChild,se=function(e,t,o){var n=Z($,t);n&&delete $[t],J(e,t,o),n&&e!==$&&J($,t,n)},ae=l&&d((function(){return 7!==b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?se:J,le=function(e,t){var o=oe[e]=b(Y);return q(o,{type:z,tag:e,description:t}),l||(o.description=t),o},ce=function(e,t,o){e===$&&ce(ne,t,o),p(e);var n=g(t);return p(o),h(oe,n)?(o.enumerable?(h(e,F)&&e[F][n]&&(e[F][n]=!1),o=b(o,{enumerable:v(0,!1)})):(h(e,F)||J(e,F,v(1,b(null))),e[F][n]=!0),ae(e,n,o)):J(e,n,o)},de=function(e,t){p(e);var o=f(t),n=y(o).concat(fe(o));return P(n,(function(t){l&&!r(he,o,t)||ce(e,t,o[t])})),e},he=function(e){var t=g(e),o=r(ee,this,t);return!(this===$&&h(oe,t)&&!h(ne,t))&&(!(o||!h(this,t)||!h(oe,t)||h(this,F)&&this[F][t])||o)},ue=function(e,t){var o=f(e),n=g(t);if(o!==$||!h(oe,n)||h(ne,n)){var i=Z(o,n);return!i||!h(oe,n)||h(o,F)&&o[F][n]||(i.enumerable=!0),i}},pe=function(e){var t=Q(f(e)),o=[];return P(t,(function(e){h(oe,e)||h(M,e)||te(o,e)})),o},fe=function(e){var t=e===$,o=Q(t?ne:f(e)),n=[];return P(o,(function(e){!h(oe,e)||t&&!h($,e)||te(n,oe[e])})),n};c||(A(Y=(V=function(){if(u(Y,this))throw new G("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,t=O(e),o=function(e){var n=void 0===this?i:this;n===$&&r(o,ne,e),h(n,F)&&h(n[F],t)&&(n[F][t]=!1);var s=v(1,e);try{ae(n,t,s)}catch(e){if(!(e instanceof X))throw e;se(n,t,s)}};return l&&re&&ae($,t,{configurable:!0,set:o}),le(t,e)})[U],"toString",(function(){return W(this).tag})),A(V,"withoutSetter",(function(e){return le(O(e),e)})),T.f=he,S.f=ce,E.f=de,C.f=ue,w.f=x.f=pe,k.f=fe,N.f=function(e){return le(I(e),e)},l&&(B(Y,"description",{configurable:!0,get:function(){return W(this).description}}),a||A($,"propertyIsEnumerable",he,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),P(y(ie),(function(e){R(e)})),n({target:z,stat:!0,forced:!c},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?b(e):de(b(e),t)},defineProperty:ce,defineProperties:de,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe}),D(),j(V,z),M[F]=!0},35016:(e,t,o)=>{"use strict";var n=o(3748),i=o(83528),r=o(35624),s=o(11447),a=o(16216),l=o(69063),c=o(46056),d=o(91992),h=o(41720),u=o(34304),p=r.Symbol,f=p&&p.prototype;if(i&&l(p)&&(!("description"in f)||void 0!==p().description)){var g={},m=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),t=c(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(g[t]=!0),t};u(m,p),m.prototype=f,f.constructor=m;var v="Symbol(description detection)"===String(p("description detection")),b=s(f.valueOf),y=s(f.toString),w=/^Symbol\((.*)\)[^)]+$/,x=s("".replace),k=s("".slice);h(f,"description",{configurable:!0,get:function(){var e=b(this);if(a(g,e))return"";var t=y(e),o=v?k(t,7,-1):x(t,w,"$1");return""===o?void 0:o}}),n({global:!0,constructor:!0,forced:!0},{Symbol:m})}},5256:(e,t,o)=>{"use strict";var n=o(3748),i=o(64960),r=o(16216),s=o(91992),a=o(28196),l=o(4680),c=a("string-to-symbol-registry"),d=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(r(c,t))return c[t];var o=i("Symbol")(t);return c[t]=o,d[o]=t,o}})},16968:(e,t,o)=>{"use strict";o(9635)("iterator")},53475:(e,t,o)=>{"use strict";o(692),o(5256),o(11352),o(16760),o(18728)},11352:(e,t,o)=>{"use strict";var n=o(3748),i=o(16216),r=o(26232),s=o(44596),a=o(28196),l=o(4680),c=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!r(e))throw new TypeError(s(e)+" is not a symbol");if(i(c,e))return c[e]}})},82288:(e,t,o)=>{"use strict";var n=o(64960),i=o(9635),r=o(54200);i("toStringTag"),r(n("Symbol"),"Symbol")},82984:(e,t,o)=>{"use strict";var n=o(35624),i=o(95848),r=o(8280),s=o(75935),a=o(13652),l=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in i)i[c]&&l(n[c]&&n[c].prototype);l(r)},29708:(e,t,o)=>{"use strict";var n=o(35624),i=o(95848),r=o(8280),s=o(89120),a=o(13652),l=o(54200),c=o(81840)("iterator"),d=s.values,h=function(e,t){if(e){if(e[c]!==d)try{a(e,c,d)}catch(t){e[c]=d}if(l(e,t,!0),i[t])for(var o in s)if(e[o]!==s[o])try{a(e,o,s[o])}catch(t){e[o]=s[o]}}};for(var u in i)h(n[u]&&n[u].prototype,u);h(r,"DOMTokenList")}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(53475),o(35016),o(70040),o(16968),o(82288),o(82844),o(23456),o(94084),o(89120),o(83248),o(89664),o(32928),o(51408),o(16760),o(84720),o(47744),o(78235),o(62704),o(7984),o(31904),o(21040),o(62480),o(49640),o(79628),o(48928),o(82984),o(29708),typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(){}Object.assign(t,{default:t,register:t,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let o=t.length;for(;--o>=0&&t.item(o)!==this;);return o>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(e){const t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach((e=>{const o=e instanceof Node;t.appendChild(o?e:document.createTextNode(e))})),this.insertBefore(t,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;const t=this.parentNode,o=window.getComputedStyle(t,null),n=parseInt(o.getPropertyValue("border-top-width")),i=parseInt(o.getPropertyValue("border-left-width")),r=this.offsetTop-t.offsetTop<t.scrollTop,s=this.offsetTop-t.offsetTop+this.clientHeight-n>t.scrollTop+t.clientHeight,a=this.offsetLeft-t.offsetLeft<t.scrollLeft,l=this.offsetLeft-t.offsetLeft+this.clientWidth-i>t.scrollLeft+t.clientWidth,c=r&&!s;(r||s)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-n+this.clientHeight/2),(a||l)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-i+this.clientWidth/2),(r||s||a||l)&&!e&&this.scrollIntoView(c)}),window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var n=(e=>(e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(n||{});const i=8,r=9,s=13,a=27,l=37,c=38,d=40,h=39,u=46,p=191,f=0;function g(e,t,o="log",n,i="color: inherit"){if(!("console"in window)||!window.console[o])return;const r=["info","log","warn","error"].includes(o),s=[];switch(g.logLevel){case"ERROR":if("error"!==o)return;break;case"WARN":if(!["error","warn"].includes(o))return;break;case"INFO":if(!r||e)return}n&&s.push(n);const a="Editor.js 2.29.0";e&&(r?(s.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",i),t=`%c${a}%c ${t}`):t=`( ${a} )${t}`);try{r?n?console[o](`${t} %o`,...s):console[o](t,...s):console[o](t)}catch{}}g.logLevel="VERBOSE";const m=g.bind(window,!1),v=g.bind(window,!0);function b(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function y(e){return"function"===b(e)||"asyncfunction"===b(e)}function w(e){return"object"===b(e)}function x(e){return"string"===b(e)}function k(e){return"number"===b(e)}function C(e){return"undefined"===b(e)}function S(e){return!e||0===Object.keys(e).length&&e.constructor===Object}function E(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}async function T(e,t=(()=>{}),o=(()=>{})){return e.reduce((async(e,n)=>(await e,async function(e,t,o){try{await e.function(e.data),await t(C(e.data)?{}:e.data)}catch{o(C(e.data)?{}:e.data)}}(n,t,o))),Promise.resolve())}function A(e){return Array.prototype.slice.call(e)}function B(e,t){return function(){const o=this,n=arguments;window.setTimeout((()=>e.apply(o,n)),t)}}function L(e,t,o){let n;return(...i)=>{const r=this,s=o&&!n;window.clearTimeout(n),n=window.setTimeout((()=>{n=null,o||e.apply(r,i)}),t),s&&e.apply(r,i)}}function _(e,t,o=void 0){let n,i,r,s=null,a=0;o||(o={});const l=function(){a=!1===o.leading?0:Date.now(),s=null,r=e.apply(n,i),s||(n=i=null)};return function(){const c=Date.now();!a&&!1===o.leading&&(a=c);const d=t-(c-a);return n=this,i=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),a=c,r=e.apply(n,i),s||(n=i=null)):!s&&!1!==o.trailing&&(s=setTimeout(l,d)),r}}function M(e){return e[0].toUpperCase()+e.slice(1)}function O(e,...t){if(!t.length)return e;const o=t.shift();if(w(e)&&w(o))for(const t in o)w(o[t])?(e[t]||Object.assign(e,{[t]:{}}),O(e[t],o[t])):Object.assign(e,{[t]:o[t]});return O(e,...t)}function I(e){const t=function(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e)));return t&&(e[t]=!0),e}();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),e=t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")}function N(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(10)}function R(e,t,o){e&&v(`«${t}» is deprecated and will be removed in the next major release. Please use the «${o}» instead.`,"warn")}function D(e,t,o){const n=o.value?"value":"get",i=o[n],r=`#${t}Cache`;if(o[n]=function(...e){return void 0===this[r]&&(this[r]=i.apply(this,...e)),this[r]},"get"===n&&o.set){const t=o.set;o.set=function(o){delete e[r],t.apply(this,o)}}return o}function j(){return window.matchMedia("(max-width: 650px)").matches}const H=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);class P{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e]);return n}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}static swap(e,t){const o=document.createElement("div"),n=e.parentNode;n.insertBefore(o,e),n.insertBefore(e,t),n.insertBefore(t,o),n.removeChild(o)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((e=>`input[type="${e}"]`)).join(", ")}static findAllInputs(e){return A(e.querySelectorAll(P.allInputsSelector)).reduce(((e,t)=>P.isNativeInput(t)||P.containsOnlyInlineElements(t)?[...e,t]:[...e,...P.getDeepestBlockElements(t)]),[])}static getDeepestNode(e,t=!1){const o=t?"lastChild":"firstChild",n=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let i=e[o];if(P.isSingleTag(i)&&!P.isNativeInput(i)&&!P.isLineBreakTag(i))if(i[n])i=i[n];else{if(!i.parentNode[n])return i.parentNode;i=i.parentNode[n]}return this.getDeepestNode(i,t)}return e}static isElement(e){return!k(e)&&(e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE)}static isFragment(e){return!k(e)&&(e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE)}static isContentEditable(e){return"true"===e.contentEditable}static isNativeInput(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}static canSetCaret(e){let t=!0;if(P.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=P.isContentEditable(e);return t}static isNodeEmpty(e,t){let o;return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&(o=this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("​",""),t&&(o=o.replace(new RegExp(t,"g"),"")),0===o.trim().length)}static isLeaf(e){return!!e&&0===e.childNodes.length}static isEmpty(e,t){e.normalize();const o=[e];for(;o.length>0;)if(e=o.shift()){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=P.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return P.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;x(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const o=e=>!P.blockElements.includes(e.tagName.toLowerCase())&&Array.from(e.children).every(o);return Array.from(t.children).every(o)}static getDeepestBlockElements(e){return P.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce(((e,t)=>[...e,...P.getDeepestBlockElements(t)]),[])}static getHolder(e){return x(e)?document.getElementById(e):e}static isAnchor(e){return"a"===e.tagName.toLowerCase()}static offset(e){const t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n,r=t.left+o;return{top:i,left:r,bottom:i+t.height,right:r+t.width}}}const F={ui:{blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},toolNames:{Text:"",Link:"",Bold:"",Italic:""},tools:{link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},blockTunes:{delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}}},z=class{static ui(e,t){return z._t(e,t)}static t(e,t){return z._t(e,t)}static setDictionary(e){z.currentDictionary=e}static _t(e,t){const o=z.getNamespace(e);return o&&o[t]?o[t]:t}static getNamespace(e){return e.split(".").reduce(((e,t)=>e&&Object.keys(e).length?e[t]:{}),z.currentDictionary)}};let U=z;U.currentDictionary=F;class q extends Error{}class W{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const o=n=>{const i=t(n),r=this.subscribers[e].indexOf(o);return-1!==r&&this.subscribers[e].splice(r,1),i};this.subscribers[e].push(o)}emit(e,t){S(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce(((e,t)=>{const o=t(e);return void 0!==o?o:e}),t)}off(e,t){if(void 0!==this.subscribers[e]){for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===t){delete this.subscribers[e][o];break}}else console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`)}destroy(){this.subscribers={}}}function $(e){Object.setPrototypeOf(this,{get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},get focusable(){return e.focusable},call:(t,o)=>e.call(t,o),save:()=>e.save(),validate:t=>e.validate(t),dispatchChange(){e.dispatchChange()}})}class V{constructor(){this.allListeners=[]}on(e,t,o,n=!1){const i=function(e=""){return`${e}${Math.floor(1e8*Math.random()).toString(16)}`}("l"),r={id:i,element:e,eventType:t,handler:o,options:n};if(!this.findOne(e,t,o))return this.allListeners.push(r),e.addEventListener(t,o,n),i}off(e,t,o,n){const i=this.findAll(e,t,o);i.forEach(((e,t)=>{const o=this.allListeners.indexOf(i[t]);o>-1&&(this.allListeners.splice(o,1),e.element.removeEventListener(e.eventType,e.handler,e.options))}))}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,o){const n=this.findAll(e,t,o);return n.length>0?n[0]:null}findAll(e,t,o){let n;const i=e?this.findByEventTarget(e):[];return n=e&&t&&o?i.filter((e=>e.eventType===t&&e.handler===o)):e&&t?i.filter((e=>e.eventType===t)):i,n}removeAll(){this.allListeners.map((e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)})),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter((t=>{if(t.element===e)return t}))}findByType(e){return this.allListeners.filter((t=>{if(t.eventType===e)return t}))}findByHandler(e){return this.allListeners.filter((t=>{if(t.handler===e)return t}))}findById(e){return this.allListeners.find((t=>t.id===e))}}class Y{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new V,this.readOnlyMutableListeners={on:(e,t,o,n=!1)=>{this.mutableListenerIds.push(this.listeners.on(e,t,o,n))},clearAll:()=>{for(const e of this.mutableListenerIds)this.listeners.offById(e);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Y)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return"rtl"===this.config.i18n.direction}}class X{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?P.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(X.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${X.CSS.editorZone}`)),!!o&&o.nodeType===Node.ELEMENT_NODE}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${X.CSS.editorZone}`)),!!o&&o.nodeType===Node.ELEMENT_NODE}static get isSelectionExists(){return!!X.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e,t=document.selection,o={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),o.x=e.boundingLeft,o.y=e.boundingTop,o.width=e.boundingWidth,o.height=e.boundingHeight,o;if(!window.getSelection)return m("Method window.getSelection is not supported","warn"),o;if(t=window.getSelection(),null===t.rangeCount||isNaN(t.rangeCount))return m("Method SelectionUtils.rangeCount is not supported","warn"),o;if(0===t.rangeCount)return o;if(e=t.getRangeAt(0).cloneRange(),e.getBoundingClientRect&&(o=e.getBoundingClientRect()),0===o.x&&0===o.y){const t=document.createElement("span");if(t.getBoundingClientRect){t.appendChild(document.createTextNode("​")),e.insertNode(t),o=t.getBoundingClientRect();const n=t.parentNode;n.removeChild(t),n.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const o=document.createRange(),n=window.getSelection();return P.isNativeInput(e)?P.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(o.setStart(e,t),o.setEnd(e,t),n.removeAllRanges(),n.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){const t=X.range;return null!==t&&e.contains(t.startContainer)}static addFakeCursor(){const e=X.range;if(null===e)return;const t=P.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return null!==P.find(e,".codex-editor__fake-cursor")}static removeFakeCursor(e=document.body){const t=P.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=X.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,o=10){const n=window.getSelection();let i=null;return n&&n.anchorNode&&n.focusNode?([n.anchorNode,n.focusNode].forEach((n=>{let r=o;for(;r>0&&n.parentNode&&(n.tagName!==e||(i=n,t&&n.classList&&!n.classList.contains(t)&&(i=null),!i));)n=n.parentNode,r--})),i):null}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const o=document.createRange();o.selectNodeContents(e),t.addRange(o)}}const G="redactor dom changed",K="block changed",Z="fake cursor is about to be toggled",J="fake cursor have been set";function Q(e,t){return e.mergeable&&e.name===t.name}var ee=(e=>(e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste",e))(ee||{});class te extends W{constructor({id:e=N(),data:t,tool:o,api:n,readOnly:i,tunesData:r},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(e=void 0)=>{const t=void 0===e,o=e instanceof InputEvent;let n;!t&&!o&&this.detectToolRootChange(e),n=!(!t&&!o)||!(e.length>0&&e.every((e=>{const{addedNodes:t,removedNodes:o,target:n}=e;return[...Array.from(t),...Array.from(o),n].some((e=>(P.isElement(e)||(e=e.parentElement),e&&null!==e.closest('[data-mutation-free="true"]'))))}))),n&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.api=n,this.editorEventBus=s||null,this.blockAPI=new $(this),this.tool=o,this.toolInstance=o.create(t,this.blockAPI,i),this.tunes=o.tunes,this.composeTunes(r),this.holder=this.compose(),window.requestIdleCallback((()=>{this.watchBlockMutations(),this.addInputEvents()}))}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(0!==this.cachedInputs.length)return this.cachedInputs;const e=P.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex((t=>t===e||t.contains(e)));-1!==t&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then((e=>e&&!S(e.data)?e.data:{}))}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return y(this.toolInstance.merge)}get focusable(){return 0!==this.inputs.length}get isEmpty(){const e=P.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}set selected(e){var t,o;this.holder.classList.toggle(te.CSS.selected,e);const n=!0===e&&X.isRangeInsideContainer(this.holder),i=!1===e&&X.isFakeCursorInsideContainer(this.holder);(n||i)&&(null==(t=this.editorEventBus)||t.emit(Z,{state:e}),n?X.addFakeCursor():X.removeFakeCursor(this.holder),null==(o=this.editorEventBus)||o.emit(J,{state:e}))}get selected(){return this.holder.classList.contains(te.CSS.selected)}set stretched(e){this.holder.classList.toggle(te.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(te.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(te.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(y(this.toolInstance[e])){"appendCallback"===e&&m("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(t){m(`Error during '${e}' call: ${t.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach((([e,o])=>{if(y(o.save))try{t[e]=o.save()}catch(e){m(`Tune ${o.constructor.name} save method throws an Error %o`,"warn",e)}}));const o=window.performance.now();let n;return Promise.resolve(e).then((e=>(n=window.performance.now(),{id:this.id,tool:this.name,data:e,tunes:t,time:n-o}))).catch((e=>{m(`Saving process for ${this.name} tool failed due to the ${e}`,"log","red")}))}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=document.createElement("div"),t=[],o="function"==typeof this.toolInstance.renderSettings?this.toolInstance.renderSettings():[],n=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map((e=>e.render()));return[o,n].flat().forEach((o=>{P.isElement(o)?e.appendChild(o):Array.isArray(o)?t.push(...o):t.push(o)})),[t,e]}updateCurrentInput(){this.currentInput=P.isNativeInput(document.activeElement)||!X.anchorNode?document.activeElement:X.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),y(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(1===e.length)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return e.find((e=>Object.entries(e.data).some((([e,o])=>t[e]&&function(e,t){const o=Array.isArray(e)||w(e),n=Array.isArray(t)||w(t);return o||n?JSON.stringify(e)===JSON.stringify(t):e===t}(t[e],o)))))}async exportDataAsString(){return function(e,t){const o=null==t?void 0:t.export;return y(o)?o(e):x(o)?e[o]:(void 0!==o&&m("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}(await this.data,this.tool.conversionConfig)}compose(){const e=P.make("div",te.CSS.wrapper),t=P.make("div",te.CSS.content),o=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=o,t.appendChild(this.toolRenderedElement);let n=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach((e=>{if(y(e.wrap))try{n=e.wrap(n)}catch(t){m(`Tune ${e.constructor.name} wrap method throws an Error %o`,"warn",t)}})),e.appendChild(n),e}composeTunes(e){Array.from(this.tunes.values()).forEach((t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))})),Object.entries(e).forEach((([e,t])=>{this.tunesInstances.has(e)||(this.unavailableTunesData[e]=t)}))}addInputEvents(){this.inputs.forEach((e=>{e.addEventListener("focus",this.handleFocus),P.isNativeInput(e)&&e.addEventListener("input",this.didMutated)}))}removeInputEvents(){this.inputs.forEach((e=>{e.removeEventListener("focus",this.handleFocus),P.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)}))}watchBlockMutations(){var e;this.redactorDomChangedCallback=e=>{const{mutations:t}=e;t.some((e=>function(e,t){const{type:o,target:n,addedNodes:i,removedNodes:r}=e;if(n===t)return!0;if(["characterData","attributes"].includes(o)){const e=n.nodeType===Node.TEXT_NODE?n.parentNode:n;return t.contains(e)}const s=Array.from(i).some((e=>t.contains(e))),a=Array.from(r).some((e=>t.contains(e)));return s||a}(e,this.toolRenderedElement)))&&this.didMutated(t)},null==(e=this.editorEventBus)||e.on(G,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;null==(e=this.editorEventBus)||e.off(G,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach((e=>{if(Array.from(e.removedNodes).includes(this.toolRenderedElement)){const t=e.addedNodes[e.addedNodes.length-1];this.toolRenderedElement=t}}))}dropInputsCache(){this.cachedInputs=[]}}class oe extends Y{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{v("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>U.t(oe.getNamespace(e),t)})}}var ne={},ie={get exports(){return ne},set exports(e){ne=e}};!function(e,t){window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=0)}([function(e,t,o){o(1),e.exports=function(){var e=o(6),t="cdx-notify--bounce-in",n=null;return{show:function(o){if(o.message){!function(){if(n)return!0;n=e.getWrapper(),document.body.appendChild(n)}();var i=null,r=o.time||8e3;switch(o.type){case"confirm":i=e.confirm(o);break;case"prompt":i=e.prompt(o);break;default:i=e.alert(o),window.setTimeout((function(){i.remove()}),r)}n.appendChild(i),i.classList.add(t)}}}}()},function(e,t,o){var n=o(2);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};o(4)(n,i),n.locals&&(e.exports=n.locals)},function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o,n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),s=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o})).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&n[s[0]]||(o&&!s[2]?s[2]=o:o&&(s[2]="("+s[2]+") and ("+o+")"),t.push(s))}},t}},function(e,t,o){var n,i,r={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=n.apply(this,arguments)),i}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var o=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch{o=null}t[e]=o}return t[e]}}(),l=null,c=0,d=[],h=o(5);function u(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=r[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(b(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(b(n.parts[s],t));r[n.id]={id:n.id,refs:1,parts:a}}}}function p(e,t){for(var o=[],n={},i=0;i<e.length;i++){var r=e[i],s=t.base?r[0]+t.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(a):o.push(n[s]={id:s,parts:[a]})}return o}function f(e,t){var o=a(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),d.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertInto+" "+e.insertAt.before);o.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach((function(o){e.setAttribute(o,t[o])}))}function b(e,t){var o,n,i,r;if(t.transform&&e.css){if(!(r=t.transform(e.css)))return function(){};e.css=r}if(t.singleton){var s=c++;o=l||(l=m(t)),n=x.bind(null,o,s,!1),i=x.bind(null,o,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),n=function(e,t,o){var n=o.css,i=o.sourceMap,r=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||r)&&(n=h(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,o,t),i=function(){g(o),o.href&&URL.revokeObjectURL(o.href)}):(o=m(t),n=function(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),i=function(){g(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if(typeof DEBUG<"u"&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=p(e,t);return u(o,t),function(e){for(var n=[],i=0;i<o.length;i++){var s=o[i];(a=r[s.id]).refs--,n.push(a)}for(e&&u(p(e,t),t),i=0;i<n.length;i++){var a;if(0===(a=n[i]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var y,w=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,o,n){var i=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}},function(e,t){e.exports=function(e){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,r=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?e:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,o){var n,i,r,s,a,l,c,d,h;e.exports=(n="cdx-notifies",i="cdx-notify",r="cdx-notify__cross",s="cdx-notify__button--confirm",a="cdx-notify__button--cancel",l="cdx-notify__input",c="cdx-notify__button",d="cdx-notify__btns-wrapper",{alert:h=function(e){var t=document.createElement("DIV"),o=document.createElement("DIV"),n=e.message,s=e.style;return t.classList.add(i),s&&t.classList.add(i+"--"+s),t.innerHTML=n,o.classList.add(r),o.addEventListener("click",t.remove.bind(t)),t.appendChild(o),t},confirm:function(e){var t=h(e),o=document.createElement("div"),n=document.createElement("button"),i=document.createElement("button"),l=t.querySelector("."+r),u=e.cancelHandler,p=e.okHandler;return o.classList.add(d),n.innerHTML=e.okText||"Confirm",i.innerHTML=e.cancelText||"Cancel",n.classList.add(c),i.classList.add(c),n.classList.add(s),i.classList.add(a),u&&"function"==typeof u&&(i.addEventListener("click",u),l.addEventListener("click",u)),p&&"function"==typeof p&&n.addEventListener("click",p),n.addEventListener("click",t.remove.bind(t)),i.addEventListener("click",t.remove.bind(t)),o.appendChild(n),o.appendChild(i),t.appendChild(o),t},prompt:function(e){var t=h(e),o=document.createElement("div"),n=document.createElement("button"),i=document.createElement("input"),a=t.querySelector("."+r),u=e.cancelHandler,p=e.okHandler;return o.classList.add(d),n.innerHTML=e.okText||"Ok",n.classList.add(c),n.classList.add(s),i.classList.add(l),e.placeholder&&i.setAttribute("placeholder",e.placeholder),e.default&&(i.value=e.default),e.inputType&&(i.type=e.inputType),u&&"function"==typeof u&&a.addEventListener("click",u),p&&"function"==typeof p&&n.addEventListener("click",(function(){p(i.value)})),n.addEventListener("click",t.remove.bind(t)),o.appendChild(i),o.appendChild(n),t.appendChild(o),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add(n),e}})}])}(ie);const re=e(ne);class se{show(e){re.show(e)}}var ae={},le={get exports(){return ae},set exports(e){ae=e}};!function(e,t){e.exports=function(){function e(e){var t=e.tags,o=Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e}));if(!o)throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(e){return-1!==t.indexOf(e.nodeName)}var n=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function i(e){return-1!==n.indexOf(e.nodeName)}function r(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function s(e,t,o){return"function"==typeof e.tags[t]?e.tags[t](o):e.tags[t]}function a(e,t){return typeof t>"u"||"boolean"==typeof t&&!t}function l(e,t,o){var n=e.name.toLowerCase();return!0!==t&&("function"==typeof t[n]?!t[n](e.value,o):typeof t[n]>"u"||!1===t[n]||"string"==typeof t[n]&&t[n]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),o=t.createElement("div");return o.innerHTML=e,this._sanitize(t,o),o.innerHTML},e.prototype._sanitize=function(e,t){var n=r(e,t),c=n.firstChild();if(c)do{if(c.nodeType!==Node.TEXT_NODE){if(c.nodeType===Node.COMMENT_NODE){t.removeChild(c),this._sanitize(e,t);break}var d,h=i(c);h&&(d=Array.prototype.some.call(c.childNodes,o));var u=!!t.parentNode,p=o(t)&&o(c)&&u,f=c.nodeName.toLowerCase(),g=s(this.config,f,c);if(h&&d||a(c,g)||!this.config.keepNestedBlockElements&&p){if("SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName)for(;c.childNodes.length>0;)t.insertBefore(c.childNodes[0],c);t.removeChild(c),this._sanitize(e,t);break}for(var m=0;m<c.attributes.length;m+=1){var v=c.attributes[m];l(v,g,c)&&(c.removeAttribute(v.name),m-=1)}this._sanitize(e,c)}else if(""===c.data.trim()&&(c.previousElementSibling&&o(c.previousElementSibling)||c.nextElementSibling&&o(c.nextElementSibling))){t.removeChild(c),this._sanitize(e,t);break}}while(c=n.nextSibling())},e}()}(le);const ce=ae;function de(e,t){return e.map((e=>{const o=y(t)?t(e.tool):t;return S(o)||(e.data=ue(e.data,o)),e}))}function he(e,t={}){return new ce({tags:t}).clean(e)}function ue(e,t){return Array.isArray(e)?function(e,t){return e.map((e=>ue(e,t)))}(e,t):w(e)?function(e,t){const o={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const i=e[n],r=pe(t[n])?t[n]:t;o[n]=ue(i,r)}return o}(e,t):x(e)?function(e,t){return w(t)?he(e,t):!1===t?he(e,{}):e}(e,t):e}function pe(e){return w(e)||function(e){return"boolean"===b(e)}(e)||y(e)}var fe={},ge={get exports(){return fe},set exports(e){fe=e}};!function(e,t){window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){e.exports=o(1)},function(e,t,o){o.r(t),o.d(t,"default",(function(){return n}));class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(e,t,o){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const n=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},o);if(n.hidingDelay&&(this.hidingDelay=n.hidingDelay),this.nodes.content.innerHTML="","string"==typeof t)this.nodes.content.appendChild(document.createTextNode(t));else{if(!(t instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof t+" given.");this.nodes.content.appendChild(t)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),n.placement){case"top":this.placeTop(e,n);break;case"left":this.placeLeft(e,n);break;case"right":this.placeRight(e,n);break;default:this.placeBottom(e,n)}n&&n.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),n.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(e=!1){if(this.hidingDelay&&!e)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(e,t,o){e.addEventListener("mouseenter",(()=>{this.show(e,t,o)})),e.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const e="codex-tooltips-style";if(document.getElementById(e))return;const t=o(2),n=this.make("style",null,{textContent:t.toString(),id:e});this.prepend(document.head,n)}placeBottom(e,t){const o=e.getBoundingClientRect(),n=o.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,i=o.bottom+window.pageYOffset+this.offsetTop+t.marginTop;this.applyPlacement("bottom",n,i)}placeTop(e,t){const o=e.getBoundingClientRect(),n=o.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,i=o.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",n,i)}placeLeft(e,t){const o=e.getBoundingClientRect(),n=o.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-t.marginLeft,i=o.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",n,i)}placeRight(e,t){const o=e.getBoundingClientRect(),n=o.right+this.offsetRight+t.marginRight,i=o.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",n,i)}applyPlacement(e,t,o){this.nodes.wrapper.classList.add(this.CSS.placement[e]),this.nodes.wrapper.style.left=t+"px",this.nodes.wrapper.style.top=o+"px"}make(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)o.hasOwnProperty(e)&&(n[e]=o[e]);return n}append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}}},function(e,t){e.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}(ge);const me=e(fe);let ve=null;function be(){ve||(ve=new me)}function ye(e=!1){be(),null==ve||ve.hide(e)}function we(e,t,o){be(),null==ve||ve.onHover(e,t,o)}const xe=function e(t,o){const n={};return Object.entries(t).forEach((([t,i])=>{if(w(i)){const r=o?`${o}.${t}`:t;Object.values(i).every((e=>x(e)))?n[t]=r:n[t]=e(i,r)}else n[t]=i})),n}(F);const ke='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',Ce='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';class Se{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(Se.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(Se.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(Se.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return null!==this.confirmationState}get isFocused(){return this.nodes.root.classList.contains(Se.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){this.isConfirmationStateEnabled?this.activateOrEnableConfirmationMode(this.confirmationState):this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(Se.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(Se.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=P.make("div",Se.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=P.make("div",Se.CSS.icon,{innerHTML:e.icon||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>'}),t.appendChild(this.nodes.icon),t.appendChild(P.make("div",Se.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(P.make("div",Se.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(Se.CSS.active),e.isDisabled&&t.classList.add(Se.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},o=this.make(t);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(Se.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(Se.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(Se.CSS.noHover),this.nodes.root.classList.add(Se.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(void 0===e.confirmation)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(Se.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(Se.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const Ee=class{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return-1===this.cursor?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(Ee.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(Ee.directions.LEFT)}dropCursor(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(0===this.items.length)return this.cursor;let t=this.cursor;return-1===t?t=e===Ee.directions.RIGHT?-1:0:this.items[t].classList.remove(this.focusedCssClass),t=e===Ee.directions.RIGHT?(t+1)%this.items.length:(this.items.length+t-1)%this.items.length,P.canSetCaret(this.items[t])&&B((()=>X.setCursor(this.items[t])),50)(),this.items[t].classList.add(this.focusedCssClass),t}};let Te=Ee;Te.directions={RIGHT:"right",LEFT:"left"};class Ae{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=e=>{if(this.isEventReadyForHandling(e))switch(Ae.usedKeys.includes(e.keyCode)&&e.preventDefault(),e.keyCode){case r:this.handleTabPress(e);break;case l:case c:this.flipLeft();break;case h:case d:this.flipRight();break;case s:this.handleEnterPress(e)}},this.iterator=new Te(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||Ae.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[r,l,h,s,c,d]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),void 0!==t&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter((t=>t!==e))}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Te.directions.LEFT:Te.directions.RIGHT){case Te.directions.RIGHT:this.flipRight();break;case Te.directions.LEFT:this.flipLeft()}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),y(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((e=>e()))}}class Be{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:o}){this.listeners=new V,this.items=e,this.onSearch=t,this.render(o)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=P.make("div",Be.CSS.wrapper);const t=P.make("div",Be.CSS.icon,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});this.input=P.make("input",Be.CSS.input,{placeholder:e,tabIndex:-1}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",(()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)}))}get foundItems(){return this.items.filter((e=>this.checkItem(e)))}checkItem(e){var t;const o=(null==(t=e.title)?void 0:t.toLowerCase())||"",n=this.searchQuery.toLowerCase();return o.includes(n)}}const Le=class{lock(){H?this.lockHard():document.body.classList.add(Le.CSS.scrollLocked)}unlock(){H?this.unlockHard():document.body.classList.remove(Le.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Le.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Le.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let _e=Le;_e.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var Me=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,Ie=(e=>(e.Close="close",e))(Ie||{});const Ne=class extends W{constructor(e){super(),this.scopeElement=document.body,this.listeners=new V,this.scrollLocker=new _e,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find((e=>e.isFocused)).onFocus()},this.items=e.items.map((e=>new Se(e))),void 0!==e.scopeElement&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Ne.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Ne.CSS.overlayHidden),this.nodes.popover.classList.add(Ne.CSS.popoverOpened),this.flipper.activate(this.flippableElements),void 0!==this.search&&requestAnimationFrame((()=>{var e;null==(e=this.search)||e.focus()})),j()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Ne.CSS.popoverOpened),this.nodes.popover.classList.remove(Ne.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Ne.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach((e=>e.reset())),void 0!==this.search&&this.search.clear(),j()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),j()&&this.scrollLocker.unlock()}make(){this.nodes.popover=P.make("div",[Ne.CSS.popover]),this.nodes.nothingFoundMessage=P.make("div",[Ne.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=P.make("div",[Ne.CSS.items]),this.items.forEach((e=>{this.nodes.items.appendChild(e.getElement())})),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",(e=>{const t=this.getTargetItem(e);void 0!==t&&this.handleItemClick(t)})),this.nodes.wrapper=P.make("div"),this.nodes.overlay=P.make("div",[Ne.CSS.overlay,Ne.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",(()=>{this.hide()})),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Be({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach((e=>{const o=!t.includes(e);e.toggleHidden(o)})),this.toggleNothingFoundMessage(0===t.length),this.toggleCustomContent(""!==e);const o=""===e?this.flippableElements:t.map((e=>e.getElement()));this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const e=this.search.getElement();e.classList.add(Ne.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(Ne.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find((t=>e.composedPath().includes(t.getElement())))}handleItemClick(e){e.isDisabled||(this.items.filter((t=>t!==e)).forEach((e=>e.reset())),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new Ae({items:this.flippableElements,focusedItemClass:Se.CSS.focused,allowedKeys:[r,c,d,s]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map((e=>e.getElement()));return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(null===this.nodes.popover)return e;const t=this.nodes.popover.cloneNode(!0);return t.style.visibility="hidden",t.style.position="absolute",t.style.top="-1000px",t.classList.add(Ne.CSS.popoverOpened),document.body.appendChild(t),e=t.offsetHeight,t.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),o=this.height,n=e.top+o,i=e.top-o,r=Math.min(window.innerHeight,t.bottom);return i<t.top||n<=r}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Ne.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var t;null==(t=this.nodes.customContent)||t.classList.toggle(Ne.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(!0===e.toggle&&e.toggleActive(),"string"==typeof e.toggle){const t=this.items.filter((t=>t.toggle===e.toggle));if(1===t.length)return void e.toggleActive();t.forEach((t=>{t.toggleActive(t===e)}))}}};let Re=Ne;((e,t,o,n)=>{for(var i,r=n>1?void 0:n?Oe(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);n&&r&&Me(t,o,r)})([D],Re.prototype,"height",1);class De extends Y{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=P.make("div",[De.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=P.make("div",De.CSS.conversionToolbarTools);const e=P.make("div",De.CSS.conversionToolbarLabel,{textContent:U.ui(xe.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),P.append(this.nodes.wrapper,e),P.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),y(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(De.CSS.conversionToolbarShowed),window.requestAnimationFrame((()=>{this.flipper.activate(this.tools.map((e=>e.button)).filter((e=>!e.classList.contains(De.CSS.conversionToolHidden)))),this.flipper.focusFirst(),y(this.togglingCallback)&&this.togglingCallback(!0)}))}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(De.CSS.conversionToolbarShowed),y(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return 1!==this.tools.length||this.tools[0].name!==this.config.defaultBlock}async replaceWithBlock(e,t){const{BlockManager:o,BlockSelection:n,InlineToolbar:i,Caret:r}=this.Editor;o.convert(this.Editor.BlockManager.currentBlock,e,t),n.clearSelection(),this.close(),i.close(),window.requestAnimationFrame((()=>{r.setToBlock(this.Editor.BlockManager.currentBlock,r.positions.END)}))}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach((([e,t])=>{var o;const n=t.conversionConfig;!n||!n.import||null==(o=t.toolbox)||o.forEach((t=>this.addToolIfValid(e,t)))}))}addToolIfValid(e,t){S(t)||!t.icon||this.addTool(e,t)}addTool(e,t){var o;const n=P.make("div",[De.CSS.conversionTool]),i=P.make("div",[De.CSS.conversionToolIcon]);n.dataset.tool=e,i.innerHTML=t.icon,P.append(n,i),P.append(n,P.text(U.t(xe.toolNames,t.title||M(e))));const r=null==(o=this.Editor.Tools.blockTools.get(e))?void 0:o.shortcut;if(r){const e=P.make("span",De.CSS.conversionToolSecondaryLabel,{innerText:I(r)});P.append(n,e)}P.append(this.nodes.tools,n),this.tools.push({name:e,button:n,toolboxItem:t}),this.listeners.on(n,"click",(async()=>{await this.replaceWithBlock(e,t.data)}))}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,t=await e.getActiveToolboxEntry();this.tools.forEach((o=>{let n=!1;if(t){const i=function(e,t){return e.icon===t.icon&&e.title===t.title}(t,o.toolboxItem);n=o.button.dataset.tool===e.name&&i}o.button.hidden=n,o.button.classList.toggle(De.CSS.conversionToolHidden,n)}))}enableFlipper(){this.flipper=new Ae({focusedItemClass:De.CSS.conversionToolFocused})}}var je={},He={get exports(){return je},set exports(e){je=e}};!function(e,t){window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}o.r(t);var r=function(){function e(t){var o=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){o.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return i(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),i(e,[{key:"parseShortcutName",value:function(t){t=t.split("+");for(var o=0;o<t.length;o++){t[o]=t[o].toUpperCase();var n=!1;for(var i in e.supportedCommands)if(e.supportedCommands[i].includes(t[o])){n=this.commands[i]=!0;break}n||(this.keys[t[o]]=!0)}for(var r in e.supportedCommands)this.commands[r]||(this.commands[r]=!1)}},{key:"execute",value:function(t){var o,n={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},i=!0;for(o in this.commands)this.commands[o]!==n[o]&&(i=!1);var r,s=!0;for(r in this.keys)s=s&&t.keyCode===e.keyCodes[r];i&&s&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}();t.default=r}]).default}(He);const Pe=e(je);const Fe=new class{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new Pe({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,t])}remove(e,t){const o=this.findShortcut(e,t);if(!o)return;o.remove();const n=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,n.filter((e=>e!==o)))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find((({name:e})=>e===t))}};var ze=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,qe=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?Ue(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&ze(t,o,r),r},We=(e=>(e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added",e))(We||{});const $e=class extends W{constructor({api:e,tools:t,i18nLabels:o}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=o}get isEmpty(){return 0===this.toolsToBeDisplayed.length}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Re({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Ie.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add($e.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return null==(e=this.popover)?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),null==(e=this.popover)||e.off(Ie.Close,this.onPopoverClose)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||(null==(e=this.popover)||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;null==(e=this.popover)||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach((t=>{t.toolbox&&e.push(t)})),e}get toolboxItemsToBeDisplayed(){const e=(e,t)=>({icon:e.icon,title:U.t(xe.toolNames,e.title||M(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?I(t.shortcut):""});return this.toolsToBeDisplayed.reduce(((t,o)=>(Array.isArray(o.toolbox)?o.toolbox.forEach((n=>{t.push(e(n,o))})):void 0!==o.toolbox&&t.push(e(o.toolbox,o)),t)),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)}))}enableShortcutForTool(e,t){Fe.add({name:t,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault();const o=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(o);if(n)try{return this.api.blocks.convert(n.id,e),void window.requestAnimationFrame((()=>{this.api.caret.setToBlock(o,"end")}))}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&Fe.remove(this.api.ui.nodes.redactor,t)}))}async insertNewBlock(e,t){const o=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(o);if(!n)return;const i=n.isEmpty?o:o+1;let r;if(t){const o=await this.api.blocks.composeBlockData(e);r=Object.assign(o,t)}const s=this.api.blocks.insert(e,r,void 0,i,void 0,n.isEmpty);s.call(ee.APPEND_CALLBACK),this.api.caret.setToBlock(i),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let Ve=$e;qe([D],Ve.prototype,"toolsToBeDisplayed",1),qe([D],Ve.prototype,"toolboxItemsToBeDisplayed",1);const Ye="block hovered";var Xe=(e=>(e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune",e))(Xe||{}),Ge=(e=>(e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config",e))(Ge||{}),Ke=(e=>(e.Shortcut="shortcut",e.SanitizeConfig="sanitize",e))(Ke||{}),Ze=(e=>(e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig",e))(Ze||{}),Je=(e=>(e.IsInline="isInline",e.Title="title",e))(Je||{}),Qe=(e=>(e.IsTune="isTune",e))(Qe||{});class et{constructor({name:e,constructable:t,config:o,api:n,isDefault:i,isInternal:r=!1,defaultPlaceholder:s}){this.api=n,this.name=e,this.constructable=t,this.config=o,this.isDefault=i,this.isInternal=r,this.defaultPlaceholder=s}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(y(this.constructable.reset))return this.constructable.reset()}prepare(){if(y(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return 1===this.type}isBlock(){return 0===this.type}isTune(){return 2===this.type}}class tt{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return A(this.workingArea.children)}static set(e,t,o){return isNaN(Number(t))?(Reflect.set(e,t,o),!0):(e.insert(+t,o),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const o=this.blocks[t];P.swap(this.blocks[e].holder,o.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=o}move(e,t){const o=this.blocks.splice(t,1)[0],n=e-1,i=Math.max(0,n),r=this.blocks[i];e>0?this.insertToDOM(o,"afterend",r):this.insertToDOM(o,"beforebegin",r),this.blocks.splice(e,0,o);const s=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});o.call(ee.MOVED,s)}insert(e,t,o=!1){if(!this.length)return void this.push(t);e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(ee.REMOVED));const n=o?1:0;if(this.blocks.splice(e,n,t),e>0){const o=this.blocks[e-1];this.insertToDOM(t,"afterend",o)}else{const o=this.blocks[e+1];o?this.insertToDOM(t,"beforebegin",o):this.insertToDOM(t)}}replace(e,t){if(void 0===this.blocks[e])throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const o=new DocumentFragment;for(const t of e)o.appendChild(t.holder);if(this.length>0){if(t>0){const e=Math.min(t-1,this.length-1);this.blocks[e].holder.after(o)}else 0===t&&this.workingArea.prepend(o);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach((e=>e.call(ee.RENDERED)))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(ee.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach((e=>e.call(ee.REMOVED))),this.blocks.length=0}insertAfter(e,t){const o=this.blocks.indexOf(e);this.insert(o+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,o){t?o.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(ee.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const ot="block-removed",nt="block-added",it="block-changed";class rt{constructor(){this.completed=Promise.resolve()}add(e){return new Promise(((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)}))}}class st extends Y{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const t=X.get(),o=P.getDeepestNode(e.currentInput);let n=t.focusNode;if(P.isNativeInput(o))return 0===o.selectionEnd;if(!t.anchorNode)return!1;let i=n.textContent.search(/\S/);-1===i&&(i=0);let r=t.focusOffset;return n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[r]?(n=n.childNodes[r],r=0):(n=n.childNodes[r-1],r=n.textContent.length)),!(!P.isLineBreakTag(o)&&!P.isEmpty(o)||!this.getHigherLevelSiblings(n,"left").every((e=>{const t=P.isLineBreakTag(e),o=1===e.children.length&&P.isLineBreakTag(e.children[0]),n=t||o;return P.isEmpty(e)&&!n}))||r!==i)||(null===o||n===o&&r<=i)}get isAtEnd(){const{currentBlock:e}=this.Editor.BlockManager;if(!e.focusable)return!0;const t=X.get();let o=t.focusNode;const n=P.getDeepestNode(e.currentInput,!0);if(P.isNativeInput(n))return n.selectionEnd===n.value.length;if(!t.focusNode)return!1;let i=t.focusOffset;if(o.nodeType!==Node.TEXT_NODE&&o.childNodes.length&&(o.childNodes[i-1]?(o=o.childNodes[i-1],i=o.textContent.length):(o=o.childNodes[0],i=0)),P.isLineBreakTag(n)||P.isEmpty(n)){const e=this.getHigherLevelSiblings(o,"right");if(e.every(((t,o)=>o===e.length-1&&P.isLineBreakTag(t)||P.isEmpty(t)&&!P.isLineBreakTag(t)))&&i===o.textContent.length)return!0}const r=n.textContent.replace(/\s+$/,"");return o===n&&i>=r.length}setToBlock(e,t=this.positions.DEFAULT,o=0){var n;const{BlockManager:i,BlockSelection:r}=this.Editor;if(r.clearSelection(),!e.focusable)return null==(n=window.getSelection())||n.removeAllRanges(),r.selectBlock(e),void(i.currentBlock=e);let s;switch(t){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const a=P.getDeepestNode(s,t===this.positions.END),l=P.getContentLength(a);switch(!0){case t===this.positions.START:o=0;break;case t===this.positions.END:case o>l:o=l}this.set(a,o),i.setCurrentBlockByChildNode(e.holder),i.currentBlock.currentInput=s}setToInput(e,t=this.positions.DEFAULT,o=0){const{currentBlock:n}=this.Editor.BlockManager,i=P.getDeepestNode(e);switch(t){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,P.getContentLength(i));break;default:o&&this.set(i,o)}n.currentInput=e}set(e,t=0){const{top:o,bottom:n}=X.setCursor(e,t),{innerHeight:i}=window;o<0?window.scrollBy(0,o-30):n>i&&window.scrollBy(0,n-i+30)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const e=this.Editor.BlockManager.insertAtEnd();this.setToBlock(e)}}extractFragmentFromCaretPosition(){const e=X.get();if(e.rangeCount){const t=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),o){if(P.isNativeInput(o)){const e=o,t=document.createDocumentFragment(),n=e.value.substring(0,e.selectionStart),i=e.value.substring(e.selectionStart);return t.textContent=i,e.value=n,t}{const e=t.cloneRange();return e.selectNodeContents(o),e.setStart(t.endContainer,t.endOffset),e.extractContents()}}}}navigateNext(e=!1){const{BlockManager:t}=this.Editor,{currentBlock:o,nextBlock:n}=t,{nextInput:i}=o,r=this.isAtEnd;let s=n;const a=e||r;if(i&&a)return this.setToInput(i,this.positions.START),!0;if(null===s){if(o.tool.isDefault||!a)return!1;s=t.insertAtEnd()}return!!a&&(this.setToBlock(s,this.positions.START),!0)}navigatePrevious(e=!1){const{currentBlock:t,previousBlock:o}=this.Editor.BlockManager;if(!t)return!1;const{previousInput:n}=t,i=e||this.isAtStart;return n&&i?(this.setToInput(n,this.positions.END),!0):!(null===o||!i)&&(this.setToBlock(o,this.positions.END),!0)}createShadow(e){const t=document.createElement("span");t.classList.add(st.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${st.CSS.shadowCaret}`);if(!t)return;(new X).expandToTag(t);const o=document.createRange();o.selectNode(t),o.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),o=document.createElement("div"),n=X.get(),i=X.range;o.innerHTML=e,Array.from(o.childNodes).forEach((e=>t.appendChild(e))),0===t.childNodes.length&&t.appendChild(new Text);const r=t.lastChild;i.deleteContents(),i.insertNode(t);const s=document.createRange(),a=r.nodeType===Node.TEXT_NODE?r:r.firstChild;null!==a&&null!==a.textContent&&s.setStart(a,a.textContent.length),n.removeAllRanges(),n.addRange(s)}getHigherLevelSiblings(e,t){let o=e;const n=[];for(;o.parentNode&&"true"!==o.parentNode.contentEditable;)o=o.parentNode;const i="left"===t?"previousSibling":"nextSibling";for(;o[i];)o=o[i],n.push(o);return n}}const at=class extends Y{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(!1===e.pasteConfig)return void this.exceptionList.push(e.name);if(!y(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){m(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:o}=this.Editor,n=t.setCurrentBlockByChildNode(e.target);!n||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||n&&this.exceptionList.includes(n.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),o.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,t=!1){const{Tools:o}=this.Editor,n=e.types;if((n.includes?n.includes("Files"):n.contains("Files"))&&!S(this.toolsFiles))return void await this.processFiles(e.files);const i=e.getData(this.MIME_TYPE),r=e.getData("text/plain");let s=e.getData("text/html");if(i)try{return void this.insertEditorJSData(JSON.parse(i))}catch{}t&&r.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:r)+"</p>");const a=Object.keys(this.toolsTags).reduce(((e,t)=>(e[t.toLowerCase()]=this.toolsTags[t].sanitizationConfig??{},e)),{}),l=he(s,Object.assign({},a,o.getAllInlineToolsSanitizeConfig(),{br:{}}));l.trim()&&l.trim()!==r&&P.isHTMLString(l)?await this.processText(l,!0):await this.processText(r)}async processText(e,t=!1){const{Caret:o,BlockManager:n}=this.Editor,i=t?this.processHTML(e):this.processPlain(e);if(!i.length)return;if(1===i.length)return void(i[0].isBlock?this.processSingleBlock(i.pop()):this.processInlinePaste(i.pop()));const r=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;i.map((async(e,t)=>this.insertBlock(e,0===t&&r))),n.currentBlock&&o.setToBlock(n.currentBlock,o.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return x(e)?[e]:w(e)?Object.keys(e):[]}getTagsConfig(e){if(!1===e.pasteConfig)return;const t=e.pasteConfig.tags||[],o=[];t.forEach((t=>{const n=this.collectTagNames(t);o.push(...n),n.forEach((o=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,o))return void m(`Paste handler for «${e.name}» Tool on «${o}» tag is skipped because it is already used by «${this.toolsTags[o].tool.name}» Tool.`,"warn");const n=w(t)?t[o]:null;this.toolsTags[o.toUpperCase()]={tool:e,sanitizationConfig:n}}))})),this.tagsByTool[e.name]=o.map((e=>e.toUpperCase()))}getFilesConfig(e){if(!1===e.pasteConfig)return;const{files:t={}}=e.pasteConfig;let{extensions:o,mimeTypes:n}=t;!o&&!n||(o&&!Array.isArray(o)&&(m(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),o=[]),n&&!Array.isArray(n)&&(m(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),n=[]),n&&(n=n.filter((t=>!!function(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}(t)||(m(`MIME type value «${t}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1)))),this.toolsFiles[e.name]={extensions:o||[],mimeTypes:n||[]})}getPatternsConfig(e){!1===e.pasteConfig||!e.pasteConfig.patterns||S(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach((([t,o])=>{o instanceof RegExp||m(`Pattern ${o} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:t,pattern:o,tool:e})}))}isNativeBehaviour(e){return P.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let o;o=await Promise.all(Array.from(e).map((e=>this.processFile(e)))),o=o.filter((e=>!!e));const n=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;o.forEach(((e,o)=>{t.paste(e.type,e.event,0===o&&n)}))}async processFile(e){const t=function(e){return e.name.split(".").pop()}(e),o=Object.entries(this.toolsFiles).find((([o,{mimeTypes:n,extensions:i}])=>{const[r,s]=e.type.split("/"),a=i.find((e=>e.toLowerCase()===t.toLowerCase())),l=n.find((e=>{const[t,o]=e.split("/");return t===r&&(o===s||"*"===o)}));return!!a||!!l}));if(!o)return;const[n]=o;return{event:this.composePasteEvent("file",{file:e}),type:n}}processHTML(e){const{Tools:t}=this.Editor,o=P.make("DIV");return o.innerHTML=e,this.getNodes(o).map((e=>{let o,n=t.defaultTool,i=!1;switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=P.make("div"),o.appendChild(e);break;case Node.ELEMENT_NODE:o=e,i=!0,this.toolsTags[o.tagName]&&(n=this.toolsTags[o.tagName].tool)}const{tags:r}=n.pasteConfig||{tags:[]},s=r.reduce(((e,t)=>(this.collectTagNames(t).forEach((o=>{const n=w(t)?t[o]:null;e[o.toLowerCase()]=n||{}})),e)),{}),a=Object.assign({},s,n.baseSanitizeConfig);if("table"===o.tagName.toLowerCase()){const e=he(o.outerHTML,a);o=P.make("div",void 0,{innerHTML:e}).firstChild}else o.innerHTML=he(o.innerHTML,a);const l=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:i,tool:n.name,event:l}})).filter((e=>{const t=P.isEmpty(e.content),o=P.isSingleTag(e.content);return!t||o}))}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const o=t;return e.split(/\r?\n/).filter((e=>e.trim())).map((e=>{const t=P.make("div");t.textContent=e;const n=this.composePasteEvent("tag",{data:t});return{content:t,tool:o,isBlock:!1,event:n}}))}async processSingleBlock(e){const{Caret:t,BlockManager:o}=this.Editor,{currentBlock:n}=o;n&&e.tool===n.name&&P.containsOnlyInlineElements(e.content.innerHTML)?t.insertContentAtCaretPosition(e.content.innerHTML):this.insertBlock(e,(null==n?void 0:n.tool.isDefault)&&n.isEmpty)}async processInlinePaste(e){const{BlockManager:t,Caret:o}=this.Editor,{content:n}=e;if(t.currentBlock&&t.currentBlock.tool.isDefault&&n.textContent.length<at.PATTERN_PROCESSING_MAX_LENGTH){const e=await this.processPattern(n.textContent);if(e){const n=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty,i=t.paste(e.tool,e.event,n);return void o.setToBlock(i,o.positions.END)}}if(t.currentBlock&&t.currentBlock.currentInput){const e=t.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,he(n.innerHTML,e))}else this.insertBlock(e)}async processPattern(e){const t=this.toolsPatterns.find((t=>{const o=t.pattern.exec(e);return!!o&&e===o.shift()}));return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e,t=!1){const{BlockManager:o,Caret:n}=this.Editor,{currentBlock:i}=o;let r;if(t&&i&&i.isEmpty)return r=o.paste(e.tool,e.event,!0),void n.setToBlock(r,n.positions.END);r=o.paste(e.tool,e.event),n.setToBlock(r,n.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:o,Tools:n}=this.Editor;de(e,(e=>n.blockTools.get(e).sanitizeConfig)).forEach((({tool:e,data:n},i)=>{let r=!1;0===i&&(r=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const s=t.insert({tool:e,data:n,replace:r});o.setToBlock(s,o.positions.END)}))}processElementNode(e,t,o){const n=Object.keys(this.toolsTags),i=e,{tool:r}=this.toolsTags[i.tagName]||{},s=this.tagsByTool[null==r?void 0:r.name]||[],a=n.includes(i.tagName),l=P.blockElements.includes(i.tagName.toLowerCase()),c=Array.from(i.children).some((({tagName:e})=>n.includes(e)&&!s.includes(e))),d=Array.from(i.children).some((({tagName:e})=>P.blockElements.includes(e.toLowerCase())));return l||a||c?a&&!c||l&&!d&&!c?[...t,o,i]:void 0:(o.appendChild(i),[...t,o])}getNodes(e){const t=Array.from(e.childNodes);let o;const n=(e,t)=>{if(P.isEmpty(t)&&!P.isSingleTag(t))return e;const i=e[e.length-1];let r=new DocumentFragment;switch(i&&P.isFragment(i)&&(r=e.pop()),t.nodeType){case Node.ELEMENT_NODE:if(o=this.processElementNode(t,e,r),o)return o;break;case Node.TEXT_NODE:return r.appendChild(t),[...e,r];default:return[...e,r]}return[...e,...Array.from(t.childNodes).reduce(n,[])]};return t.reduce(n,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};let lt=at;lt.PATTERN_PROCESSING_MAX_LENGTH=450;class ct extends Y{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const o=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const n=[`.${te.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=o.closest("."+this.Editor.UI.CSS.editorWrapper),r=n.some((e=>!!o.closest(e)));!i||r||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",(e=>{this.processMouseDown(e)}),!1),this.listeners.on(document.body,"mousemove",_((e=>{this.processMouseMove(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseleave",(()=>{this.processMouseLeave()})),this.listeners.on(window,"scroll",_((e=>{this.processScroll(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseup",(()=>{this.processMouseUp()}),!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(null!==e.target.closest(P.allInputsSelector)||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=P.make("div",ct.CSS.overlay,{}),n=P.make("div",ct.CSS.overlayContainer,{}),i=P.make("div",ct.CSS.rect,{});return n.appendChild(i),o.appendChild(n),t.appendChild(o),this.overlayRectangle=i,{container:t,overlay:o}}scrollVertical(e){if(!this.inScrollZone||!this.mousedown)return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout((()=>{this.scrollVertical(e)}),0)}changingRectangle(e){if(!this.mousedown)return;void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:o,index:n}=this.genInfoForMouseSelection(),i=this.startX>t&&this.mouseX>t,r=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(i||r),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),void 0!==n&&(this.trySelectNextBlock(n),this.inverseSelection(),X.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const e of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(e);if(!this.rectCrossesBlocks&&e)for(const e of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(e)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=this.mouseY-window.pageYOffset+"px"),this.mouseX>=this.startX?(this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=this.mouseX-window.pageXOffset+"px")}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,t),n=this.Editor.BlockManager.getBlockByChildNode(o);let i;void 0!==n&&(i=this.Editor.BlockManager.blocks.findIndex((e=>e.holder===n.holder)));const r=this.Editor.BlockManager.lastBlock.holder.querySelector("."+te.CSS.content),s=Number.parseInt(window.getComputedStyle(r).width,10)/2;return{index:i,leftPos:e-s,rightPos:e+s}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length;if(t)return;const n=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0;let i=0;o>1&&(i=n?1:-1);const r=e>this.stackOfSelected[o-1]&&1===i,s=e<this.stackOfSelected[o-1]&&-1===i,a=!(r||s||0===i);if(!a&&(e>this.stackOfSelected[o-1]||void 0===this.stackOfSelected[o-1])){let t=this.stackOfSelected[o-1]+1||e;for(;t<=e;t++)this.addBlockInSelection(t);return}if(!a&&e<this.stackOfSelected[o-1]){for(let t=this.stackOfSelected[o-1]-1;t>=e;t--)this.addBlockInSelection(t);return}if(!a)return;let l,c=o-1;for(l=e>this.stackOfSelected[o-1]?()=>e>this.stackOfSelected[c]:()=>e<this.stackOfSelected[c];l();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[c]),this.stackOfSelected.pop(),c--}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-paragraph[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus:before{opacity:0}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class dt{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.readOnly=n,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:dt.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=void 0!==t.preserveBlank&&t.preserveBlank,this.data=e}onKeyUp(e){if("Backspace"!==e.code&&"Delete"!==e.code)return;const{textContent:t}=this._element;""===t&&(this._element.innerHTML="")}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){const t={text:this.data.text+e.text};this.data=t}validate(e){return!(""===e.text.trim()&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this.data=t}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}get data(){if(null!==this._element){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},null!==this._element&&this.hydrate()}hydrate(){window.requestAnimationFrame((()=>{this._element.innerHTML=this._data.text||""}))}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}class ht{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}ht.isInline=!0,ht.title="Bold";class ut{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}ut.isInline=!0,ut.title="Italic";class pt{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new X}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Ce,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)})),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const e=this.selection.findParentTag("A");if(e)return this.selection.expandToTag(e),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value="null"!==t?t:"",this.selection.save()}else this.nodes.button.innerHTML=Ce,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const e=new X;e.save(),this.selection.restore(),this.selection.removeFakeBackground(),e.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";return t.trim()?this.validateURL(t)?(t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void m("Incorrect Link pasted","warn",t)):(this.selection.restore(),this.unlink(),e.preventDefault(),void this.closeActions())}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e)}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),o="#"===e.substring(0,1),n=/^\/\/[^/\s]/.test(e);return!t&&!o&&!n&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}pt.isInline=!0,pt.title="Link";class ft{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=P.make("div",this.CSS.wrapper),t=P.make("div",this.CSS.info),o=P.make("div",this.CSS.title,{textContent:this.title}),n=P.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',t.appendChild(o),t.appendChild(n),e.appendChild(t),e}}ft.isReadOnlySupported=!0;class gt extends et{constructor(){super(...arguments),this.type=Xe.Inline}get title(){return this.constructable[Je.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class mt extends et{constructor(){super(...arguments),this.type=Xe.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class vt extends Map{get blockTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isBlock()));return new vt(e)}get inlineTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isInline()));return new vt(e)}get blockTunes(){const e=Array.from(this.entries()).filter((([,e])=>e.isTune()));return new vt(e)}get internalTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isInternal));return new vt(e)}get externalTools(){const e=Array.from(this.entries()).filter((([,e])=>!e.isInternal));return new vt(e)}}var bt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,wt=(e,t,o,n)=>{for(var i,r=n>1?void 0:n?yt(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);return n&&r&&bt(t,o,r),r};class xt extends et{constructor(){super(...arguments),this.type=Xe.Block,this.inlineTools=new vt,this.tunes=new vt}create(e,t,o){return new this.constructable({data:e,block:t,readOnly:o,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return!0===this.constructable[Ze.IsReadOnlySupported]}get isLineBreaksEnabled(){return this.constructable[Ze.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Ze.Toolbox],t=this.config[Ge.Toolbox];if(!S(e)&&!1!==t)return t?Array.isArray(e)?Array.isArray(t)?t.map(((t,o)=>{const n=e[o];return n?{...n,...t}:t})):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Ze.ConversionConfig]}get enabledInlineTools(){return this.config[Ge.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ge.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Ze.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(S(e))return t;const o={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];w(i)?o[n]=Object.assign({},t,i):o[n]=i}return o}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),Array.from(this.tunes.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),e}}wt([D],xt.prototype,"sanitizeConfig",1),wt([D],xt.prototype,"baseSanitizeConfig",1);class kt{constructor(e,t,o){this.api=o,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:o=!1,...n}=this.config[e];return new(this.getConstructor(t))({name:e,constructable:t,config:n,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[Je.IsInline]:return gt;case e[Qe.IsTune]:return mt;default:return xt}}}class Ct{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:ke,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const o=t.holder,n=o.getBoundingClientRect();let i=Math.abs(window.innerHeight-o.offsetHeight);n.top<window.innerHeight&&(i=window.scrollY+o.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Ct.isTune=!0;class St{constructor({api:e}){this.api=e}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}St.isTune=!0;class Et{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),o=this.api.blocks.getBlockByIndex(e-1);if(0===e||!t||!o)throw new Error("Unable to move Block up since it is already the first");const n=t.holder,i=o.holder,r=n.getBoundingClientRect(),s=i.getBoundingClientRect();let a;a=s.top>0?Math.abs(r.top)-Math.abs(s.top):Math.abs(r.top)+s.height,window.scrollBy(0,-1*a),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Et.isTune=!0;var Tt=Object.defineProperty,At=Object.getOwnPropertyDescriptor;class Bt extends Y{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new vt,this.toolsUnavailable=new vt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=O({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||0===Object.keys(this.config.tools).length)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new kt(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(0===t.length)return Promise.resolve();await T(t,(e=>{this.toolPrepareMethodSuccess(e)}),(e=>{this.toolPrepareMethodFallback(e)})),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>{Object.assign(e,t.sanitizeConfig)})),e}destroy(){Object.values(this.available).forEach((async e=>{y(e.reset)&&await e.reset()}))}get internalTools(){return{bold:{class:ht,isInternal:!0},italic:{class:ut,isInternal:!0},link:{class:pt,isInternal:!0},paragraph:{class:dt,inlineToolbar:!0,isInternal:!0},stub:{class:ft,isInternal:!0},moveUp:{class:Et,isInternal:!0},delete:{class:St,isInternal:!0},moveDown:{class:Ct,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const e=["render","surround","checkState"].filter((e=>!t.create()[e]));if(e.length)return m(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",e),void this.toolsUnavailable.set(t.name,t)}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach((([e,o])=>{t.push({function:y(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:e,config:o.config}})})),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach((e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)}))}assignInlineToolsToBlockTool(e){if(!1!==this.config.inlineToolbar){if(!0===e.enabledInlineTools)return void(e.inlineTools=new vt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((e=>[e,this.inlineTools.get(e)])):Array.from(this.inlineTools.entries())));Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new vt(e.enabledInlineTools.map((e=>[e,this.inlineTools.get(e)]))))}}assignBlockTunesToBlockTool(e){if(!1!==e.enabledBlockTunes){if(Array.isArray(e.enabledBlockTunes)){const t=new vt(e.enabledBlockTunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new vt([...t,...this.blockTunes.internalTools]))}if(Array.isArray(this.config.tunes)){const t=new vt(this.config.tunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new vt([...t,...this.blockTunes.internalTools]))}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!y(t)&&!y(t.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const t in this.config.tools)w(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}((e,t,o,n)=>{for(var i,r=n>1?void 0:n?At(t,o):t,s=e.length-1;s>=0;s--)(i=e[s])&&(r=(n?i(t,o,r):i(r))||r);n&&r&&Tt(t,o,r)})([D],Bt.prototype,"getAllInlineToolsSanitizeConfig",1);const Lt=':root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}\n';const _t={BlocksAPI:class extends Y{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},o={},n,i,r,s)=>new $(this.Editor.BlockManager.insert({id:s,tool:e,data:t,index:n,needToFocus:i,replace:r})),this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new te({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t)=>{const{BlockManager:o}=this.Editor,n=o.getBlockById(e);if(void 0===n)throw new Error(`Block with id "${e}" not found`);return new $(await o.update(n,t))},this.convert=(e,t,o)=>{var n,i;const{BlockManager:r,Tools:s}=this.Editor,a=r.getBlockById(e);if(!a)throw new Error(`Block with id "${e}" not found`);const l=s.blockTools.get(a.name),c=s.blockTools.get(t);if(!c)throw new Error(`Block Tool with type "${t}" not found`);const d=void 0!==(null==(n=null==l?void 0:l.conversionConfig)?void 0:n.export),h=void 0!==(null==(i=c.conversionConfig)?void 0:i.import);if(!d||!h){const e=[!d&&M(a.name),!h&&M(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${a.name}" to "${t}" is not possible. ${e} tool(s) should provide a "conversionConfig"`)}r.convert(a,t,o)},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const o=e.map((({id:e,type:t,data:o})=>this.Editor.BlockManager.composeBlock({id:e,tool:t||this.config.defaultBlock,data:o})));return this.Editor.BlockManager.insertMany(o,t),o.map((e=>new $(e)))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(t)return this.Editor.BlockManager.getBlockIndex(t);v("There is no block with id `"+e+"`","warn")}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(void 0!==t)return new $(t);v("There is no block at index `"+e+"`","warn")}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return void 0===t?(v("There is no block with id `"+e+"`","warn"),null):new $(t)}swap(e,t){m("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(e){return void v(e,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(void 0===e||void 0===e.blocks)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){R(!0,"blocks.stretchBlock()","BlockAPI");const o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=t)}insertNewBlock(){m("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if("number"!=typeof e)throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(null===e)throw new Error("Index should be greater than or equal to 0")}},CaretAPI:class extends Y{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.firstBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0),this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.lastBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0),this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.previousBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0),this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.nextBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0),this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,o=0)=>!!this.Editor.BlockManager.blocks[e]&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,o),!0),this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},EventsAPI:class extends Y{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},I18nAPI:oe,API:class extends Y{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}},InlineToolbarAPI:class extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},ListenersAPI:class extends Y{get methods(){return{on:(e,t,o,n)=>this.on(e,t,o,n),off:(e,t,o,n)=>this.off(e,t,o,n),offById:e=>this.offById(e)}}on(e,t,o,n){return this.listeners.on(e,t,o,n)}off(e,t,o,n){this.listeners.off(e,t,o,n)}offById(e){this.listeners.offById(e)}},NotifierAPI:class extends Y{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new se}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},ReadOnlyAPI:class extends Y{get methods(){const e=()=>this.isEnabled;return{toggle:e=>this.toggle(e),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},SanitizerAPI:class extends Y{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return he(e,t)}},SaverAPI:class extends Y{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(v(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},SelectionAPI:class extends Y{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return(new X).findParentTag(e,t)}expandToTag(e){(new X).expandToTag(e)}},StylesAPI:class extends Y{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},ToolbarAPI:class extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():v("Could't toggle the Toolbar because there is no block selected ","warn")}toggleToolbox(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close():v("Could't toggle the Toolbox because there is no block selected ","warn")}},TooltipAPI:class extends Y{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,o)=>this.show(e,t,o),hide:()=>this.hide(),onHover:(e,t,o)=>this.onHover(e,t,o)}}show(e,t,o){!function(e,t,o){be(),null==ve||ve.show(e,t,o)}(e,t,o)}hide(){ye()}onHover(e,t,o){we(e,t,o)}},UiAPI:class extends Y{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}},BlockSettings:class extends Y{constructor(){super(...arguments),this.opened=!1,this.selection=new X,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return null==(e=this.popover)?void 0:e.flipper}make(){this.nodes.wrapper=P.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();const[t,o]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Re({searchable:!0,items:t.map((e=>this.resolveTuneAliases(e))),customContent:o,customContentFlippableItems:this.getControls(o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:U.ui(xe.ui.popover,"Nothing found"),search:U.ui(xe.ui.popover,"Filter")}}),this.popover.on(Ie.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened&&(this.opened=!1,X.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Ie.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))}getControls(e){const{StylesAPI:t}=this.Editor,o=e.querySelectorAll(`.${t.classes.settingsButton}, ${P.allInputsSelector}`);return Array.from(o)}resolveTuneAliases(e){const t=function(e,t){const o={};return Object.keys(e).forEach((n=>{const i=t[n];void 0!==i?o[i]=e[n]:o[n]=e[n]})),o}(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},ConversionToolbar:De,Toolbar:class extends Y{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:null==(e=this.toolboxInstance)?void 0:e.opened,close:()=>{var e;null==(e=this.toolboxInstance)||e.close()},open:()=>{null!==this.toolboxInstance?(this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()):m("toolbox.open() called before initialization is finished","warn")},toggle:()=>{null!==this.toolboxInstance?this.toolboxInstance.toggle():m("toolbox.toggle() called before initialization is finished","warn")},hasFocus:()=>{var e;return null==(e=this.toolboxInstance)?void 0:e.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback((()=>{this.drawUI(),this.enableModuleBindings()}),{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(null===this.toolboxInstance)return void m("Can't open Toolbar since Editor initialization is not finished yet","warn");if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:o}=this.Editor.UI,n=e.pluginsContent,i=window.getComputedStyle(n),r=parseInt(i.paddingTop,10),s=t.offsetHeight;let a;a=o?t.offsetTop+s:t.offsetTop+r,this.nodes.wrapper.style.top=`${Math.floor(a)}px`,1===this.Editor.BlockManager.blocks.length&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||(null==(e=this.nodes.wrapper)||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),null==(t=this.toolboxInstance)||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}make(){this.nodes.wrapper=P.make("div",this.CSS.toolbar),["content","actions"].forEach((e=>{this.nodes[e]=P.make("div",this.CSS[e])})),P.append(this.nodes.wrapper,this.nodes.content),P.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=P.make("div",this.CSS.plusButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>'}),P.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(()=>{ye(!0),this.plusButtonClicked()}),!1);const e=P.make("div");e.appendChild(document.createTextNode(U.ui(xe.ui.toolbar.toolbox,"Add"))),e.appendChild(P.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),we(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=P.make("span",this.CSS.settingsToggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>'}),P.append(this.nodes.actions,this.nodes.settingsToggler);const t=P.make("div"),o=P.text(U.ui(xe.ui.blockTunes.toggler,"Click to tune"));t.appendChild(o),t.appendChild(P.make("div",this.CSS.plusButtonShortcut,{textContent:I("CMD + /")})),we(this.nodes.settingsToggler,t,{hidingDelay:400}),P.append(this.nodes.actions,this.makeToolbox()),P.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),P.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Ve({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:U.ui(xe.ui.popover,"Filter"),nothingFound:U.ui(xe.ui.popover,"Nothing found")}}),this.toolboxInstance.on(We.Opened,(()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(We.Closed,(()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(We.BlockAdded,(({block:e})=>{const{BlockManager:t,Caret:o}=this.Editor,n=t.getBlockById(e.id);0===n.inputs.length&&(n===t.lastBlock?(t.insertAtEnd(),o.setToBlock(t.lastBlock)):o.setToBlock(t.nextBlock))})),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,null==(e=this.toolboxInstance)||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),null!=(t=this.toolboxInstance)&&t.opened&&this.toolboxInstance.close(),ye(!0)}),!0),j()||this.eventsDispatcher.on(Ye,(e=>{var t;this.Editor.BlockSettings.opened||null!=(t=this.toolboxInstance)&&t.opened||this.moveAndOpen(e.block)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}},InlineToolbar:class extends Y{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=j()?20:6,this.buttonsList=null,this.width=0,this.flipper=null}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback((()=>{this.make()}),{timeout:2e3})}async tryToShow(e=!1,t=!0){e&&this.close(),this.allowedToShow()&&(await this.addToolsFiltered(t),this.move(),this.open(t),this.Editor.Toolbar.close())}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((([e,t])=>{const o=this.getToolShortcut(e);o&&Fe.remove(this.Editor.UI.nodes.redactor,o),y(t.clear)&&t.clear()})),this.reset(),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}containsNode(e){return void 0!==this.nodes.wrapper&&this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}make(){this.nodes.wrapper=P.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=P.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=P.make("div",this.CSS.buttonsWrapper),this.nodes.actions=P.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()})),P.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),P.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),P.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame((()=>{this.recalculateWidth()})),this.enableFlipper()}open(){if(this.opened)return;this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0;let e=Array.from(this.buttonsList);e.unshift(this.nodes.conversionToggler),e=e.filter((e=>!e.hidden)),this.flipper.activate(e)}move(){const e=X.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),o={x:e.x-t.x,y:e.y+e.height-t.top+this.toolbarVerticalMargin};o.x+this.width+t.x>this.Editor.UI.contentRect.right&&(o.x=this.Editor.UI.contentRect.right-this.width-t.x),this.nodes.wrapper.style.left=Math.floor(o.x)+"px",this.nodes.wrapper.style.top=Math.floor(o.y)+"px"}reset(){this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarLeftOriented,this.CSS.inlineToolbarRightOriented),this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const e=X.get(),t=X.text;if(!e||!e.anchorNode||e.isCollapsed||t.length<1)return!1;const o=P.isElement(e.anchorNode)?e.anchorNode:e.anchorNode.parentElement;if(e&&["IMG","INPUT"].includes(o.tagName)||null===o.closest('[contenteditable="true"]'))return!1;const n=this.Editor.BlockManager.getBlock(e.anchorNode);return!!n&&0!==n.tool.inlineTools.size}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=P.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=P.make("div",this.CSS.conversionTogglerContent);const e=P.make("div",this.CSS.conversionTogglerArrow,{innerHTML:ke});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(()=>{this.Editor.ConversionToolbar.toggle((e=>{!e&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()}))})),!1===j()&&we(this.nodes.conversionToggler,U.ui(xe.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:t}=e,o=t.name,n=t.tool.conversionConfig,i=n&&n.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const r=await t.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=r.icon||r.title||M(o)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();P.append(this.nodes.wrapper,e)}async addToolsFiltered(e=!0){const t=X.get(),o=this.Editor.BlockManager.getBlock(t.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(o.tool.inlineTools.values()).forEach((e=>{this.addTool(e)})),e&&this.Editor.ConversionToolbar.hasTools()?await this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0,this.recalculateWidth()}addTool(e){const t=e.create(),o=t.render();if(!o)return void m("Render method must return an instance of Node","warn",e.name);if(o.dataset.tool=e.name,this.nodes.buttons.appendChild(o),this.toolsInstances.set(e.name,t),y(t.renderActions)){const e=t.renderActions();this.nodes.actions.appendChild(e)}this.listeners.on(o,"click",(e=>{this.toolClicked(t),e.preventDefault()}));const n=this.getToolShortcut(e.name);if(n)try{this.enableShortcuts(t,n)}catch{}const i=P.make("div"),r=U.t(xe.toolNames,e.title||M(e.name));i.appendChild(P.text(r)),n&&i.appendChild(P.make("div",this.CSS.inlineToolbarShortcut,{textContent:I(n)})),!1===j()&&we(o,i,{placement:"top",hidingDelay:100}),t.checkState(X.get())}getToolShortcut(e){const{Tools:t}=this.Editor,o=t.inlineTools.get(e),n=t.internal.inlineTools;return Array.from(n.keys()).includes(e)?this.inlineTools[e][Ke.Shortcut]:o.shortcut}enableShortcuts(e,t){Fe.add({name:t,handler:t=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(t.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const t=X.range;e.surround(t),this.checkToolsState(),void 0!==e.renderActions&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach((e=>{e.checkState(X.get())}))}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((([t,o])=>{e[t]=o.create()})),e}enableFlipper(){this.flipper=new Ae({focusedItemClass:this.CSS.focusedButton,allowedKeys:[s,r]})}},BlockEvents:class extends Y{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case i:this.backspace(e);break;case u:this.delete(e);break;case s:this.enter(e);break;case d:case h:this.arrowRightAndDown(e);break;case c:case l:this.arrowLeftAndUp(e);break;case r:this.tabPressed(e);break;case p:e.ctrlKey||e.metaKey?this.commandSlashPressed():this.slashPressed()}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&E(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}dragLeave(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:o,Caret:n}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then((()=>{const i=o.removeSelectedBlocks(),r=o.insertDefaultBlockAtIndex(i,!0);n.setToBlock(r,n.positions.START),t.clearSelection(e)}))}tabPressed(e){const{InlineToolbar:t,ConversionToolbar:o,Caret:n}=this.Editor;o.opened||t.opened||(e.shiftKey?n.navigatePrevious(!0):n.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(){this.Editor.BlockManager.currentBlock.isEmpty&&this.activateToolbox()}enter(e){const{BlockManager:t,UI:o}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey)return;let n=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):n=this.Editor.Caret.isAtEnd?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(n),this.Editor.Toolbar.moveAndOpen(n),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:o}=this.Editor,{currentBlock:n,previousBlock:i}=t;if(X.isCollapsed&&o.isAtStart)if(e.preventDefault(),this.Editor.Toolbar.close(),n.currentInput===n.firstInput){if(null!==i)if(i.isEmpty)t.removeBlock(i);else if(n.isEmpty){t.removeBlock(n);const e=t.currentBlock;o.setToBlock(e,o.positions.END)}else Q(n,i)?this.mergeBlocks(i,n):o.setToBlock(i,o.positions.END)}else o.navigatePrevious()}delete(e){const{BlockManager:t,Caret:o}=this.Editor,{currentBlock:n,nextBlock:i}=t;if(X.isCollapsed&&o.isAtEnd)if(e.preventDefault(),this.Editor.Toolbar.close(),n.currentInput===n.lastInput){if(null!==i){if(!i.isEmpty)return n.isEmpty?(t.removeBlock(n),void o.setToBlock(i,o.positions.START)):void(Q(n,i)?this.mergeBlocks(n,i):o.setToBlock(i,o.positions.START));t.removeBlock(i)}}else o.navigateNext()}mergeBlocks(e,t){const{BlockManager:o,Caret:n,Toolbar:i}=this.Editor;n.createShadow(e.pluginsContent),o.mergeBlocks(e,t).then((()=>{window.requestAnimationFrame((()=>{n.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()}))}))}arrowRightAndDown(e){const t=Ae.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===r);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();const o=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===d&&o?this.Editor.CrossBlockSelection.toggleBlockSelectedState():(e.keyCode===d||e.keyCode===h&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():(B((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(Ae.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===r))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const t=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===c&&t?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):(e.keyCode===c||e.keyCode===l&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():(B((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}needToolbarClosing(e){const t=e.keyCode===s&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===s&&this.Editor.BlockSettings.opened,n=e.keyCode===s&&this.Editor.InlineToolbar.opened,i=e.keyCode===s&&this.Editor.ConversionToolbar.opened,a=e.keyCode===r;return!(e.shiftKey||a||t||o||n||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},BlockManager:class extends Y{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find((e=>!!e.inputs.length))}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((e=>!!e.inputs.length))}get previousBlock(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every((e=>e.isEmpty))}prepare(){const e=new tt(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:tt.set,get:tt.get}),this.listeners.on(document,"copy",(e=>this.Editor.BlockEvents.handleCommandC(e)))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:o,tunes:n={}}){const i=this.Editor.ReadOnly.isEnabled,r=this.Editor.Tools.blockTools.get(e),s=new te({id:o,data:t,tool:r,api:this.Editor.API,readOnly:i,tunesData:n},this.eventsDispatcher);return i||window.requestIdleCallback((()=>{this.bindBlockEvents(s)}),{timeout:2e3}),s}insert({id:e,tool:t=this.config.defaultBlock,data:o={},index:n,needToFocus:i=!0,replace:r=!1,tunes:s={}}={}){let a=n;void 0===a&&(a=this.currentBlockIndex+(r?0:1));const l=this.composeBlock({id:e,tool:t,data:o,tunes:s});return r&&this.blockDidMutated(ot,this.getBlockByIndex(a),{index:a}),this._blocks.insert(a,l,r),this.blockDidMutated(nt,l,{index:a}),i?this.currentBlockIndex=a:a<=this.currentBlockIndex&&this.currentBlockIndex++,l}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t){const o=await e.data,n=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},o,t),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,n),this.blockDidMutated(it,n,{index:i}),n}replace(e,t,o){const n=this.getBlockIndex(e);this.insert({tool:t,data:o,index:n,replace:!0})}paste(e,t,o=!1){const n=this.insert({tool:e,replace:o});try{window.requestIdleCallback((()=>{n.call(ee.ON_PASTE,t)}))}catch(t){m(`${e}: onPaste callback call is failed`,"error",t)}return n}insertDefaultBlockAtIndex(e,t=!1){const o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(nt,o,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){const o=await t.data;S(o)||await e.mergeWith(o),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,t=!0){return new Promise((o=>{const n=this._blocks.indexOf(e);if(!this.validateIndex(n))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(n),this.blockDidMutated(ot,e,{index:n}),this.currentBlockIndex>=n&&this.currentBlockIndex--,this.blocks.length?0===n&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,t&&this.insert()),o()}))}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=P.make("div");t.appendChild(e);const o={text:P.isEmpty(t)?"":t.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return-1===e&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find((t=>t.id===e))}getBlock(e){P.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,o=e.closest(`.${te.CSS.wrapper}`),n=t.indexOf(o);if(n>=0)return this._blocks[n]}setCurrentBlockByChildNode(e){P.isElement(e)||(e=e.parentNode);const t=e.closest(`.${te.CSS.wrapper}`);if(!t)return;const o=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);return null!=o&&o.isEqualNode(this.Editor.UI.nodes.wrapper)?(this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock):void 0}getBlockByChildNode(e){if(!(e&&e instanceof Node))return;P.isElement(e)||(e=e.parentNode);const t=e.closest(`.${te.CSS.wrapper}`);return this.blocks.find((e=>e.holder===t))}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){isNaN(e)||isNaN(t)?m("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(e)&&this.validateIndex(t)?(this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated("block-moved",this.currentBlock,{fromIndex:t,toIndex:e})):m("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}async convert(e,t,o){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const n=this.Editor.Tools.blockTools.get(t);if(!n)throw new Error(`Could not convert Block. Tool «${t}» not found.`);let i=function(e,t){const o=null==t?void 0:t.import;return y(o)?o(e):x(o)?{[o]:e}:(void 0!==o&&m("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}(he(await e.exportDataAsString(),n.sanitizeConfig),n.conversionConfig);o&&(i=Object.assign(i,o)),this.replace(e,n.name,i)}dropPointer(){this.currentBlockIndex=-1}async clear(e=!1){const t=new rt;this.blocks.forEach((e=>{t.add((async()=>{await this.removeBlock(e,!1)}))})),await t.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map((e=>e.destroy())))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",(e=>{t.keydown(e)})),this.readOnlyMutableListeners.on(e.holder,"keyup",(e=>{t.keyup(e)})),this.readOnlyMutableListeners.on(e.holder,"dragover",(e=>{t.dragOver(e)})),this.readOnlyMutableListeners.on(e.holder,"dragleave",(e=>{t.dragLeave(e)})),e.on("didMutated",(e=>this.blockDidMutated(it,e,{index:this.getBlockIndex(e)})))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",(e=>this.Editor.BlockEvents.handleCommandX(e))),this.blocks.forEach((e=>{this.bindBlockEvents(e)}))}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,o){const n=new CustomEvent(e,{detail:{target:new $(t),...o}});return this.eventsDispatcher.emit(K,{event:n}),t}},BlockSelection:class extends Y{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every((e=>!0===e.selected))}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach((t=>{t.selected=e})),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=e.blocks.some((e=>!0===e.selected))),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter((e=>e.selected))}prepare(){this.selection=new X,Fe.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:o}=this.Editor;if(o.isEnabled)return e.preventDefault(),void this.selectAllBlocks();t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){X.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let o;o=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:o,Caret:n,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const r=e&&e instanceof KeyboardEvent,s=r&&E(e.keyCode);if(this.anyBlockSelected&&r&&s&&!X.isSelectionExists){const t=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(t,!0),n.setToBlock(o.currentBlock),B((()=>{const t=e.key;n.insertContentAtCaretPosition(t.length>1?"":t)}),20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!i.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}copySelectedBlocks(e){e.preventDefault();const t=P.make("div");this.selectedBlocks.forEach((e=>{const o=he(e.holder.innerHTML,this.sanitizerConfig),n=P.make("p");n.innerHTML=o,t.appendChild(n)}));const o=Array.from(t.childNodes).map((e=>e.textContent)).join("\n\n"),n=t.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",n),Promise.all(this.selectedBlocks.map((e=>e.save()))).then((t=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(t))}catch{}}))}selectBlockByIndex(e){const{BlockManager:t}=this.Editor,o=t.getBlockByIndex(e);void 0!==o&&this.selectBlock(o)}selectBlock(e){this.selection.save(),X.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Fe.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),P.isNativeInput(e.target)&&!this.readyToBlockSelection)return void(this.readyToBlockSelection=!0);const t=this.Editor.BlockManager.getBlock(e.target),o=t.inputs;o.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==o.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0):this.needToSelectAll=!0}selectAllBlocks(){this.selection.save(),X.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},Caret:st,CrossBlockSelection:class extends Y{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:o}=this.Editor;if(null===e.relatedTarget&&null===e.target)return;const n=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=t.getBlockByChildNode(e.target);if(n&&i&&i!==n){if(n===this.firstSelectedBlock)return X.get().removeAllRanges(),n.selected=!0,i.selected=!0,void o.clearCache();if(i===this.firstSelectedBlock)return n.selected=!1,i.selected=!1,void o.clearCache();this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(n,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",(e=>{this.enableCrossBlockSelection(e)}))}watchSelection(e){if(e.button!==f)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),X.get().removeAllRanges());const n=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=t.blocks[n];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:o,Caret:n}=this.Editor,i=t.blocks.indexOf(this.firstSelectedBlock),r=t.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&i>-1&&r>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case d:case h:n.setToBlock(t.blocks[Math.max(i,r)],n.positions.END);break;case c:case l:n.setToBlock(t.blocks[Math.min(i,r)],n.positions.START);break;default:n.setToBlock(t.blocks[Math.max(i,r)],n.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;X.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:o,BlockSelection:n}=this.Editor,i=o.blocks.indexOf(e),r=o.blocks.indexOf(t),s=e.selected!==t.selected;for(let a=Math.min(i,r);a<=Math.max(i,r);a++){const i=o.blocks[a];i!==this.firstSelectedBlock&&i!==(s?e:t)&&(o.blocks[a].selected=!o.blocks[a].selected,n.clearCache())}}},DragNDrop:class extends Y{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",(async e=>{await this.processDrop(e)}),!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",(()=>{this.processDragStart()})),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",(e=>{this.processDragOver(e)}),!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Caret:o,Paste:n}=this.Editor;e.preventDefault(),t.blocks.forEach((e=>{e.dropTarget=!1})),X.isAtEditor&&!X.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=t.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,o.positions.END);else{const e=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(e,o.positions.END)}await n.processDataTransfer(e.dataTransfer,!0)}processDragStart(){X.isAtEditor&&!X.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},ModificationsObserver:class extends Y{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver((e=>{this.redactorChanged(e)})),this.eventsDispatcher.on(K,(e=>{this.particularBlockChanged(e.event)})),this.eventsDispatcher.on(Z,(()=>{this.disable()})),this.eventsDispatcher.on(J,(()=>{this.enable()}))}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!y(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout((()=>{let e;e=1===this.batchingOnChangeQueue.size?this.batchingOnChangeQueue.values().next().value:Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,e),this.batchingOnChangeQueue.clear()}),this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(G,{mutations:e})}},Paste:lt,ReadOnly:class extends Y{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,o=[];Array.from(t.entries()).forEach((([e,t])=>{t.isReadOnlySupported||o.push(e)})),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const t=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const t in this.Editor)this.Editor[t].toggleReadOnly&&this.Editor[t].toggleReadOnly(e);if(t===e)return this.readOnlyEnabled;const o=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(o.blocks),this.readOnlyEnabled}throwCriticalError(){throw new q(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}},RectangleSelection:ct,Renderer:class extends Y{async render(e){return new Promise((t=>{const{Tools:o,BlockManager:n}=this.Editor;if(0===e.length)n.insert();else{const t=e.map((({type:e,data:t,tunes:i,id:r})=>{let s;!1===o.available.has(e)&&(v(`Tool «${e}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),t=this.composeStubDataForTool(e,t,r),e=o.stubTool);try{s=n.composeBlock({id:r,tool:e,data:t,tunes:i})}catch(a){m(`Block «${e}» skipped because of plugins error`,"error",{data:t,error:a}),t=this.composeStubDataForTool(e,t,r),e=o.stubTool,s=n.composeBlock({id:r,tool:e,data:t,tunes:i})}return s}));n.insertMany(t)}window.requestIdleCallback((()=>{t()}),{timeout:2e3})}))}composeStubDataForTool(e,t,o){const{Tools:n}=this.Editor;let i=e;if(n.unavailable.has(e)){const t=n.unavailable.get(e).toolbox;void 0!==t&&void 0!==t[0].title&&(i=t[0].title)}return{savedData:{id:o,type:e,data:t},title:i}}},Saver:class extends Y{async save(){const{BlockManager:e,Tools:t}=this.Editor,o=e.blocks,n=[];try{o.forEach((e=>{n.push(this.getSavedData(e))}));const e=await Promise.all(n),i=await de(e,(e=>t.blockTools.get(e).sanitizeConfig));return this.makeOutput(i)}catch(e){v("Saving failed due to the Error %o","error",e)}}async getSavedData(e){const t=await e.save(),o=t&&await e.validate(t.data);return{...t,isValid:o}}makeOutput(e){const t=[];return e.forEach((({id:e,tool:o,data:n,tunes:i,isValid:r})=>{if(!r)return void m(`Block «${o}» skipped because saved data is invalid`);if(o===this.Editor.Tools.stubTool)return void t.push(n);const s={id:e,type:o,data:n,...!S(i)&&{tunes:i}};t.push(s)})),{time:+new Date,blocks:t,version:"2.29.0"}}},Tools:Bt,UI:class extends Y{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=L((()=>{this.windowResize()}),200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${te.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():window.requestIdleCallback((()=>{this.enableModuleBindings()}),{timeout:2e3})}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:o,ConversionToolbar:n}=this.Editor;return t.opened||o.opened||n.opened||e.toolbox.opened}get someFlipperButtonFocused(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter((([e,t])=>t.flipper instanceof Ae)).some((([e,t])=>t.flipper.hasFocus()))}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:o,ConversionToolbar:n}=this.Editor;t.close(),o.close(),n.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<650}make(){this.nodes.holder=P.getHolder(this.config.holder),this.nodes.wrapper=P.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=P.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(P.get(e))return;const t=P.make("style",null,{id:e,textContent:Lt.toString()});this.config.style&&!S(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),P.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(e=>{this.redactorClicked(e)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(e=>{this.documentTouched(e)}),{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(e=>{this.documentTouched(e)}),{capture:!0,passive:!0}),this.readOnlyMutableListeners.on(document,"keydown",(e=>{this.documentKeydown(e)}),!0),this.readOnlyMutableListeners.on(document,"mousedown",(e=>{this.documentClicked(e)}),!0);const e=L((()=>{this.selectionChanged()}),180);this.readOnlyMutableListeners.on(document,"selectionchange",e,!0),this.readOnlyMutableListeners.on(window,"resize",(()=>{this.resizeDebouncer()}),{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",_((t=>{const o=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(Ye,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))}),20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case s:this.enterPressed(e);break;case i:case u:this.backspacePressed(e);break;case a:this.escapePressed(e);break;default:this.defaultBehaviour(e)}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;void 0===t||null!==o?o||t&&n||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(e)}backspacePressed(e){const{BlockManager:t,BlockSelection:o,Caret:n}=this.Editor;if(o.anyBlockSelected&&!X.isSelectionExists){const i=t.removeSelectedBlocks(),r=t.insertDefaultBlockAtIndex(i,!0);n.setToBlock(r,n.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:o}=this.Editor,n=t.currentBlockIndex>=0;if(o.anyBlockSelected&&!X.isSelectionExists)return o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();if(!this.someToolbarOpened&&n&&"BODY"===e.target.tagName){const e=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(e),this.Editor.Toolbar.moveAndOpen(e)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,o;if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||X.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=null==(t=this.Editor.BlockSettings.nodes.wrapper)?void 0:t.contains(n),r=null==(o=this.Editor.Toolbar.nodes.settingsToggler)?void 0:o.contains(n),s=i||r;if(this.Editor.BlockSettings.opened&&!s){this.Editor.BlockSettings.close();const e=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(e)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(o,n)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!X.isCollapsed)return;const t=e.target,o=e.metaKey||e.ctrlKey;if(P.isAnchor(t)&&o){e.stopImmediatePropagation(),e.stopPropagation();const o=function(e){try{return new URL(e).href}catch{}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e}(t.getAttribute("href"));!function(e){window.open(e,"_blank")}(o)}else this.processBottomZoneClick(e)}processBottomZoneClick(e){const t=this.Editor.BlockManager.getBlockByIndex(-1),o=P.offset(t.holder).bottom,n=e.pageY,{BlockSelection:i}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!i.anyBlockSelected&&o<n){e.stopImmediatePropagation(),e.stopPropagation();const{BlockManager:t,Caret:o,Toolbar:n}=this.Editor;(!t.lastBlock.tool.isDefault||!t.lastBlock.isEmpty)&&t.insertAtEnd(),o.setToTheLastBlock(),n.moveAndOpen(t.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,o=X.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&X.get().removeAllRanges(),!o)return void(X.range||this.Editor.InlineToolbar.close());const n=null===o.closest(`.${te.CSS.content}`);if(n&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),"true"!==o.dataset.inlineToolbar))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o);const i=!0!==n;this.Editor.InlineToolbar.tryToShow(!0,i)}}};class Mt{constructor(e){let t,o;this.moduleInstances={},this.eventsDispatcher=new W,this.isReady=new Promise(((e,n)=>{t=e,o=n})),Promise.resolve().then((async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:n,UI:i,ModificationsObserver:r}=this.moduleInstances;i.checkEmptiness(),r.enable(),this.configuration.autofocus&&n.setToBlock(o.blocks[0],n.positions.START),t()})).catch((e=>{m(`Editor.js is not ready because of ${e}`,"error"),o(e)}))}set configuration(e){var t,o;w(e)?this.config={...e}:this.config={holder:e},R(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=n.VERBOSE),function(e){g.logLevel=e}(this.config.logLevel),R(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;const i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,(S(this.config.data)||!this.config.data.blocks||0===this.config.data.blocks.length)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,null!=(t=this.config.i18n)&&t.messages&&U.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null==(o=this.config.i18n)?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("«holderId» and «holder» param can't assign at the same time.");if(x(t)&&!P.get(t))throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);if(t&&w(t)&&!P.isElement(t))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce(((e,t)=>e.then((async()=>{try{await this.moduleInstances[t].prepare()}catch(e){if(e instanceof q)throw new Error(e.message);m(`Module ${t} was skipped because of %o`,"warn",e)}}))),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(_t).forEach((([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(t){m("[constructModules]",`Module ${e} skipped because`,"error",t)}}))}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const o in this.moduleInstances)o!==e&&(t[o]=this.moduleInstances[o]);return t}}class Ot{static get version(){return"2.29.0"}constructor(e){let t=()=>{};w(e)&&y(e.onReady)&&(t=e.onReady);const o=new Mt(e);this.isReady=o.isReady.then((()=>{this.exportAPI(o),t()}))}exportAPI(e){["configuration"].forEach((t=>{this[t]=e[t]})),this.destroy=()=>{Object.values(e.moduleInstances).forEach((e=>{y(e.destroy)&&e.destroy(),e.listeners.removeAll()})),null==ve||ve.destroy(),ve=null,e=null;for(const e in this)Object.prototype.hasOwnProperty.call(this,e)&&delete this[e];Object.setPrototypeOf(this,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((([t,o])=>{Object.entries(o).forEach((([o,n])=>{this[n]=e.moduleInstances.API.methods[t][o]}))}))}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();const It={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([e,t])=>{if(!t&&e)return e;const o={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return t=t.slice(1).split("&").map((t=>{const[n,i]=t.split("=");return e||"v"!==n?!o[n]||"LL"===i||i.startsWith("RDMM")||i.startsWith("FL")?null:`${o[n]}=${i}`:(e=i,null)})).filter((e=>!!e)),e+"?"+t.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:e=>e.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:e=>e.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:e=>e.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:e=>e.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:e=>e[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:e=>e.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:e=>`${e.join("/")}.js`}};function Nt(e,t,o){var n,i,r,s,a;function l(){var c=Date.now()-s;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,o||(a=e.apply(r,i),r=i=null))}null==t&&(t=100);var c=function(){r=this,i=arguments,s=Date.now();var c=o&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(r,i),r=i=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(r,i),r=i=null,clearTimeout(n),n=null)},c}Nt.debounce=Nt;var Rt=Nt;class Dt{constructor({data:e,api:t,readOnly:o}){this.api=t,this._data={},this.element=null,this.readOnly=o,this.data=e}set data(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:t,source:o,embed:n,width:i,height:r,caption:s=""}=e;this._data={service:t||this.data.service,source:o||this.data.source,embed:n||this.data.embed,width:i||this.data.width,height:r||this.data.height,caption:s||this.data.caption||""};const a=this.element;a&&a.parentNode.replaceChild(this.render(),a)}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const e=document.createElement("div");return this.element=e,e}const{html:e}=Dt.services[this.data.service],t=document.createElement("div"),o=document.createElement("div"),n=document.createElement("template"),i=this.createPreloader();t.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),o.classList.add(this.CSS.input,this.CSS.caption),t.appendChild(i),o.contentEditable=!this.readOnly,o.dataset.placeholder=this.api.i18n.t("Enter a caption"),o.innerHTML=this.data.caption||"",n.innerHTML=e,n.content.firstChild.setAttribute("src",this.data.embed),n.content.firstChild.classList.add(this.CSS.content);const r=this.embedIsReady(t);return t.appendChild(n.content.firstChild),t.appendChild(o),r.then((()=>{t.classList.remove(this.CSS.containerLoading)})),this.element=t,t}createPreloader(){const e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}save(){return this.data}onPaste(e){const{key:t,data:o}=e.detail,{regex:n,embedUrl:i,width:r,height:s,id:a=(e=>e.shift())}=Dt.services[t],l=n.exec(o).slice(1),c=i.replace(/<%= remote_id %>/g,a(l));this.data={service:t,source:o,embed:c,width:r,height:s}}static prepare({config:e={}}){const{services:t={}}=e;let o=Object.entries(It);const n=Object.entries(t).filter((([e,t])=>"boolean"==typeof t&&!0===t)).map((([e])=>e)),i=Object.entries(t).filter((([e,t])=>"object"==typeof t)).filter((([e,t])=>Dt.checkServiceConfig(t))).map((([e,t])=>{const{regex:o,embedUrl:n,html:i,height:r,width:s,id:a}=t;return[e,{regex:o,embedUrl:n,html:i,height:r,width:s,id:a}]}));n.length&&(o=o.filter((([e])=>n.includes(e)))),o=o.concat(i),Dt.services=o.reduce(((e,[t,o])=>t in e?(e[t]=Object.assign({},e[t],o),e):(e[t]=o,e)),{}),Dt.patterns=o.reduce(((e,[t,o])=>(e[t]=o.regex,e)),{})}static checkServiceConfig(e){const{regex:t,embedUrl:o,html:n,height:i,width:r,id:s}=e;let a=t&&t instanceof RegExp&&o&&"string"==typeof o&&n&&"string"==typeof n;return a=a&&(void 0===s||s instanceof Function),a=a&&(void 0===i||Number.isFinite(i)),a=a&&(void 0===r||Number.isFinite(r)),a}static get pasteConfig(){return{patterns:Dt.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let t=null;return new Promise(((o,n)=>{t=new MutationObserver(Rt.debounce(o,450)),t.observe(e,{childList:!0,subtree:!0})})).then((()=>{t.disconnect()}))}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:\"\";background-image:url(\"data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E\");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class jt{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.readOnly=n,this.titlePlaceholder=t.titlePlaceholder||jt.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=t.messagePlaceholder||jt.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:e.title||"",message:e.message||""}}render(){const e=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),o=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return t.dataset.placeholder=this.titlePlaceholder,o.dataset.placeholder=this.messagePlaceholder,e.appendChild(t),e.appendChild(o),e}save(e){const t=e.querySelector(`.${this.CSS.title}`),o=e.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:t.innerHTML,message:o.innerHTML})}_make(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)n[e]=o[e];return n}static get sanitize(){return{title:{},message:{}}}}function Ht(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)n[e]=o[e];return n}function Pt(e){const t=Ht("div");return t.appendChild(e),t.innerHTML}function Ft(e){let t;return e.nodeType!==Node.ELEMENT_NODE?t=e.textContent:(t=e.innerHTML,t=t.replaceAll("<br>","")),0===t.trim().length}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-nested-list{margin:0;padding:0;outline:none;counter-reset:item;list-style:none}.cdx-nested-list__item{line-height:1.6em;display:flex;margin:2px 0}.cdx-nested-list__item [contenteditable]{outline:none}.cdx-nested-list__item-body{flex-grow:2}.cdx-nested-list__item-content,.cdx-nested-list__item-children{flex-basis:100%}.cdx-nested-list__item-content{word-break:break-word;white-space:pre-wrap}.cdx-nested-list__item:before{counter-increment:item;margin-right:5px;white-space:nowrap}.cdx-nested-list--ordered>.cdx-nested-list__item:before{content:counters(item,".") ". "}.cdx-nested-list--unordered>.cdx-nested-list__item:before{content:"•"}.cdx-nested-list__settings{display:flex}.cdx-nested-list__settings .cdx-settings-button{width:50%}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class zt{constructor(){this.savedFakeCaret=void 0}save(){const e=zt.range,t=Ht("span");t.hidden=!0,e.insertNode(t),this.savedFakeCaret=t}restore(){if(!this.savedFakeCaret)return;const e=window.getSelection(),t=new Range;t.setStartAfter(this.savedFakeCaret),t.setEndAfter(this.savedFakeCaret),e.removeAllRanges(),e.addRange(t),setTimeout((()=>{this.savedFakeCaret.remove()}),150)}static get range(){const e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0);let o=t.startContainer;o.nodeType!==Node.ELEMENT_NODE&&(o=o.parentNode);const n=o.closest("[contenteditable]");t.deleteContents();const i=t.cloneRange();return i.selectNodeContents(n),i.setStart(t.endContainer,t.endOffset),i.extractContents()}static focus(e,t=!0){const o=document.createRange(),n=window.getSelection();o.selectNodeContents(e),o.collapse(t),n.removeAllRanges(),n.addRange(o)}static isAtStart(){const e=window.getSelection();if(e.focusOffset>0)return!1;const t=e.focusNode;return zt.getHigherLevelSiblings(t,"left").every((e=>Ft(e)))}static getHigherLevelSiblings(e,t="left"){let o=e;const n=[];for(;o.parentNode&&"true"!==o.parentNode.contentEditable;)o=o.parentNode;const i="left"===t?"previousSibling":"nextSibling";for(;o[i];)o=o[i],n.push(o);return n}}const Ut='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',qt='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';class Wt{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:qt,title:"List"}}constructor({data:e,config:t,api:o,readOnly:n}){this.nodes={wrapper:null},this.api=o,this.readOnly=n,this.config=t,this.defaultListStyle="ordered"===this.config.defaultStyle?"ordered":"unordered";const i={style:this.defaultListStyle,items:[]};this.data=e&&Object.keys(e).length?e:i,this.caret=new zt}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e)}}),!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Ut},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:qt}].map((e=>({name:e.name,icon:e.icon,label:e.label,isActive:this.data.style===e.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=e.name}})))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(e){const t=e.detail.data;this.data=this.pasteHandler(t);const o=this.nodes.wrapper;o&&o.parentNode.replaceChild(this.render(),o)}pasteHandler(e){const{tagName:t}=e;let o,n;switch(t){case"OL":o="ordered",n="ol";break;case"UL":case"LI":o="unordered",n="ul"}const i={style:o,items:[]},r=e=>Array.from(e.querySelectorAll(":scope > li")).map((e=>{var t;const o=e.querySelector(`:scope > ${n}`),i=o?r(o):[];return{content:(null==(t=null==e?void 0:e.firstChild)?void 0:t.textContent)||"",items:i}}));return i.items=r(e),i}appendItems(e,t){e.forEach((e=>{const o=this.createItem(e.content,e.items);t.appendChild(o)}))}createItem(e,t=[]){const o=Ht("li",this.CSS.item),n=Ht("div",this.CSS.itemBody),i=Ht("div",this.CSS.itemContent,{innerHTML:e,contentEditable:!this.readOnly});return n.appendChild(i),o.appendChild(n),t&&t.length>0&&this.addChildrenList(o,t),o}save(){const e=t=>Array.from(t.querySelectorAll(`:scope > .${this.CSS.item}`)).map((t=>{const o=t.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(t),items:o?e(o):[]}}));return{style:this.data.style,items:e(this.nodes.wrapper)}}addChildrenList(e,t){const o=e.querySelector(`.${this.CSS.itemBody}`),n=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(t,n),o.appendChild(n)}makeListWrapper(e=this.listStyle,t=[]){const o="ordered"===e?"ol":"ul",n="ordered"===e?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return t.push(n),Ht(o,[this.CSS.wrapper,...t])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){const t=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));t.push(this.nodes.wrapper),t.forEach((t=>{t.classList.toggle(this.CSS.wrapperUnordered,"unordered"===e),t.classList.toggle(this.CSS.wrapperOrdered,"ordered"===e)})),this.data.style=e}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}enterPressed(e){const t=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing)return;const o=0===this.getItemContent(t).trim().length,n=t.parentNode===this.nodes.wrapper,i=null===t.nextElementSibling;if(n&&i&&o)return void this.getOutOfList();if(i&&o)return void this.unshiftItem();const r=Pt(zt.extractFragmentFromCaretPositionTillTheEnd()),s=t.querySelector(`.${this.CSS.itemChildren}`),a=this.createItem(r,void 0);s&&Array.from(s.querySelectorAll(`.${this.CSS.item}`)).length>0?s.prepend(a):t.after(a),this.focusItem(a)}unshiftItem(){const e=this.currentItem,t=e.parentNode.closest(`.${this.CSS.item}`);if(!t)return;this.caret.save(),t.after(e),this.caret.restore();const o=t.querySelector(`.${this.CSS.itemChildren}`);0===o.children.length&&o.remove()}getItemContent(e){const t=e.querySelector(`.${this.CSS.itemContent}`);return Ft(t)?"":t.innerHTML}focusItem(e,t=!0){const o=e.querySelector(`.${this.CSS.itemContent}`);zt.focus(o,t)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(e){if(!zt.isAtStart())return;e.preventDefault();const t=this.currentItem,o=t.previousSibling,n=t.parentNode.closest(`.${this.CSS.item}`);if(!o&&!n)return;let i;if(e.stopPropagation(),o){const e=o.querySelectorAll(`.${this.CSS.item}`);i=Array.from(e).pop()||o}else i=n;const r=Pt(zt.extractFragmentFromCaretPositionTillTheEnd()),s=i.querySelector(`.${this.CSS.itemContent}`);zt.focus(s,!1),this.caret.save(),s.insertAdjacentHTML("beforeend",r);let a=t.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);a=Array.from(a),a=a.filter((e=>e.parentNode.closest(`.${this.CSS.item}`)===t)),a.reverse().forEach((e=>{o?i.after(e):t.after(e)})),t.remove(),this.caret.restore()}addTab(e){e.stopPropagation(),e.preventDefault();const t=this.currentItem,o=t.previousSibling;if(!o)return;const n=o.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),n)n.appendChild(t);else{const e=this.makeListWrapper(void 0,[this.CSS.itemChildren]),n=o.querySelector(`.${this.CSS.itemBody}`);e.appendChild(t),n.appendChild(e)}this.caret.restore()}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.unshiftItem()}static joinRecursive(e){return e.items.map((e=>`${e.content} ${Wt.joinRecursive(e)}`)).join("")}static get conversionConfig(){return{export:e=>Wt.joinRecursive(e),import:e=>({items:[{content:e,items:[]}],style:"unordered"})}}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.cdx-checklist{gap:6px;display:flex;flex-direction:column}.cdx-checklist__item{display:flex;box-sizing:content-box;align-items:flex-start}.cdx-checklist__item-text{outline:none;flex-grow:1;line-height:1.57em}.cdx-checklist__item-checkbox{width:22px;height:22px;display:flex;align-items:center;margin-right:8px;margin-top:calc(.785em - 11px);cursor:pointer}.cdx-checklist__item-checkbox svg{opacity:0;height:20px;width:20px;position:absolute;left:-1px;top:-1px;max-height:20px}@media (hover: hover){.cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg{opacity:1}}.cdx-checklist__item-checkbox-check{cursor:pointer;display:inline-block;flex-shrink:0;position:relative;width:20px;height:20px;box-sizing:border-box;margin-left:0;border-radius:5px;border:1px solid #C9C9C9;background:#fff}.cdx-checklist__item-checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:#369fff;visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}@media (hover: hover){.cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check{background:#0059AB;border-color:#0059ab}}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check{background:#369FFF;border-color:#369fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg{opacity:1}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path{stroke:#fff}.cdx-checklist__item--checked .cdx-checklist__item-checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();function $t(){const e=document.activeElement,t=window.getSelection().getRangeAt(0),o=t.cloneRange();return o.selectNodeContents(e),o.setStart(t.endContainer,t.endOffset),o.extractContents()}function Vt(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)n[e]=o[e];return n}function Yt(e){return e.innerHTML.replace("<br>"," ").trim()}function Xt(e,t=!1,o=void 0){const n=document.createRange(),i=window.getSelection();n.selectNodeContents(e),void 0!==o&&(n.setStart(e,o),n.setEnd(e,o)),n.collapse(t),i.removeAllRanges(),i.addRange(n)}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});class Gt{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Checklist"}}static get conversionConfig(){return{export:e=>e.items.map((({text:e})=>e)).join(". "),import:e=>({items:[{text:e,checked:!1}]})}}constructor({data:e,config:t,api:o,readOnly:n}){this._elements={wrapper:null,items:[]},this.readOnly=n,this.api=o,this.data=e||{}}render(){return this._elements.wrapper=Vt("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach((e=>{const t=this.createChecklistItem(e);this._elements.wrapper.appendChild(t)})),this.readOnly||(this._elements.wrapper.addEventListener("keydown",(e=>{const[t,o]=[13,8];switch(e.keyCode){case t:this.enterPressed(e);break;case o:this.backspace(e)}}),!1),this._elements.wrapper.addEventListener("click",(e=>{this.toggleCheckbox(e)}))),this._elements.wrapper}save(){let e=this.items.map((e=>({text:Yt(this.getItemInput(e)),checked:e.classList.contains(this.CSS.itemChecked)})));return e=e.filter((e=>0!==e.text.trim().length)),{items:e}}validate(e){return!!e.items.length}toggleCheckbox(e){const t=e.target.closest(`.${this.CSS.item}`),o=t.querySelector(`.${this.CSS.checkboxContainer}`);o.contains(e.target)&&(t.classList.toggle(this.CSS.itemChecked),o.classList.add(this.CSS.noHover),o.addEventListener("mouseleave",(()=>this.removeSpecialHoverBehavior(o)),{once:!0}))}createChecklistItem(e={}){const t=Vt("div",this.CSS.item),o=Vt("span",this.CSS.checkbox),n=Vt("div",this.CSS.checkboxContainer),i=Vt("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&t.classList.add(this.CSS.itemChecked),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',n.appendChild(o),t.appendChild(n),t.appendChild(i),t}enterPressed(e){e.preventDefault();const t=this.items,o=document.activeElement.closest(`.${this.CSS.item}`);if(t.indexOf(o)===t.length-1&&0===Yt(this.getItemInput(o)).length){const e=this.api.blocks.getCurrentBlockIndex();return o.remove(),this.api.blocks.insert(),void this.api.caret.setToBlock(e+1)}const n=function(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}($t()),i=this.createChecklistItem({text:n,checked:!1});this._elements.wrapper.insertBefore(i,o.nextSibling),Xt(this.getItemInput(i),!0)}backspace(e){const t=e.target.closest(`.${this.CSS.item}`),o=this.items.indexOf(t),n=this.items[o-1];if(!n||0!==window.getSelection().focusOffset)return;e.preventDefault();const i=$t(),r=this.getItemInput(n),s=r.childNodes.length;r.appendChild(i),Xt(r,void 0,s),t.remove()}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}get items(){return Array.from(this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`))}removeSpecialHoverBehavior(e){e.classList.remove(this.CSS.noHover)}getItemInput(e){return e.querySelector(`.${this.CSS.textField}`)}}var Kt=o(52116),Zt=o.n(Kt);function Jt(e,t,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e]);return n}function Qt(e){const t=e.getBoundingClientRect();return{y1:Math.floor(t.top+window.pageYOffset),x1:Math.floor(t.left+window.pageXOffset),x2:Math.floor(t.right+window.pageXOffset),y2:Math.floor(t.bottom+window.pageYOffset)}}function eo(e,t){const o=Qt(e),n=Qt(t);return{fromTopBorder:n.y1-o.y1,fromLeftBorder:n.x1-o.x1,fromRightBorder:o.x2-n.x2,fromBottomBorder:o.y2-n.y2}}function to(e,t){return t.parentNode.insertBefore(e,t)}function oo(e,t=!0){const o=document.createRange(),n=window.getSelection();o.selectNodeContents(e),o.collapse(t),n.removeAllRanges(),n.addRange(o)}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size)}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border)}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border)}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border)}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translate(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;padding:6px;display:none;will-change:opacity,transform}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm)}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:#0000001a}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class no{constructor({items:e}){this.items=e,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=Jt("div",no.CSS.popover),this.items.forEach(((e,t)=>{const o=Jt("div",no.CSS.item),n=Jt("div",no.CSS.itemIcon,{innerHTML:e.icon}),i=Jt("div",no.CSS.itemLabel,{textContent:e.label});o.dataset.index=t,o.appendChild(n),o.appendChild(i),this.wrapper.appendChild(o),this.itemEls.push(o)})),this.wrapper.addEventListener("click",(e=>{this.popoverClicked(e)})),this.wrapper}popoverClicked(e){const t=e.target.closest(`.${no.CSS.item}`);if(!t)return;const o=t.dataset.index,n=this.items[o];!n.confirmationRequired||this.hasConfirmationState(t)?n.onClick():this.setConfirmationState(t)}setConfirmationState(e){e.classList.add(no.CSS.itemConfirmState)}clearConfirmationState(e){e.classList.remove(no.CSS.itemConfirmState)}hasConfirmationState(e){return e.classList.contains(no.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(no.CSS.popoverOpened)}open(){this.items.forEach(((e,t)=>{"function"==typeof e.hideIf&&this.itemEls[t].classList.toggle(no.CSS.itemHidden,e.hideIf())})),this.wrapper.classList.add(no.CSS.popoverOpened)}close(){this.wrapper.classList.remove(no.CSS.popoverOpened),this.itemEls.forEach((e=>{this.clearConfirmationState(e)}))}}const io='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',ro='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>';class so{constructor({api:e,items:t,onOpen:o,onClose:n,cssModifier:i=""}){this.api=e,this.items=t,this.onOpen=o,this.onClose=n,this.cssModifier=i,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){const e=Jt("div",[so.CSS.toolbox,this.cssModifier?`${so.CSS.toolbox}--${this.cssModifier}`:""]);e.dataset.mutationFree="true";const t=this.createPopover(),o=this.createToggler();return e.appendChild(o),e.appendChild(t),e}createToggler(){const e=Jt("div",so.CSS.toggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.41 9.66H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 9.66H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.31 14.36H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 14.36H14.59"/></svg>'});return e.addEventListener("click",(()=>{this.togglerClicked()})),e}createPopover(){return this.popover=new no({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(e){const t=e();Object.entries(t).forEach((([e,t])=>{this.wrapper.style[e]=t})),this.wrapper.classList.add(so.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(so.CSS.toolboxShowed)}}const ao="tc-wrap",lo="tc-wrap--readonly",co="tc-table",ho="tc-row",uo="tc-table--heading",po="tc-row--selected",fo="tc-cell",go="tc-cell--selected",mo="tc-add-row",vo="tc-add-column";class bo{constructor(e,t,o,n){this.readOnly=e,this.api=t,this.data=o,this.config=n,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=e=>{const t=null!==e.target.closest(`.${co}`),o=null===e.target.closest(`.${ao}`);(t||o)&&this.hideToolboxes();const n=e.target.closest(`.${mo}`),i=e.target.closest(`.${vo}`);n&&n.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):i&&i.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",function(e,t){let o=0;return function(...n){const i=(new Date).getTime();if(!(i-o<e))return o=i,t(...n)}}(150,(e=>this.onMouseMoveInTable(e))),{passive:!0}),this.table.onkeypress=e=>this.onKeyPressListener(e),this.table.addEventListener("keydown",(e=>this.onKeyDownListener(e))),this.table.addEventListener("focusin",(e=>this.focusInTableListener(e)))}createColumnToolbox(){return new so({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:io,hideIf:()=>1===this.numberOfColumns,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new so({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:io,hideIf:()=>1===this.numberOfRows,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(e,t){return this.table.querySelectorAll(`.${ho}:nth-child(${e}) .${fo}`)[t-1]}getRow(e){return this.table.querySelector(`.${ho}:nth-child(${e})`)}getRowByCell(e){return e.parentElement}getRowFirstCell(e){return e.querySelector(`.${fo}:first-child`)}setCellContent(e,t,o){this.getCell(e,t).innerHTML=o}addColumn(e=-1,t=!1){let o=this.numberOfColumns;for(let n=1;n<=this.numberOfRows;n++){let i;const r=this.createCell();if(e>0&&e<=o?(i=this.getCell(n,e),to(r,i)):i=this.getRow(n).appendChild(r),1===n){const i=this.getCell(n,e>0?e:o+1);i&&t&&oo(i)}}this.addHeadingAttrToFirstRow()}addRow(e=-1,t=!1){let o,n=Jt("div",ho);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let i=this.numberOfColumns;if(e>0&&e<=this.numberOfRows){o=to(n,this.getRow(e))}else o=this.table.appendChild(n);this.fillRow(o,i),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();const r=this.getRowFirstCell(o);return r&&t&&oo(r),o}deleteColumn(e){for(let t=1;t<=this.numberOfRows;t++){const o=this.getCell(t,e);if(!o)return;o.remove()}}deleteRow(e){this.getRow(e).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=Jt("div",ao),this.table=Jt("div",co),this.readOnly&&this.wrapper.classList.add(lo),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){const e=Jt("div",vo,{innerHTML:ro}),t=Jt("div",mo,{innerHTML:ro});this.wrapper.appendChild(e),this.wrapper.appendChild(t)}}computeInitialSize(){const e=this.data&&this.data.content,t=Array.isArray(e),o=!!t&&e.length,n=t?e.length:void 0,i=o?e[0].length:void 0,r=Number.parseInt(this.config&&this.config.rows),s=Number.parseInt(this.config&&this.config.cols),a=!isNaN(r)&&r>0?r:void 0,l=!isNaN(s)&&s>0?s:void 0;return{rows:n||a||2,cols:i||l||2}}resize(){const{rows:e,cols:t}=this.computeInitialSize();for(let t=0;t<e;t++)this.addRow();for(let e=0;e<t;e++)this.addColumn()}fill(){const e=this.data;if(e&&e.content)for(let t=0;t<e.content.length;t++)for(let o=0;o<e.content[t].length;o++)this.setCellContent(t+1,o+1,e.content[t][o])}fillRow(e,t){for(let o=1;o<=t;o++){const t=this.createCell();e.appendChild(t)}}createCell(){return Jt("div",fo,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${ho}:first-child .${fo}`).length:0}get isColumnMenuShowing(){return 0!==this.selectedColumn}get isRowMenuShowing(){return 0!==this.selectedRow}onMouseMoveInTable(e){const{row:t,column:o}=this.getHoveredCell(e);this.hoveredColumn=o,this.hoveredRow=t,this.updateToolboxesPosition()}onKeyPressListener(e){if("Enter"===e.key){if(e.shiftKey)return!0;this.moveCursorToNextRow()}return"Enter"!==e.key}onKeyDownListener(e){"Tab"===e.key&&e.stopPropagation()}focusInTableListener(e){const t=e.target,o=this.getRowByCell(t);this.focusedCell={row:Array.from(this.table.querySelectorAll(`.${ho}`)).indexOf(o)+1,column:Array.from(o.querySelectorAll(`.${fo}`)).indexOf(t)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){const{row:e,column:t}=this.focusedCell;return this.getCell(e,t)}updateToolboxesPosition(e=this.hoveredRow,t=this.hoveredColumn){this.isColumnMenuShowing||t>0&&t<=this.numberOfColumns&&this.toolboxColumn.show((()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${t} - 1) * 2))`}))),this.isRowMenuShowing||e>0&&e<=this.numberOfRows&&this.toolboxRow.show((()=>{const t=this.getRow(e),{fromTopBorder:o}=eo(this.table,t),{height:n}=t.getBoundingClientRect();return{top:`${Math.ceil(o+n/2)}px`}}))}setHeadingsSetting(e){this.tunes.withHeadings=e,e?(this.table.classList.add(uo),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(uo),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let e=1;e<=this.numberOfColumns;e++){let t=this.getCell(1,e);t&&t.removeAttribute("heading")}}selectRow(e){const t=this.getRow(e);t&&(this.selectedRow=e,t.classList.add(po))}unselectRow(){if(this.selectedRow<=0)return;const e=this.table.querySelector(`.${po}`);e&&e.classList.remove(po),this.selectedRow=0}selectColumn(e){for(let t=1;t<=this.numberOfRows;t++){const o=this.getCell(t,e);o&&o.classList.add(go)}this.selectedColumn=e}unselectColumn(){if(this.selectedColumn<=0)return;let e=this.table.querySelectorAll(`.${go}`);Array.from(e).forEach((e=>{e.classList.remove(go)})),this.selectedColumn=0}getHoveredCell(e){let t=this.hoveredRow,o=this.hoveredColumn;const{width:n,height:i,x:r,y:s}=function(e,t){const o=e.getBoundingClientRect(),{width:n,height:i,x:r,y:s}=o,{clientX:a,clientY:l}=t;return{width:n,height:i,x:a-r,y:l-s}}(this.table,e);return r>=0&&(o=this.binSearch(this.numberOfColumns,(e=>this.getCell(1,e)),(({fromLeftBorder:e})=>r<e),(({fromRightBorder:e})=>r>n-e))),s>=0&&(t=this.binSearch(this.numberOfRows,(e=>this.getCell(e,1)),(({fromTopBorder:e})=>s<e),(({fromBottomBorder:e})=>s>i-e))),{row:t||this.hoveredRow,column:o||this.hoveredColumn}}binSearch(e,t,o,n){let i,r=0,s=e+1,a=0;for(;r<s-1&&a<10;){i=Math.ceil((r+s)/2);const e=t(i),l=eo(this.table,e);if(o(l))s=i;else{if(!n(l))break;r=i}a++}return i}getData(){const e=[];for(let t=1;t<=this.numberOfRows;t++){const o=this.table.querySelector(`.${ho}:nth-child(${t})`),n=Array.from(o.querySelectorAll(`.${fo}`));n.every((e=>!e.textContent.trim()))||e.push(n.map((e=>e.innerHTML)))}return e}destroy(){document.removeEventListener("click",this.documentClicked)}}class yo{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.readOnly=n,this.config=t,this.data={withHeadings:this.getConfig("withHeadings",!1,e),content:e&&e.content?e.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new bo(this.readOnly,this.api,this.data,this.config),this.container=Jt("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){const e=this.table.getData();return{withHeadings:this.data.withHeadings,content:e}}destroy(){this.table.destroy()}getConfig(e,t=void 0,o=void 0){const n=this.data||o;return n?n[e]?n[e]:t:this.config&&this.config[e]?this.config[e]:t}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(e){const t=e.detail.data,o=t.querySelector(":scope > thead, tr:first-of-type th"),n=Array.from(t.querySelectorAll("tr")).map((e=>Array.from(e.querySelectorAll("th, td")).map((e=>e.innerHTML))));this.data={withHeadings:null!==o,content:n},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class wo{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,wo.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(wo.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){this.api.selection.expandToTag(e);let t=window.getSelection(),o=t.getRangeAt(0),n=o.extractContents();e.parentNode.removeChild(e),o.insertNode(n),t.removeAllRanges(),t.addRange(o)}checkState(){const e=this.api.selection.findParentTag(this.tag,wo.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'}static get sanitize(){return{mark:{class:wo.CSS}}}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class xo{static get CSS(){return"inline-code"}constructor({api:e}){this.api=e,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let t=this.api.selection.findParentTag(this.tag,xo.CSS);t?this.unwrap(t):this.wrap(e)}wrap(e){let t=document.createElement(this.tag);t.classList.add(xo.CSS),t.appendChild(e.extractContents()),e.insertNode(t),this.api.selection.expandToTag(t)}unwrap(e){this.api.selection.expandToTag(e);let t=window.getSelection(),o=t.getRangeAt(0),n=o.extractContents();e.parentNode.removeChild(e),o.insertNode(n),t.removeAllRanges(),t.addRange(o)}checkState(){const e=this.api.selection.findParentTag(this.tag,xo.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>'}static get sanitize(){return{code:{class:xo.CSS}}}}var ko=o(59536),Co=o.n(ko),So=o(9836),Eo=o.n(So);!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();class To{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return To.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} — ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}constructor({data:e,config:t,api:o,readOnly:n}){const{ALIGNMENTS:i,DEFAULT_ALIGNMENT:r}=To;this.api=o,this.readOnly=n,this.quotePlaceholder=t.quotePlaceholder||To.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=t.captionPlaceholder||To.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(i).includes(e.alignment)&&e.alignment||t.defaultAlignment||r}}render(){const e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),o=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,o.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(o),e}save(e){const t=e.querySelector(`.${this.CSS.text}`),o=e.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:t.innerHTML,caption:o.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=e=>e[0].toUpperCase()+e.substr(1);return this.settings.map((t=>({icon:t.icon,label:this.api.i18n.t(`Align ${e(t.name)}`),onActivate:()=>this._toggleTune(t.name),isActive:this.data.alignment===t.name,closeOnActivate:!0})))}_toggleTune(e){this.data.alignment=e}_make(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)n[e]=o[e];return n}}class Ao{constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.readOnly=n,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}normalizeData(e){const t={};return"object"!=typeof e&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}render(){return this._element}renderSettings(){return this.levels.map((e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number})))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){const t={text:this.data.text+e.text,level:this.data.level};this.data=t}validate(e){return""!==e.text.trim()}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),void 0!==e.text&&(this._element.innerHTML=this._data.text||""),void 0!==e.level&&this._element.parentNode){const e=this.getTag();e.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(e,this._element)}}getTag(){const e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find((e=>e.number===this._data.level));return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){const e=this.levels.find((e=>e.number===this._settings.defaultLevel));if(e)return e;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[0]}get levels(){const e=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?e.filter((e=>this._settings.levels.includes(e.number))):e}onPaste(e){const t=e.detail.data;let o=this.defaultLevel.number;switch(t.tagName){case"H1":o=1;break;case"H2":o=2;break;case"H3":o=3;break;case"H4":o=4;break;case"H5":o=5;break;case"H6":o=6}this._settings.levels&&(o=this._settings.levels.reduce(((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e))),this.data={level:o,text:t.innerHTML}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}class Bo{static get isReadOnlySupported(){return!0}constructor({data:e,config:t,api:o,readOnly:n}){this.api=o,this.config=t,this.readOnly=n,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph",alignment:{left:"ce-paragraph--left",center:"ce-paragraph--center",right:"ce-paragraph--right",justify:"ce-paragraph--justify"},shift:{indent:"ce-paragraph--indent",alinea:"ce-paragraph--alinea"}},this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.defaultAlignment="left",this.alignmentSettings=[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 23h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m10 45h28c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 23c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m46 45c1.104 0 2-.896 2-2s-.896-2-2-2h-28c-1.104 0-2 .896-2 2s.896 2 2 2z"/></svg>'},{name:"right",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 19h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"/><path d="m54 41h-28c-1.104 0-2 .896-2 2s.896 2 2 2h28c1.104 0 2-.896 2-2s-.896-2-2-2z"/></svg>'},{name:"justify",icon:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 64 64" viewBox="0 0 64 64" width="20" height="20"><path d="m54 8h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="m54 52h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.867 19 L 10.914 19 C 9.26 19 7.918 19.896 7.918 21 C 7.918 22.104 9.26 23 10.914 23 L 52.867 23 C 54.522 23 55.863 22.104 55.863 21 C 55.863 19.896 54.522 19 52.867 19 Z" style=""></path><path d="m54 30h-44c-1.104 0-2 .896-2 2s.896 2 2 2h44c1.104 0 2-.896 2-2s-.896-2-2-2z"></path><path d="M 52.779 41 L 11.113 41 C 9.469 41 8.136 41.896 8.136 43 C 8.136 44.104 9.469 45 11.113 45 L 52.779 45 C 54.421 45 55.754 44.104 55.754 43 C 55.754 41.896 54.421 41 52.779 41 Z" style=""></path></svg>'}],this.tabSpace=8,this.maxShift=5,this.shiftSettings=[{name:"indent-up",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.666667 26.666667" width="20" height="20" class="shift-stroke"><path d="M 24.309914,3.073293 H 12.501297 c -0.296289,0 -0.536755,0.3942958 -0.536755,0.8801245 0,0.4858287 0.240466,0.8801245 0.536755,0.8801245 h 11.808617 c 0.296289,0 0.536755,-0.3942958 0.536755,-0.8801245 0,-0.4858287 -0.240466,-0.8801245 -0.536755,-0.8801245 z" /><path d="M 10.636897,23.510353 V 3.9288249 c 0,-0.4913183 -0.394296,-0.8900692 -0.8801248,-0.8900692 -0.485829,0 -0.8801248,0.3987509 -0.8801248,0.8900692 V 23.510353 c 0,0.491318 0.3942958,0.890069 0.8801248,0.890069 0.4858288,0 0.8801248,-0.398751 0.8801248,-0.890069 z" /><path d="M 24.309914,22.436032 H 12.501297 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880125 0,0.485829 0.240466,0.880124 0.536755,0.880124 h 11.808617 c 0.296289,0 0.536755,-0.394295 0.536755,-0.880124 0,-0.485829 -0.240466,-0.880125 -0.536755,-0.880125 z" /><path d="m 12.501297,9.6742265 h 7.514575 c 0.296288,0 0.536755,-0.394296 0.536755,-0.880124 0,-0.485829 -0.240467,-0.880125 -0.536755,-0.880125 h -7.514575 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880125 0,0.485828 0.240466,0.880124 0.536755,0.880124 z" /><path d="m 1.742668,14.487329 h 5.249797 c 0.2170704,0 0.3932436,-0.394295 0.3932436,-0.880124 0,-0.485829 -0.1761732,-0.880125 -0.3932436,-0.880125 H 1.7537819 c -0.2170704,0 -0.6599762,0.394296 -0.6599762,0.880125 0,0.485829 0.4317919,0.880124 0.6488623,0.880124 z" /><path d="M 24.309914,12.754663 H 12.501297 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880124 0,0.485829 0.240466,0.880125 0.536755,0.880125 h 11.808617 c 0.296289,0 0.536755,-0.394296 0.536755,-0.880125 0,-0.485828 -0.240466,-0.880124 -0.536755,-0.880124 z" /><path d="m 12.501297,19.355597 h 7.514575 c 0.296288,0 0.536755,-0.394296 0.536755,-0.880125 0,-0.485828 -0.240467,-0.880124 -0.536755,-0.880124 h -7.514575 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880124 0,0.485829 0.240466,0.880125 0.536755,0.880125 z" /><path d="m 4.1998042,11.733053 2.8369623,2.576236 c 0.078376,0.07116 0.5109096,0.0056 0.7857074,-0.309546 0.2753315,-0.315742 0.1134559,-0.780209 -0.033097,-0.920818 l -2.5765632,-2.47205 c -0.076386,-0.07329 -0.5213439,-0.01511 -0.7976412,0.298709 -0.2762979,0.313816 -0.2937367,0.756304 -0.2153686,0.82747 z" /><path d="m 4.1938728,15.377581 2.8369621,-2.576237 c 0.078376,-0.07116 0.5094095,-0.0043 0.7857074,0.309547 0.2762909,0.313822 0.1231884,0.885425 0.045188,0.956991 L 5.206882,16.503758 C 5.128881,16.575326 4.6855385,16.518866 4.4092407,16.205049 4.132943,15.891233 4.1155043,15.448745 4.1938722,15.37758 Z" /></svg>'},{name:"indent-down",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.666667 26.666667" width="20" height="20" class="shift-stroke"><path d="M 24.309914,3.073293 H 12.501297 c -0.296289,0 -0.536755,0.3942958 -0.536755,0.8801245 0,0.4858287 0.240466,0.8801245 0.536755,0.8801245 h 11.808617 c 0.296289,0 0.536755,-0.3942958 0.536755,-0.8801245 0,-0.4858287 -0.240466,-0.8801245 -0.536755,-0.8801245 z" /><path d="M 10.636897,23.510353 V 3.9288249 c 0,-0.4913183 -0.394296,-0.8900692 -0.8801248,-0.8900692 -0.485829,0 -0.8801248,0.3987509 -0.8801248,0.8900692 V 23.510353 c 0,0.491318 0.3942958,0.890069 0.8801248,0.890069 0.4858288,0 0.8801248,-0.398751 0.8801248,-0.890069 z" /><path d="M 24.309914,22.436032 H 12.501297 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880125 0,0.485829 0.240466,0.880124 0.536755,0.880124 h 11.808617 c 0.296289,0 0.536755,-0.394295 0.536755,-0.880124 0,-0.485829 -0.240466,-0.880125 -0.536755,-0.880125 z" /><path d="m 12.501297,9.6742265 h 7.514575 c 0.296288,0 0.536755,-0.394296 0.536755,-0.880124 0,-0.485829 -0.240467,-0.880125 -0.536755,-0.880125 h -7.514575 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880125 0,0.485828 0.240466,0.880124 0.536755,0.880124 z" /><path d="M 7.326022,14.487329 H 2.076225 c -0.2170704,0 -0.3932436,-0.394295 -0.3932436,-0.880124 0,-0.485829 0.1761732,-0.880125 0.3932436,-0.880125 h 5.2386831 c 0.2170704,0 0.6599762,0.394296 0.6599762,0.880125 0,0.485829 -0.4317919,0.880124 -0.6488623,0.880124 z" /><path d="M 24.309914,12.754663 H 12.501297 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880124 0,0.485829 0.240466,0.880125 0.536755,0.880125 h 11.808617 c 0.296289,0 0.536755,-0.394296 0.536755,-0.880125 0,-0.485828 -0.240466,-0.880124 -0.536755,-0.880124 z" /><path d="m 12.501297,19.355597 h 7.514575 c 0.296288,0 0.536755,-0.394296 0.536755,-0.880125 0,-0.485828 -0.240467,-0.880124 -0.536755,-0.880124 h -7.514575 c -0.296289,0 -0.536755,0.394296 -0.536755,0.880124 0,0.485829 0.240466,0.880125 0.536755,0.880125 z" /><path d="m 4.8688858,11.733053 -2.8369623,2.576236 c -0.078376,0.07116 -0.5109096,0.0056 -0.7857074,-0.309546 -0.27533153,-0.315742 -0.1134559,-0.780209 0.033097,-0.920818 l 2.5765632,-2.47205 c 0.076386,-0.07329 0.5213439,-0.01511 0.7976412,0.298709 0.2762979,0.313816 0.2937367,0.756304 0.2153686,0.82747 z" /><path d="M 4.8748172,15.377581 2.0378551,12.801344 c -0.078376,-0.07116 -0.5094095,-0.0043 -0.7857074,0.309547 -0.27629093,0.313822 -0.1231884,0.885425 -0.045188,0.956991 l 2.6548483,2.435876 c 0.078001,0.07157 0.5213435,0.01511 0.7976413,-0.298709 0.2762977,-0.313816 0.2937364,-0.756304 0.2153685,-0.827469 z" /></svg>'},{name:"alinea-up",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.666667 26.666667" width="20" height="20" class="shift-stroke"><path d="M 24.309914,3.073293 H 12.501297 c -0.296289,0 -0.536755,0.3942958 -0.536755,0.8801245 0,0.4858287 0.240466,0.8801245 0.536755,0.8801245 h 11.808617 c 0.296289,0 0.536755,-0.3942958 0.536755,-0.8801245 0,-0.4858287 -0.240466,-0.8801245 -0.536755,-0.8801245 z" /><path d="M 24.184985,22.436032 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880125 0,0.485829 0.2964341,0.880124 0.661684,0.880124 H 24.184985 c 0.36525,0 0.661684,-0.394295 0.661684,-0.880124 0,-0.485829 -0.296434,-0.880125 -0.661684,-0.880125 z" /><path d="M 9.6279276,9.6742265 H 18.89151 c 0.365249,0 0.661684,-0.394296 0.661684,-0.880124 0,-0.485829 -0.296435,-0.880125 -0.661684,-0.880125 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880125 0,0.485828 0.2964341,0.880124 0.661684,0.880124 z" /><path d="m 2.1654337,5.1336377 h 5.249797 c 0.2170704,0 0.3932436,-0.394295 0.3932436,-0.880124 0,-0.485829 -0.1761732,-0.880125 -0.3932436,-0.880125 H 2.1765476 c -0.2170704,0 -0.6599762,0.394296 -0.6599762,0.880125 0,0.485829 0.4317919,0.880124 0.6488623,0.880124 z" /><path d="M 24.184985,12.754663 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880124 0,0.485829 0.2964341,0.880125 0.661684,0.880125 H 24.184985 c 0.36525,0 0.661684,-0.394296 0.661684,-0.880125 0,-0.485828 -0.296434,-0.880124 -0.661684,-0.880124 z" /><path d="M 9.6279276,19.355597 H 18.89151 c 0.365249,0 0.661684,-0.394296 0.661684,-0.880125 0,-0.485828 -0.296435,-0.880124 -0.661684,-0.880124 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880124 0,0.485829 0.2964341,0.880125 0.661684,0.880125 z" /><path d="m 4.6225699,2.3793617 2.8369623,2.576236 c 0.078376,0.07116 0.5109096,0.0056 0.7857074,-0.309546 0.2753315,-0.315742 0.1134559,-0.780209 -0.033097,-0.920818 l -2.5765632,-2.47205 c -0.076386,-0.07329 -0.5213439,-0.01511 -0.7976412,0.298709 -0.2762979,0.313816 -0.2937367,0.756304 -0.2153686,0.82747 z" /><path d="m 4.6166385,6.0238897 2.8369621,-2.576237 c 0.078376,-0.07116 0.5094095,-0.0043 0.7857074,0.309547 0.2762909,0.313822 0.1231884,0.885425 0.045188,0.956991 L 5.6296477,7.1500667 C 5.5516467,7.2216367 5.1083042,7.1651767 4.8320064,6.8513577 4.5557087,6.5375417 4.53827,6.0950537 4.6166379,6.0238887 Z" /><path d="m 10.743066,5.3290595 -0.0071,-2.4655286 C 10.726366,2.5352572 10.34877,2.3839571 9.8629409,2.3839571 c -0.485829,0 -0.8801248,0.133137 -0.8801248,0.4970206 v 2.4749664 c 0,0.3028202 0.3942958,0.4792166 0.8801248,0.4792166 0.4858291,0 0.8806341,-0.2043544 0.8801251,-0.5061012 z" /></svg>'},{name:"alinea-down",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.666667 26.666667" width="20" height="20" class="shift-stroke"><path d="M 24.309914,3.073293 H 12.501297 c -0.296289,0 -0.536755,0.3942958 -0.536755,0.8801245 0,0.4858287 0.240466,0.8801245 0.536755,0.8801245 h 11.808617 c 0.296289,0 0.536755,-0.3942958 0.536755,-0.8801245 0,-0.4858287 -0.240466,-0.8801245 -0.536755,-0.8801245 z" /><path d="m 10.636897,5.378649 -0.0071,-2.4655286 c -0.0096,-0.3282737 -0.387196,-0.4795738 -0.8730248,-0.4795738 -0.485829,0 -0.8801248,0.133137 -0.8801248,0.4970206 v 2.4749664 c 0,0.3028202 0.3942958,0.4792166 0.8801248,0.4792166 0.4858288,0 0.8806338,-0.2043544 0.8801248,-0.5061012 z" /><path d="M 24.184985,22.436032 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880125 0,0.485829 0.2964341,0.880124 0.661684,0.880124 H 24.184985 c 0.36525,0 0.661684,-0.394295 0.661684,-0.880124 0,-0.485829 -0.296434,-0.880125 -0.661684,-0.880125 z" /><path d="M 9.6279276,9.6742265 H 18.89151 c 0.365249,0 0.661684,-0.394296 0.661684,-0.880124 0,-0.485829 -0.296435,-0.880125 -0.661684,-0.880125 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880125 0,0.485828 0.2964341,0.880124 0.661684,0.880124 z" /><path d="m 7.7487877,5.1336377 h -5.249797 c -0.2170704,0 -0.3932436,-0.394295 -0.3932436,-0.880124 0,-0.485829 0.1761732,-0.880125 0.3932436,-0.880125 h 5.2386831 c 0.2170704,0 0.6599762,0.394296 0.6599762,0.880125 0,0.485829 -0.4317919,0.880124 -0.6488623,0.880124 z" /><path d="M 24.184985,12.754663 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880124 0,0.485829 0.2964341,0.880125 0.661684,0.880125 H 24.184985 c 0.36525,0 0.661684,-0.394296 0.661684,-0.880125 0,-0.485828 -0.296434,-0.880124 -0.661684,-0.880124 z" /><path d="M 9.6279276,19.355597 H 18.89151 c 0.365249,0 0.661684,-0.394296 0.661684,-0.880125 0,-0.485828 -0.296435,-0.880124 -0.661684,-0.880124 H 9.6279276 c -0.3652499,0 -0.661684,0.394296 -0.661684,0.880124 0,0.485829 0.2964341,0.880125 0.661684,0.880125 z" /><path d="m 5.2916515,2.3793617 -2.8369623,2.576236 c -0.078376,0.07116 -0.5109096,0.0056 -0.7857074,-0.309546 -0.2753315,-0.315742 -0.1134559,-0.780209 0.033097,-0.920818 l 2.5765632,-2.47205 c 0.076386,-0.07329 0.5213439,-0.01511 0.7976412,0.298709 0.2762979,0.313816 0.2937367,0.756304 0.2153686,0.82747 z" /><path d="M 5.2975829,6.0238897 2.4606208,3.4476527 c -0.078376,-0.07116 -0.5094095,-0.0043 -0.7857074,0.309547 -0.2762909,0.313822 -0.1231884,0.885425 -0.045188,0.956991 l 2.6548483,2.435876 c 0.078001,0.07157 0.5213435,0.01511 0.7976413,-0.298709 0.2762977,-0.313816 0.2937364,-0.756304 0.2153685,-0.827469 z" /></svg>'}],this.onKeyUp=this.onKeyUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onMouseSelection=this.onMouseSelection.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this),this._placeholder=t.placeholder?t.placeholder:"",this.lastSelection={},this.lastKeyDownEvent=void 0,this._data={text:e.text||"",alignment:e.alignment||t.defaultAlignment||this.defaultAlignment,shift:e.shift||{alinea:0,indent:0}},this._element=this.drawView(),this.data=e,this._preserveBlank=void 0!==t.preserveBlank&&t.preserveBlank}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" style="color:transparent; height:12px; width:17px;" viewBox="0.2 -0.3 9 11.4" width="12" height="14"><path d="M0 2.77V.92A1 1 0 01.2.28C.35.1.56 0 .83 0h7.66c.28.01.48.1.63.28.14.17.21.38.21.64v1.85c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26a1 1 0 01-.21-.66V1.69H5.6v7.58h.5c.25 0 .45.08.6.23.17.16.25.35.25.6s-.08.45-.24.6a.87.87 0 01-.62.22H3.21a.87.87 0 01-.61-.22.78.78 0 01-.24-.6c0-.25.08-.44.24-.6a.85.85 0 01.61-.23h.5V1.7H1.73v1.08c0 .26-.08.48-.23.66-.15.17-.37.26-.66.26-.28 0-.5-.09-.64-.26A1 1 0 010 2.77z"/></svg>',title:"Text"}}onMouseSelection(e){e instanceof KeyboardEvent&&"Tab"===e.key||(this.lastSelection=this.getCurrentSelection())}getCurrentTextSelection(){return this.getTextFromSelection(this.getSelectionFromRange(this.getCurrentRange()))}getTextFromSelection(e){return null==e||null==e.element?"":e.element.textContent.substring(e.start,e.start+e.length)}getTextFromRange(e){return this.getTextFromSelection(this.getSelectionFromRange(e))}getRangeFromElement=(e,t,o=-1)=>{var n=document.createRange();if(o<0){if(e.nodeType===Node.TEXT_NODE)return n.setStart(e,t),n.setEnd(e,t),n;for(let o of e.childNodes){if(t<=o.textContent.length)return this.getRangeFromElement(o,t);t-=o.textContent.length}return n}var i=this.getRangeFromElement(e,o);return(n=this.getRangeFromElement(e,t)).setEnd(i.endContainer,i.endOffset),n};findIndexInAncestor(e,t){if(e==t)return-1;if(null==e)return-1;for(;e.parentNode!=t;)if(null==(e=e.parentNode))return-1;return Array.prototype.indexOf.call(t.childNodes,e)}findOffsetInAncestor(e,t){for(;e.parentNode!=t;)if(null==(e=e.parentNode))return-1;return 0}createRangeFromSelection(e){var t=void 0;return t=null==e?this.getCurrentRange():this.getRangeFromElement(this._element,e.start,e.start+e.length),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),this.lastSelection=this.getSelectionFromRange(t),t}getCurrentRange(){return window.getSelection().rangeCount<1?document.createRange():window.getSelection().getRangeAt(0)}getCurrentSelection(){return this.getSelectionFromRange(this.getCurrentRange())}getSelectionFromRange(e){var t,o=document.createRange();return o.setStart(this._element,0),o.setEnd(e.startContainer,e.startOffset),t=o.toString().length,o.setEnd(e.endContainer,e.endOffset),{start:t,length:o.toString().length-t,index:this.api.blocks.getCurrentBlockIndex(),element:this._element}}replaceSelectionWith(e,t,o=!1){var n=document.createElement("span");n.innerHTML=e;var i=this.createRangeFromSelection(t);i.deleteContents(),i.insertNode(n),t.length=o?e.textContent:0,this.createRangeFromSelection(t)}eraseSelection(e){this.replaceSelectionWith("",e)}eraseAtCaret(e){var t=this.getCurrentSelection();for(t.length=1;this.getTextFromSelection(t).startsWith(" ");)t.start+=1;t.length=e.trim().length,this.getTextFromSelection(t)==e&&this.replaceSelectionWith("",t)}insertAtCaret(e,t=!1){""!=e&&this.replaceSelectionWith(e,this.getCurrentSelection(),t)}onKeyUp(e){if("Backspace"!==e.code&&"Delete"!==e.code)return;const{textContent:t}=this._element;""===t&&(this._element.innerHTML=""),this.lastKeyDownEvent=void 0}onKeyDown(e){if("Tab"===e.key)if(this.lastKeyDownEvent=e,e.stopPropagation(),e.shiftKey)for(var t=0;t<=this.tabSpace;){var o;(o=this.getCurrentSelection()).start=Math.max(o.start-t++,0),o.length=this.tabSpace;var n=this.getTextFromSelection(o);if((n=n.replaceAll(String.fromCharCode(32),String.fromCharCode(160)))==String.fromCharCode(160).repeat(this.tabSpace)){this.eraseSelection(o),o.length=0,this.createRangeFromSelection(o);break}}else this.insertAtCaret(String.fromCharCode(160).repeat(this.tabSpace)),(o=this.getCurrentSelection()).start+=this.tabSpace,this.createRangeFromSelection(o)}onFocusIn(){}onFocusOut(){null!=this.lastKeyDownEvent&&(this.createRangeFromSelection(this.lastSelection),this.lastKeyDownEvent=void 0)}drawView(){let e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block,this._CSS.alignment[this.data.alignment]),e.contentEditable=!this.readOnly,e.dataset.placeholder=this.api.i18n.t(this._placeholder),e.dataset.alinea=parseInt(this.data.shift.alinea),e.dataset.alinea&&e.classList.add(this._CSS.shift.alinea),e.dataset.indent=parseInt(this.data.shift.indent),e.dataset.indent&&e.classList.add(this._CSS.shift.indent),e.innerHTML=this.data.text,e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp),e.addEventListener("keyup",this.onMouseSelection),e.addEventListener("mouseup",this.onMouseSelection),e.addEventListener("mousedown",this.onMouseSelection),e.addEventListener("focusin",this.onFocusIn),e.addEventListener("focusout",this.onFocusOut),e}render(){return this._element}merge(e){(o=this.getCurrentSelection()).length=o.start,o.start=0;let t={text:this.getTextFromSelection(o)+e.text,alignment:this.data.alignment,shift:{alinea:this.data.shift.alinea,indent:this.data.shift.indent}};var o=this.getCurrentSelection();this._element.innerHTML=this.data.text,setTimeout((()=>this.createRangeFromSelection(o)),0),this.data=t}validate(e){return""!==e.text.trim()||this._preserveBlank}save(e){for(var t,o=e.innerHTML;o!=(t=o.replace(/<div>(.*?)<\/div>/g,"<br>$1"));)o=t;return Object.assign(this.data,{text:o})}onPaste(e){const t={text:e.detail.data.innerHTML,alignment:this.config.defaultAlignment||this.defaultAlignment,shift:{alinea:0,indent:0}};this.data=t}get data(){return this._data}set data(e){this._data={text:e.text||"",alignment:e.alignment||this.config.defaultAlignment||this.defaultAlignment,shift:e.shift||{alinea:0,indent:0}},this._element.innerHTML=this._data.text||""}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0,div:!0},alignment:{},shift:{alinea:{},indent:{}}}}static get pasteConfig(){return{tags:["P"]}}renderSettings(){const e=document.createElement("div");return this.alignmentSettings.map((t=>{const o=document.createElement("div");return o.classList.add("cdx-settings-button"),o.innerHTML=t.icon,o.classList.toggle(this.CSS.settingsButtonActive,t.name===this.data.alignment),e.appendChild(o),o})).forEach(((e,t,o)=>{e.addEventListener("click",(()=>{this.data.alignment=this.alignmentSettings[t].name,o.forEach(((e,t)=>{const{name:o}=this.alignmentSettings[t];e.classList.toggle(this.CSS.settingsButtonActive,o===this.data.alignment),this._element.classList.toggle(this._CSS.alignment[o],o===this.data.alignment)}))}))})),e.appendChild(document.createElement("div")),this.shiftSettings.map((t=>{const o=document.createElement("div");return o.classList.add("cdx-settings-button"),o.innerHTML=t.icon,e.appendChild(o),o})).forEach(((e,t,o)=>{e.addEventListener("click",(()=>{var e=this.shiftSettings[t].name,o=e.replace(/\-(up|down)$/,""),n=e.endsWith("-up");this._element.dataset.alinea=this._element.dataset.alinea||0;var i=this._element.dataset.alinea>0&&!n||this._element.dataset.alinea<this.maxShift&&n;"alinea"==o&&i&&(this._element.dataset.alinea=parseInt(this._element.dataset.alinea)+(n?1:-1),this._element.classList.toggle(this._CSS.shift[o],0!=this._element.dataset.alinea),this.data.shift.alinea=parseInt(this._element.dataset.alinea)),this._element.dataset.indent=this._element.dataset.indent||0;var r=this._element.dataset.indent>0&&!n||this._element.dataset.indent<this.maxShift&&n;"indent"==o&&r&&(this._element.dataset.indent=parseInt(this._element.dataset.indent)+(n?1:-1),this._element.classList.toggle(this._CSS.shift[o],0!=this._element.dataset.indent),this.data.shift.indent=parseInt(this._element.dataset.indent))}))})),e}}class Lo{static get isReadOnlySupported(){return!0}static get isInline(){return!0}static get sanitize(){return{mention:{class:["ce-mention","ce-mention-highlight"],style:!0,contenteditable:!0,"data-id":!0,"data-marker":!0,"data-before":!0,"data-json":!0}}}constructor({config:e,api:t,readOnly:o}){this.api=t,this.config=e,this.readOnly=o,this._state=!1,this._element=void 0,this.tag="MENTION",this._CSS={toolbar:"ce-inline-toolbar__mention",toolbarIcon:"ce-inline-toolbar__mention__icon",toolbarIconActive:"ce-inline-toolbar__mention__icon--active",toolbarInput:"ce-inline-tool-input",toolbarInputShow:"ce-inline-tool-input--showed",toolbarSearchbar:"ce-inline-toolbar__mention__searchbar",toolbarSearchbox:"ce-inline-toolbar__mention__searchbox",toolbarSearchboxEntry:"ce-inline-toolbar__mention__searchbox__entry",toolbarSearchboxAvatar:"ce-inline-toolbar__mention__searchbox__avatar",toolbarSearchboxLoader:"ce-inline-toolbar__mention__searchbox__loader",toolbarSearchboxLoaderPending:"ce-inline-toolbar__mention__searchbox__loader--pending",toolbarSearchboxLoaderError:"ce-inline-toolbar__mention__searchbox__loader--error",entry:"ce-mention",entryHighlight:"ce-mention-highlight"},this.status=this.mergeDictionary({pending:"Please wait..",empty:"No result found..",error:"Error happened.."},this.config.status||{});const n=Object.keys(Object.assign({},this.config.data,this.config.endpoints));this.markers=this.mergeDictionary({arobase:{id:"@",name:"User",color:"#6565ff",placeholder:"Search for a user",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="15" height="15"><path d="m 13.685243,40.158234 c 1.27545,-14.65887 14.21343,-26.5749 28.70499,-26.5749 8.4339,0 14.5389,2.75895 18.3861,6.94608 3.8424,4.18164 5.8161,10.20282 5.1945,17.49312 -1.3542,10.4424 -5.553,13.2864 -7.5501,13.7199 -1.0809,0.2346 -1.8612,-0.063 -2.2887,-0.4305 -0.3819,-0.3285 -0.7317,-0.9156 -0.5853,-1.9554 l 3.1029,-23.271 c 0.219,-1.64232 -0.9348,-3.1512 -2.5773,-3.37017 l -1.4868,-0.19827 c -1.6422,-0.21897 -3.1512,0.93489 -3.3702,2.57721 l -0.0441,0.33201 c -1.5237,-1.48035 -3.3741,-2.66571 -5.5353,-3.44121 -9.2541,-3.32082 -19.03842,2.7468 -22.48881,12.09333 -3.45465,9.3579 0.09171,20.2686 9.38367,23.6031 5.87844,2.1093 11.97054,0.4308 16.51734,-3.4704 0.5403,1.0584 1.281,2.0022 2.1936,2.7873 2.3559,2.0256 5.5839,2.7648 8.7699,2.0733 6.5316,-1.4178 11.8851,-8.2662 13.4082,-20.1723 0.0063,-0.0495 0.0117,-0.099 0.0159,-0.1485 0.7917,-9.04017 -1.6155,-17.28759 -7.1367,-23.29608 -5.529,-6.0171306 -13.7955,-9.3715206 -23.9088,-9.3715206 -18.43887,0 -34.5690904,14.9476206 -36.1767604,33.4251006 -1.628406,18.7155 12.2141104,34.0749 30.9222604,34.0749 5.7741,0 9.4707,-0.4764 14.8899,-2.7675 l 0.6906,-0.2922 c 1.5261,-0.6453 2.2404,-2.4054 1.5951,-3.9315 l -0.5841,-1.3815 c -0.6453,-1.5261 -2.4054,-2.2401 -3.9315,-1.5948 l -0.6909,0.2919 c -4.2567,1.7997 -6.9024,2.1756 -11.9691,2.1756 -14.22255,0 -24.70518,-11.5044 -23.45049,-25.9251 z m 16.49772,-3.4824 c 2.38833,-6.46947 8.45697,-9.23292 12.91977,-7.63149 4.425,1.58787 7.2651,7.48869 4.881,13.94649 -2.3883,6.4695 -8.457,9.2328 -12.9198,7.6314 -4.42488,-1.5879 -7.26504,-7.4886 -4.88097,-13.9464 z" /></svg>'},hashtag:{id:"#",name:"Keyword",color:"#f07272",placeholder:"Search for a keyword",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="15" height="15"><path d="m 65.416899,35.036362 a 4.5090054,5.1286673 0 0 0 0,-10.257333 h -8.071341 l 1.894055,-11.898507 a 4.5149847,5.1354682 0 0 0 -8.882872,-1.84632 L 48.101845,24.779029 H 37.055527 l 1.893212,-11.898507 a 4.5149788,5.1354616 0 0 0 -8.882842,-1.84632 l -2.254083,13.744827 h -9.739668 a 4.5090054,5.1286673 0 1 0 0,10.257333 h 8.183806 L 24.610296,45.2937 h -9.694349 a 4.5090054,5.1286671 0 0 0 0,10.257331 h 8.071337 l -1.894056,11.898522 a 4.5149849,5.1354686 0 1 0 8.882872,1.846321 l 2.254054,-13.744843 h 11.115127 l -1.894057,11.898522 a 4.5149849,5.1354686 0 1 0 8.882872,1.846321 l 2.254897,-13.744843 h 9.671708 a 4.5090054,5.1286671 0 1 0 0,-10.257331 H 54.07689 L 55.722549,35.036362 Z M 44.901141,45.2937 H 33.786044 l 1.645657,-10.257338 h 11.115096 z" style="stroke-width:0.814638" /></svg>'},dollar:{id:"$",name:"Thread",color:"#82bd82",placeholder:"Search for a thread",icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 80 80" width="15" height="15"><path d="m 35.583234,7.3877686 c 0,3.7363614 -0.03843,4.1824934 -0.307136,4.1824934 -0.537577,0 -4.204524,1.245456 -5.394846,1.821711 -4.108538,2.026187 -6.988335,5.130531 -8.332242,8.959835 -1.439902,4.145321 -0.767946,9.536096 1.651086,13.12375 0.979141,1.431345 3.129377,3.49471 4.70367,4.498507 2.707033,1.728766 5.241242,2.732563 13.343119,5.223476 8.236228,2.546674 10.501667,4.23826 10.789656,8.086157 0.134349,1.803121 -0.153747,2.751156 -1.228722,3.847898 -1.017534,1.059567 -2.572611,1.858887 -4.761284,2.435141 -1.267124,0.315998 -2.092653,0.39037 -4.703665,0.408958 -2.745433,0.01861 -3.398177,-0.03716 -4.876487,-0.427543 -3.110187,-0.780735 -5.682798,-2.026191 -7.83307,-3.792134 l -0.921515,-0.743554 -2.803015,2.583853 c -1.535897,1.412756 -3.206184,2.937044 -3.705349,3.364588 l -0.883142,0.79932 0.959937,0.873679 c 3.302163,2.974219 7.468286,5.167705 12.191169,6.357395 l 2.015851,0.520484 0.05748,4.015198 0.03843,4.033789 h 5.087674 5.087639 v -3.959434 -3.959428 l 1.382326,-0.223053 c 1.881465,-0.315997 5.145221,-1.394166 6.681114,-2.193486 4.012555,-2.119132 6.661968,-5.130531 7.909872,-8.997018 0.383974,-1.226868 0.441593,-1.76594 0.441593,-4.368382 0,-2.30502 -0.07688,-3.253055 -0.364791,-4.238263 -1.459089,-5.279252 -4.607678,-8.662422 -10.578465,-11.394988 -2.323058,-1.059564 -3.494161,-1.44993 -9.887323,-3.420352 -4.43493,-1.35699 -7.257129,-2.52809 -8.44745,-3.49471 -0.383973,-0.315997 -0.940733,-1.003801 -1.247904,-1.542878 -0.499177,-0.892264 -0.575978,-1.189689 -0.575978,-2.583852 0,-1.394167 0.05748,-1.691589 0.518394,-2.435142 0.671926,-1.115334 1.689462,-1.951832 3.129371,-2.602446 3.858951,-1.747351 9.887322,-1.914654 14.782992,-0.42754 0.537578,0.167307 1.70868,0.632017 2.649413,1.059565 0.921551,0.408955 1.689497,0.706379 1.727898,0.669198 0.441557,-0.557665 5.318043,-8.030395 5.318043,-8.160513 0,-0.26025 -4.550096,-2.342201 -6.316395,-2.881278 -1.919831,-0.557671 -4.492478,-1.133929 -6.009189,-1.301229 L 45.758474,10.975432 V 7.0903571 3.2052827 h -5.087639 -5.087637 z" /></svg>'}},this.config.markers||{}),this.data=this.mergeDictionary({arobase:{},hashtag:{},dollar:{}},this.config.data),this.response=this.mergeDictionary({arobase:{},hashtag:{},dollar:{}}),this.endpoints=this.mergeDictionary({arobase:void 0,hashtag:void 0,dollar:void 0},this.config.endpoints),Object.keys(this.endpoints).forEach((e=>{null==this.endpoints[e]?delete this.endpoints[e]:""==this.endpoints[e]||this.endpoints[e].endsWith("/")||(this.endpoints[e]+="/")})),this.markers=this.restrictDictionary(this.markers,n),this.data=this.restrictDictionary(this.data,n),this.endpoints=this.restrictDictionary(this.endpoints,n),this.throttle=e.throttle||150,this.throttleTimer=void 0,0==Object.keys(this.config.endpoints).length&&(this.throttle=0),this.typingDelay=e.typingDelay||100,this.typingTimer=void 0,0==Object.keys(this.config.endpoints).length&&(this.typingDelay=0),this.pendingDisplay=this.config.pendingDisplay||1e3}preg_quote(e,t){return(e+"").replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\"+(t||"")+"-]","g"),"\\$&")}isObject(e){return e&&"object"==typeof e&&!Array.isArray(e)}restrictDictionary(e,t=[]){return Object.fromEntries(Object.entries(e).filter((([e,o])=>t.includes(e))))}mergeDictionary(e,...t){if(!t.length)return e;const o=t.shift();if(this.isObject(e)&&this.isObject(o))for(const t in o)this.isObject(o[t])?(e[t]||Object.assign(e,{[t]:{}}),this.mergeDictionary(e[t],o[t])):Object.assign(e,{[t]:o[t]});return this.mergeDictionary(e,...t)}getCurrentTextSelection(){return this.getTextFromSelection(this.getSelectionFromRange(this.getCurrentRange()))}getTextFromSelection(e){return null==e||null==e.element?"":e.element.textContent.substring(e.start,e.start+e.length)}getTextFromRange(e){return this.getTextFromSelection(this.getSelectionFromRange(e))}getSelectionFromElement=(e,t,o=-1)=>this.getSelectionFromRange(this.getRangeFromElement(e,t,o));getRangeFromElement=(e,t=0,o=-1)=>{var n=document.createRange();if(o<0){if(e.nodeType===Node.TEXT_NODE)return n.setStart(e,t),n.setEnd(e,t),n;for(let o of e.childNodes){if(t<=o.textContent.length)return this.getRangeFromElement(o,t);t-=o.textContent.length}return n}var i=this.getRangeFromElement(e,o);return(n=this.getRangeFromElement(e,t)).setEnd(i.endContainer,i.endOffset),n};findIndexInAncestor(e,t){if(e==t)return-1;if(null==e)return-1;for(;e.parentNode!=t;)if(null==(e=e.parentNode))return-1;return Array.prototype.indexOf.call(t.childNodes,e)}findOffsetInAncestor(e,t){for(;e.parentNode!=t;)if(null==(e=e.parentNode))return-1;return 0}getRangeFromSelection(e){return null==e?this.getCurrentRange():this.getRangeFromElement(this._element,e.start,e.start+e.length)}focusOnSelection(e){return this.focusOnRange(this.getRangeFromSelection(e))}focusOnRange(e){return window.getSelection().removeAllRanges(),window.getSelection().addRange(e),this.lastSelection=this.getSelectionFromRange(e),e}getCurrentRange(){return window.getSelection().rangeCount<1?document.createRange():window.getSelection().getRangeAt(0)}getCurrentSelection(){return this.getSelectionFromRange(this.getCurrentRange())}getSelectionFromRange(e){var t;this._element=this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder;var o=document.createRange();return o.setStart(this._element,0),o.setEnd(e.startContainer,e.startOffset),t=o.toString().length,o.setEnd(e.endContainer,e.endOffset),{start:t,length:o.toString().length-t,index:this.api.blocks.getCurrentBlockIndex(),element:this._element}}replaceSelectionWith(e,t,o=!1){var n=document.createElement("span");n.innerHTML=e;var i=this.focusOnSelection(t);i.deleteContents(),i.insertNode(n),t.length=o?e.textContent:0,this.focusOnSelection(t)}eraseSelection(e){this.replaceSelectionWith("",e)}eraseAtCaret(e){var t=this.getCurrentSelection();for(t.length=1;this.getTextFromSelection(t).startsWith(" ");)t.start+=1;t.length=e.trim().length,this.getTextFromSelection(t)==e&&this.replaceSelectionWith("",t)}insertAtCaret(e,t=!1){""!=e&&this.replaceSelectionWith(e,this.getCurrentSelection(),t)}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="m 6.527992,12.335704 c 0.251909,-2.926628 2.807243,-5.3056501 5.669419,-5.3056501 1.665749,0 2.871526,0.5508213 3.631372,1.3867771 0.7589,0.8348597 1.148718,2.036983 1.025948,3.492482 -0.267464,2.084814 -1.096754,2.652616 -1.491194,2.739163 -0.213485,0.04684 -0.367599,-0.01258 -0.452033,-0.08595 -0.07543,-0.06558 -0.144515,-0.182798 -0.1156,-0.390393 L 15.408746,9.5261044 C 15.452001,9.1982167 15.224118,8.8969713 14.899713,8.8532539 l -0.293652,-0.039589 c -0.324346,-0.043713 -0.622382,0.1866497 -0.665637,0.5145364 l -0.0088,0.066281 C 13.630719,9.0989315 13.265253,8.8622755 12.838401,8.7074478 11.010658,8.0444503 9.078192,9.2558443 8.396718,11.121868 c -0.682316,1.868295 0.01812,4.046604 1.853335,4.712333 1.161029,0.421119 2.364257,0.086 3.26228,-0.692861 0.106713,0.211308 0.253005,0.399737 0.43325,0.556481 0.465306,0.404409 1.102856,0.551989 1.732112,0.413932 1.290033,-0.283062 2.347383,-1.650338 2.648205,-4.027378 0.0013,-0.0098 0.0023,-0.01977 0.0031,-0.02965 C 18.485404,10.24987 18.009966,8.6032816 16.919494,7.4036928 15.827481,6.2023793 14.194795,5.532679 12.197353,5.532679 c -3.641794,0 -6.827616,2.9842761 -7.145142,6.673285 -0.32162,3.736529 2.412366,6.803016 6.107345,6.803016 1.140421,0 1.870523,-0.09512 2.94085,-0.552528 l 0.136398,-0.05834 c 0.301415,-0.128834 0.442494,-0.480235 0.315043,-0.78492 l -0.115364,-0.275815 c -0.12745,-0.304683 -0.475082,-0.447233 -0.776497,-0.3184 l -0.136456,0.05827 c -0.840726,0.359308 -1.363268,0.434356 -2.363974,0.434356 -2.809044,0 -4.879431,-2.296841 -4.631622,-5.175917 z m 3.258406,-0.695258 c 0.471709,-1.291622 1.670305,-1.843342 2.551736,-1.523618 0.873966,0.317016 1.434904,1.495108 0.964029,2.784401 -0.471705,1.291628 -1.670311,1.843318 -2.551743,1.523601 C 9.876478,14.107807 9.315528,12.929738 9.786398,11.640446 Z" style="stroke-width:0.198575" /></svg>',this.button.classList.add(this.api.styles.inlineToolButton),this.button}surround(e){this.mentionMarker&&this.api.selection.expandToTag(this.mentionMarker),this.state?this.unwrap(e):this.wrap(e)}wrap(e){const t=e.extractContents(),o=document.createElement(this.tag);o.innerText=t.textContent,e.insertNode(o),o.parentNode.getAttribute("contenteditable")&&(this.mentionMarker=o,this.mentionMarker.classList.add(this._CSS.entry),this.mentionMarker.contentEditable=!1,this.api.selection.expandToTag(this.mentionMarker))}unwrap(e){const t=this.api.selection.findParentTag(this.tag,this._CSS.entry);if(t){const e=this.getCurrentSelection();e.length=t.textContent.length,t.outerHTML=t.textContent,this.focusOnSelection(e),this.mentionMarker=void 0}}checkState(){const e=this.mentionMarker||this.api.selection.findParentTag(this.tag,this._CSS.entry);this.state=!!e,this.mentionMarker=e,this.state?this.showActions(e):this.hideActions()}renderActions(){return this.mentionToolbarButton=this.button,this.mentionToolbar=document.createElement("div"),this.mentionToolbar.classList.add(this._CSS.toolbar),this.mentionToolbarIcon=document.createElement("div"),this.mentionToolbarIcon.classList.add(this._CSS.toolbarIcon),this.mentionToolbar.appendChild(this.mentionToolbarIcon),this.mentionToolbarSearchbar=document.createElement("div"),this.mentionToolbarSearchbar.classList.add(this._CSS.toolbarSearchbar),this.mentionToolbarSearchbarInput=document.createElement("input"),this.mentionToolbarSearchbarInput.classList.add(this._CSS.toolbarInput,this._CSS.toolbarInputShow),this.mentionToolbarSearchbarInput.onfocus=e=>{if(this.mentionMarker&&this._element.contains(e.relatedTarget)){const e=this.markers[this.mentionMarker.dataset.marker];this.focusInMark(this.mentionMarker,e)}},this.mentionToolbarSearchbarInput.onfocusout=e=>{if(this.mentionMarker&&this._element.parentNode.contains(e.relatedTarget)){const e=this.markers[this.mentionMarker.dataset.marker];this.focusOutMark(this.mentionMarker,e)}},this.mentionToolbarSearchbarInput.onkeyup=e=>{this.mentionMarker.innerHTML=this.mentionToolbarSearchbarInput.value},this.mentionToolbarSearchbarInput.onkeydown=e=>"Enter"==e.key?(e.preventDefault(),!1):null!=e&&"Backspace"==e.key?(this.clearSearchbox(),!0):void 0,this.mentionToolbarSearchbarInput.oninput=function(e){this.mentionMarker&&e.target.value.trim()!=this.mentionMarker.textContent.trim()&&(this.mentionMarker.removeAttribute("data-id"),this.mentionMarker.removeAttribute("data-json"));const t=(e,t)=>{this.throttleTimer||(this.throttleTimer=setTimeout((()=>{e(),this.throttleTimer=void 0}),t))};clearTimeout(this.typingTimer),this.typingTimer=setTimeout((()=>{t(function(){this.clearSearchbox(),this.searchAction()}.bind(this),e.isTrusted?this.throttle:0)}),e.isTrusted?this.typingDelay:0)}.bind(this),this.mentionToolbarSearchbar.appendChild(this.mentionToolbarSearchbarInput),this.mentionToolbar.appendChild(this.mentionToolbarSearchbar),this.mentionToolbarSearchbox=document.createElement("ul"),this.mentionToolbarSearchbox.classList.add(this._CSS.toolbarSearchbox),this.mentionToolbarSearchbox.onscroll=function(e){var t=e.target;(t.scrollHeight==t.clientHeight?1:t.scrollTop/(t.scrollHeight-t.clientHeight))>.75&&!this.searchActionOngoing&&this.searchAction()}.bind(this),this.mentionToolbar.appendChild(this.mentionToolbarSearchbox),Object.keys(this.markers).forEach(function(e){var t=this.markers[e],o=document.createElement("button");o.type="button",o.innerHTML=t.icon,o.title=t.name,this.mentionToolbarIcon.appendChild(o)}.bind(this)),this.mentionToolbar.hidden=!0,this.mentionToolbarSearchbar.hidden=!0,this.mentionToolbar}searchAction(){var e=this.mentionToolbarSearchbarInput.value.trim();if(""==e)return;this.searchActionOngoing=!0;var t=this.mentionMarker.dataset.marker,o=this.mentionToolbarSearchbarInput.dataset.page||1,n=this.mentionToolbarSearchbarInput.dataset.pageMore||!0;n=/true/.test(n);var i=this.mentionToolbarSearchbarInput.dataset.value||"";i=i.trim();var r=this.mentionToolbarSearchbarInput.dataset.marker||t;if(r=r.trim(),e!=i||t!=r)this.clearSearchbox(),o=1;else{if(!n)return this.clearSearchboxStatus();o++}const s=this.mentionToolbarSearchbarInput.value.trim();var a=this.responseKey(t,s,o),l=this.response[a]||void 0;l?this.updateSearchbox(t,l):(this.mentionSearchboxStatusTimeout=setTimeout((()=>{this.createSearchboxStatus(this.status.pending).classList.add(this._CSS.toolbarSearchboxLoaderPending)}),this.pendingDisplay),async function(e,t,o,n={}){var i={};if(""==e.trim())return i;if(o){i=await fetch(o,{method:"POST",body:JSON.stringify({query:e.trim(),page:t})});try{if(!i.ok)return{success:!1,text:await i.text(),status:i.status};i=await i.json()}catch(e){return{success:!1,status:i.status}}}else i={success:!0,results:Object.entries(n).filter((t=>t?.label?.toLowerCase().includes(String(e).toLowerCase())||t?.link?.name?.toLowerCase().includes(String(e).toLowerCase())))};return i.query=i.query||e,i}(s,o,this.endpoints[t],this.data[t]).then((e=>{this.updateSearchbox(t,e)})))}responseKey(e,t,o){return e+";"+t+";"+o}focusInMark(e,t){null!=e&&null!=t&&e.tagName==this.tag&&(e.classList.add(this._CSS.entryHighlight,this._CSS.entry),e.style.backgroundColor=t.color,e.style.outlineColor=null,e.style.color=null)}focusOutMark(e,t){null!=e&&null!=t&&e.tagName==this.tag&&(e.dataset.id||(e.classList.remove(this._CSS.entryHighlight),e.style.backgroundColor=null,e.style.outlineColor=t.color,e.style.color=t.color))}showActions(e){this.mentionToolbar.hidden=!1,setTimeout(function(){this.mentionToolbarButton.parentNode.parentNode.childNodes.forEach(function(e){e.childNodes.forEach(function(e){e.disabled=e!=this.mentionToolbarButton}.bind(this))}.bind(this))}.bind(this)),this.mentionToolbarIcon.childNodes.forEach(function(t,o){var n=Object.keys(this.markers)[o];const i=this.markers[n];t.onclick=()=>{var o=e.textContent;e.dataset.marker!=n&&(e.removeAttribute("data-id"),e.removeAttribute("data-json")),this.mentionToolbarSearchbarInput.value=o,this.mentionToolbarSearchbarInput.placeholder=i.placeholder||"",this.mentionToolbarIcon.childNodes.forEach(function(e){t==e?e.classList.toggle(this._CSS.toolbarIconActive):e.classList.remove(this._CSS.toolbarIconActive)}.bind(this)),this.mentionToolbarSearchbox.hidden=!t.classList.contains(this._CSS.toolbarIconActive),this.mentionToolbarSearchbar.hidden=!t.classList.contains(this._CSS.toolbarIconActive),this.mentionToolbarSearchbar.hidden?this.focusOutMark(e,i):this.focusInMark(e,i),e.innerHTML=o,e.contentEditable=!1,e.dataset.marker=n,e.setAttribute("data-before",i.id);var r=this.getRangeFromElement(e,0,o.length);this.focusOnRange(r),this.mentionToolbarSearchbarInput.dataset.value="",this.mentionToolbarSearchbarInput.dataset.page=1,this.mentionToolbarSearchbarInput.dataset.pageMore=!0,setTimeout((()=>{this.mentionToolbarSearchbarInput.focus(),this.mentionToolbarSearchbarInput.dispatchEvent(new Event("input",{bubbles:!0}))}))},e.dataset.marker==n&&this.mentionToolbarIcon.childNodes[o].click()}.bind(this))}hideActions(){this.clearSearchbox(),this.mentionToolbar.hidden=!0,this.mentionToolbarSearchbar.hidden=!0,this.mentionToolbarIcon.childNodes.forEach((function(e){e.onclick=null})),this.mentionToolbarButton.parentNode.parentNode.childNodes.forEach((function(e){e.childNodes.forEach(function(e){e.disabled=!1}.bind(this))}))}updateSearchbox(e=void 0,t={}){if(this.clearSearchboxStatus(),!("success"in t)||t.success){if(this.mentionToolbarSearchbarInput.dataset.page=t?.pagination?.page||1,this.mentionToolbarSearchbarInput.dataset.pageMore=t?.pagination?.more??!0,/true/.test(this.mentionToolbarSearchbarInput.dataset.pageMore)||this.clearSearchboxStatus(),this.mentionToolbarSearchbarInput.dataset.value=t?.query||"",this.mentionToolbarSearchbarInput.dataset.marker=this.mentionMarker?.dataset?.mention,null!=e&&"results"in t)if(t.results.length<1){this.createSearchboxStatus(this.status.empty).classList.add(this._CSS.toolbarSearchboxLoaderError)}else{Object.values(t.results).forEach(function(e){var t=document.createElement("li");t.appendChild(this.createSearchboxEntry(e)),this.mentionToolbarSearchbox.appendChild(t)}.bind(this));var o=this.responseKey(e,t.query,t.pagination.page||1);this.response[o]=t}this.searchActionOngoing=!1,/true/.test(this.mentionToolbarSearchbarInput.dataset.pageMore)&&this.mentionToolbarSearchbox.scrollHeight==this.mentionToolbarSearchbox.clientHeight&&this.searchAction()}else{this.createSearchboxStatus(t.text||this.status.error).classList.add(this._CSS.toolbarSearchboxLoaderError)}}clearSearchbox(){for(this.clearSearchboxStatus(),null!=this.mentionSearchboxStatusTimeout&&clearTimeout(this.mentionSearchboxStatusTimeout);this.mentionToolbarSearchbox.firstChild;)this.mentionToolbarSearchbox.removeChild(this.mentionToolbarSearchbox.firstChild)}clearSearchboxStatus(){null!=this.mentionSearchboxStatusTimeout&&clearTimeout(this.mentionSearchboxStatusTimeout);var e=this.mentionToolbarSearchbox.getElementsByClassName(this._CSS.toolbarSearchboxLoader)[0]||void 0;null!=e&&this.mentionToolbarSearchbox.removeChild(e)}createSearchboxStatus(e=void 0,t){var o=this.mentionToolbarSearchbox.getElementsByClassName(this._CSS.toolbarSearchboxLoader)[0]||document.createElement("li");return o.classList=this._CSS.toolbarSearchboxEntry+" "+this._CSS.toolbarSearchboxLoader,o.innerText=null==e?"":e,null==o.parentNode&&this.mentionToolbarSearchbox.appendChild(o),o}createSearchboxEntry(e){var t=!1,o=document.createElement("div");o.classList.add(this._CSS.toolbarSearchboxEntry),o.onclick=function(o){if(t)t=!1;else{this.mentionMarker.innerHTML=e.label,this.mentionMarker.dataset.id=e?.id,this.mentionMarker.dataset.json=JSON.stringify(e?.data||{});var n=this.getSelectionFromElement(this.mentionMarker,e.label.length);n.start+=1,this.mentionMarker.outerHTML+=" ",this.focusOnSelection(n)}}.bind(this);var n=document.createElement("div");n.classList.add(this._CSS.toolbarSearchboxAvatar);const i=function(e){let t=new RegExp(/(\p{L}{1})\p{L}+/,"gu"),o=[...String(e).matchAll(t)]||[];return o=((o.shift()?.[1]||"")+(o.pop()?.[1]||"")).toUpperCase(),o||void 0},r=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)};var s=i(e?.link?.name)||i(e?.label);if("avatar"in e&&e.avatar){var a=document.createElement("img");a.src=e?.avatar,n.appendChild(a)}else if(s){const e=(e,t,o)=>"#"+[e,t,o].map((e=>{const t=e.toString(16);return 1===t.length?"0"+t:t})).join(""),t=e(Math.floor(r(0,255)),Math.floor(r(0,255)),Math.floor(r(0,255)));n.style.backgroundColor=t+"20",n.innerText=s}o.appendChild(n),n=document.createElement("div");var l=document.createElement("div");l.innerText=e?.label;var c=document.createElement("a");return c.onclick=function(){t=!0},c.href=e?.link?.url,c.innerText=e?.link?.name,c.target="_blank","label"in e&&n.appendChild(l),"link"in e&&n.appendChild(c),o.appendChild(n),o}}!function(){try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(e)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();const _o='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>';function Mo(e,t=null,o={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in o)n[e]=o[e];return n}class Oo{constructor({api:e,config:t,onSelectFile:o,readOnly:n}){this.api=e,this.config=t,this.onSelectFile=o,this.readOnly=n,this.nodes={wrapper:Mo("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Mo("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Mo("div",this.CSS.imagePreloader),caption:Mo("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(e){return e.file&&0!==Object.keys(e.file).length?this.toggleStatus(Oo.status.UPLOADING):this.toggleStatus(Oo.status.EMPTY),this.nodes.wrapper}createFileButton(){const e=Mo("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent||`${_o} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",(()=>{this.onSelectFile()})),e}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus(Oo.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(Oo.status.EMPTY)}fillImage(e){const t=/\.mp4$/.test(e)?"VIDEO":"IMG",o={src:e};let n="load";"VIDEO"===t&&(o.autoplay=!0,o.loop=!0,o.muted=!0,o.playsinline=!0,n="loadeddata"),this.nodes.imageEl=Mo(t,this.CSS.imageEl,o),this.nodes.imageEl.addEventListener(n,(()=>{this.toggleStatus(Oo.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")})),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const t in Oo.status)Object.prototype.hasOwnProperty.call(Oo.status,t)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${Oo.status[t]}`,e===Oo.status[t])}applyTune(e,t){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,t)}}function Io(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var No={exports:{}};!function(e,t){window,e.exports=function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=3)}([function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){(function(e){var n=o(2),i=setTimeout;function r(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var o=1===e._state?t.onFulfilled:t.onRejected;if(null!==o){var n;try{n=o(e._value)}catch(e){return void c(t.promise,e)}l(t.promise,n)}else(1===e._state?l:c)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof o)return void u((n=o,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){c(e,t)}var n,i}function c(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,o=e._deferreds.length;t<o;t++)a(e,e._deferreds[t]);e._deferreds=null}function h(e,t,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=o}function u(e,t){var o=!1;try{e((function(e){o||(o=!0,l(t,e))}),(function(e){o||(o=!0,c(t,e))}))}catch(e){if(o)return;o=!0,c(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var o=new this.constructor(r);return a(this,new h(e,t,o)),o},s.prototype.finally=n.a,s.all=function(e){return new s((function(t,o){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function r(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){r(e,t)}),o)}n[e]=s,0==--i&&t(n)}catch(e){o(e)}}for(var s=0;s<n.length;s++)r(s,n[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,o){o(e)}))},s.race=function(e){return new s((function(t,o){for(var n=0,i=e.length;n<i;n++)e[n].then(t,o)}))},s._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){i(e,0)},s._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=s}).call(this,o(5).setImmediate)},function(e,t,o){t.a=function(e){var t=this.constructor;return this.then((function(o){return t.resolve(e()).then((function(){return o}))}),(function(o){return t.resolve(e()).then((function(){return t.reject(o)}))}))}},function(e,t,o){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o(4);var i,r,s,a,l,c,d,h=o(8),u=(r=function(e){return new Promise((function(t,o){e=a(e),(e=l(e)).beforeSend&&e.beforeSend();var n=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");n.open(e.method,e.url),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e.headers).forEach((function(t){var o=e.headers[t];n.setRequestHeader(t,o)}));var i=e.ratio;n.upload.addEventListener("progress",(function(t){var o=Math.round(t.loaded/t.total*100),n=Math.ceil(o*i/100);e.progress(Math.min(n,100))}),!1),n.addEventListener("progress",(function(t){var o=Math.round(t.loaded/t.total*100),n=Math.ceil(o*(100-i)/100)+i;e.progress(Math.min(n,100))}),!1),n.onreadystatechange=function(){if(4===n.readyState){var e=n.response;try{e=JSON.parse(e)}catch{}var i=h.parseHeaders(n.getAllResponseHeaders()),r={body:e,code:n.status,headers:i};d(n.status)?t(r):o(r)}},n.send(e.data)}))},s=function(e){return e.method="POST",r(e)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.url&&"string"!=typeof e.url)throw new Error("Url must be a string");if(e.url=e.url||"",e.method&&"string"!=typeof e.method)throw new Error("`method` must be a string or null");if(e.method=e.method?e.method.toUpperCase():"GET",e.headers&&"object"!==n(e.headers))throw new Error("`headers` must be an object or null");if(e.headers=e.headers||{},e.type&&("string"!=typeof e.type||!Object.values(i).includes(e.type)))throw new Error("`type` must be taken from module's «contentType» library");if(e.progress&&"function"!=typeof e.progress)throw new Error("`progress` must be a function or null");if(e.progress=e.progress||function(e){},e.beforeSend=e.beforeSend||function(e){},e.ratio&&"number"!=typeof e.ratio)throw new Error("`ratio` must be a number");if(e.ratio<0||e.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(e.ratio=e.ratio||90,e.accept&&"string"!=typeof e.accept)throw new Error("`accept` must be a string with a list of allowed mime-types");if(e.accept=e.accept||"*/*",e.multiple&&"boolean"!=typeof e.multiple)throw new Error("`multiple` must be a true or false");if(e.multiple=e.multiple||!1,e.fieldName&&"string"!=typeof e.fieldName)throw new Error("`fieldName` must be a string");return e.fieldName=e.fieldName||"files",e},l=function(e){switch(e.method){case"GET":var t=c(e.data,i.URLENCODED);delete e.data,e.url=/\?/.test(e.url)?e.url+"&"+t:e.url+"?"+t;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).type||i.JSON}(e);(h.isFormData(e.data)||h.isFormElement(e.data))&&(o=i.FORM),e.data=c(e.data,o),o!==u.contentType.FORM&&(e.headers["content-type"]=o)}return e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case i.URLENCODED:return h.urlEncode(e);case i.JSON:return h.jsonEncode(e);case i.FORM:return h.formEncode(e);default:return e}},d=function(e){return e>=200&&e<300},{contentType:i={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:r,get:function(e){return e.method="GET",r(e)},post:s,transport:function(e){return e=a(e),h.selectFiles(e).then((function(t){for(var o=new FormData,n=0;n<t.length;n++)o.append(e.fieldName,t[n],t[n].name);h.isObject(e.data)&&Object.keys(e.data).forEach((function(t){var n=e.data[t];o.append(t,n)}));var i=e.beforeSend;return e.beforeSend=function(){return i(t)},e.data=o,s(e)}))},selectFiles:function(e){return delete(e=a(e)).beforeSend,h.selectFiles(e)}});e.exports=u},function(e,t,o){o.r(t);var n=o(1);window.Promise=window.Promise||n.a},function(e,t,o){(function(e){var n=void 0!==e&&e||typeof self<"u"&&self||window,i=Function.prototype.apply;function r(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new r(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},o(6),t.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(e,t,o){(function(e,t){!function(e,o){if(!e.setImmediate){var n,i,r,s,a,l=1,c={},d=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){r.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(f,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var i={callback:e,args:t};return c[l]=i,n(l),l++},u.clearImmediate=p}function p(e){delete c[e]}function f(e){if(d)setTimeout(f,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(o,n)}}(t)}finally{p(e),d=!1}}}}}(typeof self>"u"?void 0===e?this:e:self)}).call(this,o(0),o(7))},function(e,t){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch{try{return o.call(null,e,0)}catch{return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch{o=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch{n=s}}();var l,c=[],d=!1,h=-1;function u(){d&&l&&(d=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!d){var e=a(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch{try{return n.call(null,e)}catch{return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];c.push(new f(e,t)),1!==c.length||d||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,o){function n(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=o(9);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,r;return t=e,r=[{key:"urlEncode",value:function(e){return i(e)}},{key:"jsonEncode",value:function(e){return JSON.stringify(e)}},{key:"formEncode",value:function(e){if(this.isFormData(e))return e;if(this.isFormElement(e))return new FormData(e);if(this.isObject(e)){var t=new FormData;return Object.keys(e).forEach((function(o){var n=e[o];t.append(o,n)})),t}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isFormData",value:function(e){return e instanceof FormData}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,o){var n=document.createElement("INPUT");n.type="file",e.multiple&&n.setAttribute("multiple","multiple"),e.accept&&n.setAttribute("accept",e.accept),n.style.display="none",document.body.appendChild(n),n.addEventListener("change",(function(e){var o=e.target.files;t(o),document.body.removeChild(n)}),!1),n.click()}))}},{key:"parseHeaders",value:function(e){var t=e.trim().split(/[\r\n]+/),o={};return t.forEach((function(e){var t=e.split(": "),n=t.shift(),i=t.join(": ");n&&(o[n]=i)})),o}}],(o=null)&&n(t.prototype,o),r&&n(t,r),e}()},function(e,t){var o=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},n=function(e,t,i,r){return t=t||null,i=i||"&",r=r||null,e?function(e){for(var t=new Array,o=0;o<e.length;o++)e[o]&&t.push(e[o]);return t}(Object.keys(e).map((function(s){var a,l,c=s;if(r&&(c=r+"["+c+"]"),"object"==typeof e[s]&&null!==e[s])a=n(e[s],null,i,c);else{t&&(l=c,c=!isNaN(parseFloat(l))&&isFinite(l)?t+Number(c):c);var d=e[s];d=(d=0===(d=!1===(d=!0===d?"1":d)?"0":d)?"0":d)||"",a=o(c)+"="+o(d)}return a}))).join(i).replace(/[!'()*]/g,""):""};e.exports=n}])}(No);const Ro=Io(No.exports);function Do(e){return e&&"function"==typeof e.then}class jo{constructor({config:e,onUpload:t,onError:o}){this.config=e,this.onUpload=t,this.onError=o}uploadSelectedFile({onPreview:e}){const t=function(t){const o=new FileReader;o.readAsDataURL(t),o.onload=t=>{e(t.target.result)}};let o;o=this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile?Ro.selectFiles({accept:this.config.types}).then((e=>{t(e[0]);const o=this.config.uploader.uploadByFile(e[0]);return Do(o)||console.warn("Custom uploader method uploadByFile should return a Promise"),o})):Ro.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:e=>{t(e[0])},fieldName:this.config.field}).then((e=>e.body)),o.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}uploadByUrl(e){let t;this.config.uploader&&"function"==typeof this.config.uploader.uploadByUrl?(t=this.config.uploader.uploadByUrl(e),Do(t)||console.warn("Custom uploader method uploadByUrl should return a Promise")):t=Ro.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Ro.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((e=>e.body)),t.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}uploadByFile(e,{onPreview:t}){const o=new FileReader;let n;if(o.readAsDataURL(e),o.onload=e=>{t(e.target.result)},this.config.uploader&&"function"==typeof this.config.uploader.uploadByFile)n=this.config.uploader.uploadByFile(e),Do(n)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const t=new FormData;t.append(this.config.field,e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach((([e,o])=>{t.append(e,o)})),n=Ro.post({url:this.config.endpoints.byFile,data:t,type:Ro.contentType.JSON,headers:this.config.additionalRequestHeaders}).then((e=>e.body))}n.then((e=>{this.onUpload(e)})).catch((e=>{this.onError(e)}))}}class Ho{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:_o,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',title:"With border",toggle:!0},{name:"stretched",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',title:"Stretch image",toggle:!0},{name:"withBackground",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',title:"With background",toggle:!0}]}constructor({data:e,config:t,api:o,readOnly:n,block:i}){this.api=o,this.readOnly=n,this.block=i,this.config={endpoints:t.endpoints||"",additionalRequestData:t.additionalRequestData||{},additionalRequestHeaders:t.additionalRequestHeaders||{},field:t.field||"image",types:t.types||"image/*",captionPlaceholder:this.api.i18n.t(t.captionPlaceholder||"Caption"),buttonContent:t.buttonContent||"",uploader:t.uploader||void 0,actions:t.actions||[]},this.uploader=new jo({config:this.config,onUpload:e=>this.onUpload(e),onError:e=>this.uploadingFailed(e)}),this.ui=new Oo({api:o,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:e=>{this.ui.showPreloader(e)}})},readOnly:n}),this._data={},this.data=e}render(){return this.ui.render(this.data)}validate(e){return e.file&&e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return Ho.tunes.concat(this.config.actions).map((e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{"function"!=typeof e.action?this.tuneToggled(e.name):e.action(e.name)}})))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const t=e.detail.data;if(/^blob:/.test(t.src)){const e=await(await fetch(t.src)).blob();this.uploadFile(e);break}this.uploadUrl(t.src);break}case"pattern":{const t=e.detail.data;this.uploadUrl(t);break}case"file":{const t=e.detail.file;this.uploadFile(t);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),Ho.tunes.forEach((({name:t})=>{const o=typeof e[t]<"u"&&(!0===e[t]||"true"===e[t]);this.setTune(t,o)}))}get data(){return this._data}set image(e){this._data.file=e||{},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldn’t upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,t){this._data[e]=t,this.ui.applyTune(e,t),"stretched"===e&&Promise.resolve().then((()=>{this.block.stretched=t})).catch((e=>{console.error(e)}))}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:e=>{this.ui.showPreloader(e)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}var Po=o(26536),Fo=o.n(Po);class zo{constructor({api:e,data:t,config:o,block:n}){this.settings=[{name:"floatLeft",icon:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M952 792H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-632H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM608 660c8.8 0 16-7.2 16-16V380c0-8.8-7.2-16-16-16H96c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h512zM152 436h400v152H152V436zm552 210c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H712c-4.4 0-8 3.6-8 8v56zm8-204h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H712c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"></path></svg>',label:"",group:"align"},{name:"center",icon:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M952 792H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-632H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM848 660c8.8 0 16-7.2 16-16V380c0-8.8-7.2-16-16-16H176c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h672zM232 436h560v152H232V436z"></path></svg>',label:"",group:"align"},{name:"floatRight",icon:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M952 792H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-632H72c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h880c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-24 500c8.8 0 16-7.2 16-16V380c0-8.8-7.2-16-16-16H416c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h512zM472 436h400v152H472V436zM80 646c0 4.4 3.6 8 8 8h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H88c-4.4 0-8 3.6-8 8v56zm8-204h224c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H88c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8z"></path></svg>',label:"",group:"align"},{name:"sizeSmall",icon:'<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6V4H20V20H12V18H8V16H4V8H8V6H12ZM14 6H18V18H14V6ZM12 8H10V16H12V8ZM8 10V14H6V10H8Z" fill="currentColor"></path></svg>',label:"25%",group:"size"},{name:"sizeMiddle",icon:'<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6V4H20V20H12V18H8V16H4V8H8V6H12ZM14 6H18V18H14V6ZM12 8H10V16H12V8ZM8 10V14H6V10H8Z" fill="currentColor"></path></svg>',label:"50%",group:"size"},{name:"sizeLarge",icon:'<svg stroke="currentColor" fill="none" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6V4H20V20H12V18H8V16H4V8H8V6H12ZM14 6H18V18H14V6ZM12 8H10V16H12V8ZM8 10V14H6V10H8Z" fill="currentColor"></path></svg>',label:"75%",group:"size"},{name:"resize",icon:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"></path></svg>',label:"",group:"size"},{name:"crop",icon:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8l2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"></path></svg>',label:"",group:"size"}],this.api=e,this.block=n,this.config=o,this.data={floatLeft:void 0!==t&&void 0!==t.floatLeft&&t.floatLeft,floatRight:void 0!==t&&void 0!==t.floatRight&&t.floatRight,center:void 0!==t&&void 0!==t.center&&t.center,sizeSmall:void 0!==t&&void 0!==t.sizeSmall&&t.sizeSmall,sizeMiddle:void 0!==t&&void 0!==t.sizeMiddle&&t.sizeMiddle,sizeLarge:void 0!==t&&void 0!==t.sizeLarge&&t.sizeLarge,resize:void 0!==t&&void 0!==t.resize&&t.resize,resizeSize:void 0!==t&&void 0!==t.resizeSize?t.resizeSize:0,crop:void 0!==t&&void 0!==t.crop&&t.crop,cropperFrameHeight:void 0!==t&&void 0!==t.cropperFrameHeight?t.cropperFrameHeight:0,cropperFrameWidth:void 0!==t&&void 0!==t.cropperFrameWidth?t.cropperFrameWidth:0,cropperFrameLeft:void 0!==t&&void 0!==t.cropperFrameLeft?t.cropperFrameLeft:0,cropperFrameTop:void 0!==t&&void 0!==t.cropperFrameTop?t.cropperFrameTop:0,cropperImageHeight:void 0!==t&&void 0!==t.cropperImageHeight?t.cropperImageHeight:0,cropperImageWidth:void 0!==t&&void 0!==t.cropperImageWidth?t.cropperImageWidth:0,cropperInterface:void 0},this.wrapper=void 0,this.buttons=[]}static get isTune(){return!0}static get sanitize(){return{floatLeft:{},floatRight:{},center:{},sizeSmall:{},sizeMiddle:{},sizeLarge:{},resize:{},resizeSize:{},crop:{},cropperFrameHeight:{},cropperFrameWidth:{},cropperFrameLeft:{},cropperFrameTop:{},cropperImageHeight:{},cropperImageWidth:{},cropperInterface:{}}}get CSS(){return{wrapper:"cdx-image-tool-tune",button:this.api.styles.settingsButton,buttonActive:this.api.styles.settingsButtonActive,buttonModifier:this.api.styles.settingsButtonModifier,buttonModifierActive:this.api.styles.settingsButtonModifierActive,isFloatLeft:"cdx-image-tool-tune--floatLeft",isFloatRight:"cdx-image-tool-tune--floatRight",isCenter:"cdx-image-tool-tune--center",isSizeSmall:"cdx-image-tool-tune--sizeSmall",isSizeMiddle:"cdx-image-tool-tune--sizeMiddle",isSizeLarge:"cdx-image-tool-tune--sizeLarge",isResize:"cdx-image-tool-tune--resize",isCrop:"cdx-image-tool-tune--crop"}}get view(){return this.wrapper||(this.wrapper=this.createView()),this.wrapper}tuneClicked(e,t){e.preventDefault(),e.stopPropagation();let o=t.dataset.tune,n=this.settings.find((e=>e.name===o)).group;this.buttons.forEach((e=>{this.settings.find((t=>t.name===e.dataset.tune)).group===n&&e!==t&&e.classList.remove(this.CSS.buttonActive)})),t.classList.toggle(this.CSS.buttonActive),this.setTune(t.dataset.tune)}setTune(e){switch(e){case"floatLeft":this.data.floatLeft=!this.data.floatLeft,this.data.floatRight=!1,this.data.center=!1;break;case"floatRight":this.data.floatLeft=!1,this.data.floatRight=!this.data.floatRight,this.data.center=!1;break;case"center":this.data.center=!this.data.center,this.data.floatLeft=!1,this.data.floatRight=!1;break;case"sizeSmall":this.data.sizeSmall=!this.data.sizeSmall,this.data.sizeMiddle=!1,this.data.sizeLarge=!1,this.data.resize=!1,this.data.crop=!1;break;case"sizeMiddle":this.data.sizeSmall=!1,this.data.sizeMiddle=!this.data.sizeMiddle,this.data.sizeLarge=!1,this.data.resize=!1,this.data.crop=!1;break;case"sizeLarge":this.data.sizeSmall=!1,this.data.sizeMiddle=!1,this.data.sizeLarge=!this.data.sizeLarge,this.data.resize=!1,this.data.crop=!1;break;case"resize":this.data.sizeSmall=!1,this.data.sizeMiddle=!1,this.data.sizeLarge=!1,this.data.resize=!this.data.resize,this.data.crop=!1;break;case"crop":this.data.crop=!this.data.crop,this.data.sizeSmall=!1,this.data.sizeMiddle=!1,this.data.sizeLarge=!1,this.data.resize=!1,this.data.resizeSize=0;break;default:this.data.floatLeft=!1,this.data.floatRight=!1,this.data.sizeSmall=!1,this.data.sizeMiddle=!1,this.data.sizeLarge=!1,this.data.resize=!1,this.data.crop=!1}this.data.resize||(this.data.resizeSize=0),this.data.crop||(this.data.cropperFrameHeight=0,this.data.cropperFrameWidth=0,this.data.cropperFrameLeft=0,this.data.cropperFrameTop=0,this.data.cropperImageHeight=0,this.data.cropperImageWidth=0);const t=this.block.holder.querySelector(".ce-block__content");this.apply(t),this.block.dispatchChange()}apply(e){this.data.floatLeft?e.classList.add(this.CSS.isFloatLeft):e.classList.remove(this.CSS.isFloatLeft),this.data.floatRight?e.classList.add(this.CSS.isFloatRight):e.classList.remove(this.CSS.isFloatRight),this.data.center?e.classList.add(this.CSS.isCenter):e.classList.remove(this.CSS.isCenter),this.data.sizeSmall?e.classList.add(this.CSS.isSizeSmall):e.classList.remove(this.CSS.isSizeSmall),this.data.sizeMiddle?e.classList.add(this.CSS.isSizeMiddle):e.classList.remove(this.CSS.isSizeMiddle),this.data.sizeLarge?e.classList.add(this.CSS.isSizeLarge):e.classList.remove(this.CSS.isSizeLarge),this.data.resize?(e.classList.add(this.CSS.isResize),this.data.resizeSize>0&&(e.getElementsByClassName("cdx-block")[0].style.width=this.data.resizeSize+"px"),this.resize(e)):(e.classList.remove(this.CSS.isResize),this.unresize(e)),this.data.crop?(e.classList.add(this.CSS.isCrop),this.crop(e),this.data.cropperFrameHeight>0&&this.data.cropperFrameWidth>0&&this.applyCrop(e)):(e.classList.remove(this.CSS.isCrop),this.uncrop(e))}crop(e){if(this.api.readOnly.isEnabled)return;const t=e.getElementsByClassName("image-tool__image")[0],o=document.createElement("div");o.classList.add("crop-btn","btn-crop-action"),o.innerHTML="Crop",o.addEventListener("click",(n=>{t.removeChild(o),this.appendCrop(e)})),t.appendChild(o)}appendCrop(e){if(this.api.readOnly.isEnabled)return;this.uncrop(e);const t=e.getElementsByClassName("cdx-block")[0].getElementsByTagName("img")[0];e.getElementsByClassName("cdx-block")[0].classList.add("isCropping"),this.cropperInterface=new(Fo())(t,{crop(e){}});const o=document.createElement("div");o.classList.add("crop-save","btn-crop-action"),o.innerHTML="Apply",o.addEventListener("click",(t=>{this.data.cropperFrameHeight=this.cropperInterface.getCropBoxData().height,this.data.cropperFrameWidth=this.cropperInterface.getCropBoxData().width,this.data.cropperFrameLeft=this.cropperInterface.getCanvasData().left-this.cropperInterface.getCropBoxData().left,this.data.cropperFrameTop=this.cropperInterface.getCanvasData().top-this.cropperInterface.getCropBoxData().top,this.data.cropperImageHeight=this.cropperInterface.getImageData().height,this.data.cropperImageWidth=this.cropperInterface.getImageData().width,this.applyCrop(e)})),e.getElementsByClassName("image-tool__image")[0].appendChild(o),e.classList.add("isCropping")}applyCrop(e){var t=e.getElementsByClassName("cdx-block")[0];if(t){t.style.minWidth=this.data.cropperFrameWidth+"px",t.style.maxWidth=this.data.cropperFrameWidth+"px";const n=t.getElementsByTagName("img")[0];n.style.width=this.data.cropperImageWidth+"px",n.style.height=this.data.cropperImageHeight+"px";var o=e.getElementsByClassName("image-tool__image")[0];o.style.width=this.data.cropperFrameWidth+"px",o.style.height=this.data.cropperFrameHeight+"px",(i=o.getElementsByTagName("img")[0])&&(i.style.left=this.data.cropperFrameLeft+"px",i.style.top=this.data.cropperFrameTop+"px",i.classList.add("isCropped")),t.classList.remove("isCropping");const r=e.getElementsByClassName("btn-crop-action")[0];r&&o.removeChild(r)}this.cropperInterface&&this.cropperInterface.destroy();const n=document.createElement("div");var i;n.classList.add("crop-btn","btn-crop-action"),n.innerHTML="Crop",(i=e.getElementsByClassName("image-tool__image")[0])&&(n.addEventListener("click",(t=>{i.removeChild(n),this.appendCrop(e)})),i.appendChild(n)),e.classList.remove("isCropping"),this.block.dispatchChange()}uncrop(e){if(this.api.readOnly.isEnabled)return;var t=e.getElementsByClassName("image-tool__image")[0];const o=e.getElementsByClassName("btn-crop-action")[0];o&&t&&t.removeChild(o);const n=e.getElementsByClassName("btn-crop-action")[0];n&&t&&t.removeChild(n);var i,r=e.getElementsByClassName("cdx-block")[0];r&&((i=r.getElementsByTagName("img")[0])&&i.classList.remove("isCropped"),r.classList.remove("isCropping"),r.style.minWidth="",r.style.maxWidth="");t&&(t.style.width="",t.style.height="",(i=t.getElementsByTagName("img")[0])&&(i.style.left="",i.style.top="",i.style.width="",i.style.height=""));e.classList.remove("isCropping"),this.cropperInterface&&this.cropperInterface.destroy(),this.data.cropperFrameHeight=0,this.data.cropperFrameWidth=0,this.data.cropperFrameLeft=0,this.data.cropperFrameTop=0,this.data.cropperImageHeight=0,this.data.cropperImageWidth=0}resize(e){const t=document.createElement("div");t.classList.add("resizable");const o=document.createElement("div");o.classList.add("resizers");const n=document.createElement("div");n.classList.add("resizer","top-left"),n.addEventListener("mousedown",(t=>{this.resizeClick(e.getElementsByClassName("cdx-block")[0],n,t)}));const i=document.createElement("div");i.classList.add("resizer","top-right"),i.addEventListener("mousedown",(t=>{this.resizeClick(e.getElementsByClassName("cdx-block")[0],i,t)}));const r=document.createElement("div");r.classList.add("resizer","bottom-left"),r.addEventListener("mousedown",(t=>{this.resizeClick(e.getElementsByClassName("cdx-block")[0],r,t)}));const s=document.createElement("div");s.classList.add("resizer","bottom-right"),s.addEventListener("mousedown",(t=>{this.resizeClick(e.getElementsByClassName("cdx-block")[0],s,t)})),o.appendChild(n),o.appendChild(i),o.appendChild(r),o.appendChild(s),t.appendChild(o),e.getElementsByClassName("cdx-block")[0].appendChild(t)}resizeClick(e,t,o){let n=0,i=0,r=0,s=0;const a=t=>{const o=t.clientX-n,i=(t.clientY,r+o);i>50&&(e.style.width=i+"px")},l=()=>{let t=parseInt(document.defaultView.getComputedStyle(e).width,10);t>0&&(this.data.resizeSize=t),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",l),this.block.dispatchChange()};document.addEventListener("mousemove",a),document.addEventListener("mouseup",l),n=o.clientX,i=o.clientY,r=parseInt(document.defaultView.getComputedStyle(e).width,10),s=parseInt(document.defaultView.getComputedStyle(e).height,10)}unresize(e){const t=e.getElementsByClassName("resizable")[0];t&&e.getElementsByClassName("cdx-block")[0].removeChild(t),e.getElementsByClassName("cdx-block")[0].style.width="auto"}unwrap(e){return this.buttons.forEach((e=>{e.classList.remove(this.CSS.buttonActive)})),e.classList.remove(this.CSS.isFloatLeft),e.classList.remove(this.CSS.isFloatRight),e.classList.remove(this.CSS.isCenter),e.classList.remove(this.CSS.isSizeSmall),e.classList.remove(this.CSS.isSizeMiddle),e.classList.remove(this.CSS.isSizeLarge),e.classList.remove(this.CSS.isResize),e.classList.remove(this.CSS.isCrop),e.getElementsByClassName("cdx-block")[0].getElementsByTagName("img")[0].classList.remove("isCropped"),e.getElementsByClassName("cdx-block")[0].classList.remove("isCropping"),e.getElementsByClassName("cdx-block")[0].style.minWidth="",e.getElementsByClassName("cdx-block")[0].style.maxWidth="",e.getElementsByClassName("image-tool__image")[0].style.width="",e.getElementsByClassName("image-tool__image")[0].style.height="",e.getElementsByClassName("image-tool__image")[0].getElementsByTagName("img")[0].style.left="",e.getElementsByClassName("image-tool__image")[0].getElementsByTagName("img")[0].style.top="",e.getElementsByClassName("image-tool__image")[0].getElementsByTagName("img")[0].style.width="",e.getElementsByClassName("image-tool__image")[0].getElementsByTagName("img")[0].style.height="",this.unresize(e),this.uncrop(e),this.cropperInterface&&this.cropperInterface.destroy(),this.data.cropperFrameHeight=0,this.data.cropperFrameWidth=0,this.data.cropperFrameLeft=0,this.data.cropperFrameTop=0,this.data.cropperImageHeight=0,this.data.cropperImageWidth=0,e}save(){return this.data}wrap(e){return this.wrapper||(this.wrapper=this.createView()),this.apply(e),e}createView(){this.buttons=this.settings.map((e=>{const t=document.createElement("div"),o=document.createElement("span"),n=document.createElement("span");return t.classList.add(this.CSS.button),n.style.fontSize="8px",o.innerHTML=e.icon,n.innerHTML=e.label,t.appendChild(o),t.appendChild(n),t.dataset.tune=e.name,t.title=e.label,t.addEventListener("click",(e=>this.tuneClicked(e,t))),t}));const e=document.createElement("div");return this.buttons.forEach((t=>{e.appendChild(t)})),e.classList.add(this.CSS.wrapper),e}isTuneActive(e){return!!this.data[e]}render(){return this.buttons.forEach((e=>{e.classList.toggle(this.CSS.buttonActive,this.isTuneActive(e.dataset.tune))})),this.view}destroy(){this.wrapper=null,this.buttons=null}}var Uo=o(37588);function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Wo(){Wo=function(){return t};var e,t={},o=Object.prototype,n=o.hasOwnProperty,i=Object.defineProperty||function(e,t,o){e[t]=o.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,o){return e[t]=o}}function d(e,t,o,n){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),a=new _(n||[]);return i(s,"_invoke",{value:T(e,o,a)}),s}function h(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var u="suspendedStart",p="suspendedYield",f="executing",g="completed",m={};function v(){}function b(){}function y(){}var w={};c(w,s,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(M([])));k&&k!==o&&n.call(k,s)&&(w=k);var C=y.prototype=v.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(i,r,s,a){var l=h(e[i],e,r);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==qo(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(d).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,a)}))}a(l.arg)}var r;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return r=r?r.then(i,i):i()}})}function T(t,o,n){var i=u;return function(r,s){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===r)throw s;return{value:e,done:!0}}for(n.method=r,n.arg=s;;){var a=n.delegate;if(a){var l=A(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var c=h(t,o,n);if("normal"===c.type){if(i=n.done?g:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function A(t,o){var n=o.method,i=t.iterator[n];if(i===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,A(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=h(i,t.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,m;var s=r.arg;return s?s.done?(o[t.resultName]=s.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,m):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function B(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(B,this),this.reset(!0)}function M(t){if(t||""===t){var o=t[s];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function o(){for(;++i<t.length;)if(n.call(t,i))return o.value=t[i],o.done=!1,o;return o.value=e,o.done=!0,o};return r.next=r}}throw new TypeError(qo(t)+" is not iterable")}return b.prototype=y,i(C,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:b,configurable:!0}),b.displayName=c(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,o,n,i,r){void 0===r&&(r=Promise);var s=new E(d(e,o,n,i),r);return t.isGeneratorFunction(o)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(C),c(C,l,"Generator"),c(C,s,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=M,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function i(n,i){return a.type="throw",a.arg=t,o.next=n,i&&(o.method="next",o.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),L(o),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;L(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:M(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function $o(e,t,o,n,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void o(e)}a.done?t(l):Promise.resolve(l).then(n,i)}function Vo(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n,i){var r=Uo("#"+t)[0]||void 0;if(null!=r){r.innerHTML="";n={};r&&JSON.parse(r.getAttribute("data-editor-options"));var s=r.getAttribute("data-editor-upload-file")||void 0,a=r.getAttribute("data-editor-upload-url")||void 0,l=r.getAttribute("data-editor-endpoint-user")||void 0,c=r.getAttribute("data-editor-endpoint-thread")||void 0,d=r.getAttribute("data-editor-endpoint-keyword")||void 0,h=function(e){try{return JSON.parse(e)}catch(e){return}}(o);h&&Object.assign(n,{data:h});var u,p,f=function(t){null!=e&&Uo(e).val(JSON.stringify(t))};Object.assign(n,{readOnly:null==e,tools:{warning:jt,header:{class:Ao,inlineToolbar:["link","mention"]},paragraph:{class:Bo,inlineToolbar:!0},mention:{class:Lo,config:{typingDelay:1e3,endpoints:{arobase:l,hashtag:d,dollar:c}}},imageTune:zo,image:{class:Ho,tunes:["imageTune"],config:{accept:"image/*",endpoints:{byFile:s,byUrl:a}}},alert:Zt(),underline:Co(),code:Eo(),marker:{class:wo,shortcut:"CMD+SHIFT+M"},list:{class:Wt,inlineToolbar:!0},quote:{class:To,inlineToolbar:!0},checklist:{class:Gt,inlineToolbar:!0},table:{class:yo},inlineCode:{class:xo,shortcut:"CMD+SHIFT+I"},embed:Dt}}),Object.assign(n,{holder:t,onReady:function(){null==h&&""!=o&&g.blocks.renderFromHTML(o)},onChange:(u=Wo().mark((function e(t,o){return Wo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.readOnly){e.next=2;break}return e.abrupt("return");case 2:g.save().then(f);case 3:case"end":return e.stop()}}),e)})),p=function(){var e=this,t=arguments;return new Promise((function(o,n){var i=u.apply(e,t);function r(e){$o(i,o,n,r,s,"next",e)}function s(e){$o(i,o,n,r,s,"throw",e)}r(void 0)}))},function(e,t){return p.apply(this,arguments)})});var g=new Ot(n);null!==(i=n.readOnly)&&void 0!==i&&i&&Uo("#"+t).addClass("read-only")}}(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}Uo(window).off("DOMContentLoaded.edjs"),Uo(window).on("DOMContentLoaded.edjs",(function(){Uo("[data-edjs]").each((function(){var e;Uo(this).removeAttr("edjs"),Uo(this).attr("id",null!==(e=Uo(this).attr("id"))&&void 0!==e?e:"editorjs-"+function(e){for(var t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;)t+=o.charAt(Math.floor(62*Math.random())),n+=1;return t}(10)),Vo(void 0,Uo(this).attr("id"),this.dataset.edjs)}))})),window.addEventListener("load.form_type",(function(e){document.querySelectorAll("[data-editor-field]").forEach((function(e){var t=e.getAttribute("data-editor-field");Vo(Uo("#"+t),t+"_editor",Uo("#"+t).val())}))}))})()})();