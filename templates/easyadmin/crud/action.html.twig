{# @var ea \EasyCorp\Bundle\EasyAdminBundle\Context\AdminContext #}
{# @var action \EasyCorp\Bundle\EasyAdminBundle\Dto\ActionDto #}
{# @var entity \EasyCorp\Bundle\EasyAdminBundle\Dto\EntityDto #}
{% if 'a' == action.htmlElement %}
    <a class="{{ isIncludedInDropdown|default(false) ? 'dropdown-item' }} {{ action.cssClass }}"
       href="{{ action.linkUrl }}"
       {% for name, value in action.htmlAttributes %}{{ name }}="{{ value|e('html_attr') }}" {% endfor %}>
        {%- if action.icon %}<i class="action-icon {{ action.icon }}"></i> {% endif -%}
        {%- if action.label is not empty -%}{{ action.label }}{%- endif -%}
    </a>
{% elseif 'button' == action.htmlElement %}
    <button class="{{ action.cssClass }}" {% for name, value in action.htmlAttributes %}{{ name }}="{{ value|e('html_attr') }}" {% endfor %}>
        <span class="btn-label">
            {%- if action.icon %}<i class="action-icon {{ action.icon }}"></i> {% endif -%}
            {%- if action.label is not empty -%}{{ action.label }}{%- endif -%}
        </span>
    </button>
{% elseif 'ul' == action.htmlElement %}

<div class="btn-group">
    <a class="{{ action.cssClass }}" href="{{ action.linkUrl }}" {% for name, value in action.htmlAttributes %}{{ name }}="{{ value|e('html_attr') }}" {% endfor %}>
        {%- if action.icon %}<i class="action-icon {{ action.icon }}"></i>{% endif -%}
        {%- if action.label is not empty -%}{{ action.label }}{%- endif -%}
    </a>

    {% if action.actionList|length > 0 %}
    <button type="button" class="btn btn-lg btn-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden"></span>
    </button>
    <ul class="dropdown-menu">
        {% for action in action.actionList|length %}
            
            {% if action.htmlElement == "ul" %}

                <li><hr class="dropdown-divider"></li>

                {% for subAction in action.actionList|length %}
                <li><a class="{{ isIncludedInDropdown|default(false) ? 'dropdown-item' }} {{ subAction.cssClass }}"
                    href="{{subAction.linkUrl}}"
                    {% for name, value in subAction.htmlAttributes %}{{ name }}="{{ value|e('html_attr') }}" {% endfor %}>
                    {%- if subAction.icon %}<i class="action-icon {{ subAction.icon }}"></i> {% endif -%}
                    {%- if subAction.label is not empty -%}{{ subAction.label }}{%- endif -%}
                </a></li>
                {% endfor %}

            {% else %}

                <li>{{ include(action.templatePath, { action: action }, with_context = false) }}</li>

            {% endif %}

        {% endfor %}
    </ul>
    {% endif %}
</div>

{% endif %}
