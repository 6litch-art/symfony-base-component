{% for tag in tags %}
    {%- set preload        = tag.preload ?? false -%}
    {%- set defer          = tag.defer ?? false -%}
    {%- set value          = tag.value ?? null -%}
    {%- set packageName    = tag.packageName ?? null -%}
    {%- set nopush         = tag.nopush ?? false -%}
    {%- set htmlAttributes = tag.htmlAttributes ?? [] -%}
    {% if nopush %}
        {%- set htmlAttributes = htmlAttributes|merge({'nopush': nopush}) -%}
    {% endif %}

    {% if preload or defer %}
        {%- set htmlAttributes = htmlAttributes|merge({'as': 'style'}) -%}
        {{ ('<link rel="preload" href="'~ asset(value, packageName) ~ '" ' ~ html_attributes(htmlAttributes) ~ ">")|raw }}
    {% endif %}

    {{ ('<link rel="stylesheet" href="'~ asset(value, packageName) ~ '" ' ~ html_attributes(htmlAttributes) ~ ">")|raw }}
{% endfor %}
